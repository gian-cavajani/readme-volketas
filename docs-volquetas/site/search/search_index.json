{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Proyecto","text":"<p>Proyecto de gestor de volquetas en node.js con postgressql.</p> <p>Repositorio del proyecto en node Repositorio de la documentacion</p>"},{"location":"#relacionado","title":"Relacionado:","text":"<p>Repositorio del Proyecto frontend en Reactjs: Frontend</p>"},{"location":"#librerias-npm-utilizadas","title":"Librerias NPM utilizadas","text":""},{"location":"#librerias-de-produccion","title":"Librerias de Produccion:","text":"<ul> <li>bcryptjs: <code>version: 2.4.3</code></li> <li>cors: <code>version: 2.8.5</code></li> <li>dotenv: <code>version: 16.4.5</code></li> <li>express: <code>version: 4.19.2</code></li> <li>jsonwebtoken: <code>version: 9.0.2</code></li> <li>pg: <code>version: 8.11.5</code></li> <li>sequelize: <code>version: 6.37.3</code></li> <li>validator: <code>version: 13.12.0</code></li> </ul>"},{"location":"#librerias-de-desarrollo","title":"Librerias de Desarrollo:","text":"<ul> <li>nodemon: <code>version 3.1.1</code></li> </ul>"},{"location":"#variables-de-entorno","title":"Variables de Entorno","text":"<p>Para ejecutar este proyecto, es necesario agregar las siguientes variables al archivo <code>.env</code>:</p> <p>PORT: Especifica el puerto en el que est\u00e1 corriendo el servidor.</p> <p>Ejemplo: <code>PORT=3000</code></p> <p>SECRETO: Secreto utilizado para generar el hash de las contrase\u00f1as. Es una cadena de texto que se usa para la encriptaci\u00f3n y debe mantenerse segura</p> <p>Ejemplo: <code>SECRETO=miSecretoSuperSeguro</code></p> <p>DB_USER: Usuario de la base de datos. Es el nombre de usuario que se usa para conectarse a la base de datos.</p> <p>Ejemplo: <code>DB_USER=miUsuarioBD</code></p> <p>DB_PWD: Contrase\u00f1a de la base de datos. Es la contrase\u00f1a asociada con el usuario de la base de datos.</p> <p>Ejemplo: <code>DB_PWD=miContrase\u00f1aSegura</code></p> <p>DB_HOST: Host de la base de datos. Es la direcci\u00f3n del servidor de la base de datos.</p> <p>Ejemplo: <code>DB_HOST=localhost</code></p> <p>DB_NAME: Nombre de la base de datos. Es el nombre de la base de datos a la que se conectar\u00e1 la aplicaci\u00f3n.</p> <p>Ejemplo: <code>DB_NAME=nombreDeMiBaseDeDatos</code></p>"},{"location":"#ejemplo-de-archivo-env","title":"Ejemplo de archivo <code>.env</code>","text":"<p>A continuaci\u00f3n se muestra un ejemplo de c\u00f3mo deber\u00eda verse el archivo <code>.env</code> con las variables de entorno configuradas:</p> <pre><code>PORT=3000\nSECRETO=miSecretoSuperSeguro\nDB_USER=miUsuarioBD\nDB_PWD=miContrase\u00f1aSegura\nDB_HOST=localhost\nDB_NAME=nombreDeMiBaseDeDatos\n</code></pre>"},{"location":"#consideraciones-de-seguridad","title":"Consideraciones de Seguridad","text":"<p>Nos aseguramos de agregar el archivo .env al archivo .gitignore para evitar que las credenciales y secretos sean expuestos en el repositorio de Github.</p> <pre><code>.env\n</code></pre>"},{"location":"Manual-De-Deploy/00-Introduccion/","title":"Manual de Deploy","text":"<p>Este manual consta de 11 secciones:</p> <ol> <li>Crear Instancias</li> <li>Configurar Security-Rules</li> <li>Configurar IPs-Elasticas</li> <li>Configurar Putty</li> <li>Comprar y Configurar-Dominios</li> <li>Configuracion inicial-del-servidor</li> <li>Configurar NGINX</li> <li>Deploy Build React</li> <li>Configurar Instancia de Base-de-datos</li> <li>Deploy Backend</li> <li>Configurar Certificados</li> </ol>"},{"location":"Manual-De-Deploy/01-Crear-Instancias/","title":"01 Crear Instancias","text":""},{"location":"Manual-De-Deploy/01-Crear-Instancias/#ingreso-a-aws-academy","title":"Ingreso a AWS Academy","text":"<p>En nuestro caso utilizaremos el AWS Learner labs con los 100USD de credito que la facultad ORT nos brinda, para configurar nuestro entorno de produccion.</p> <ol> <li>Como paso Inicial se debe ingresar a https://www.awsacademy.com/vforcesite/LMS_Login, Alli se debera seleccionar el boton de \"Student Login\".     </li> <li>Seguidamente se utilizaran las credenciales de acceso     </li> <li>Una vez dentro se deber\u00e1 ir a la secci\u00f3n de Courses -&gt; Modules -&gt; AWS Academy Learner Lab -&gt; Launch Academy Learner Lab</li> <li>Aqu\u00ed cliqueamos en \"Start Lab\".     </li> <li>Al cliquear en \"Start Lab\" el icono Rojo se deber\u00eda transformar a verde.     </li> <li>Cliqueamos en \"AWS\" y nos redirigir\u00e1 a la pagina de AWS.</li> </ol>"},{"location":"Manual-De-Deploy/01-Crear-Instancias/#crear-instancias-ec2","title":"Crear Instancias EC2","text":"<ol> <li>Una vez dentro de la consola de AWS. Nos dirigimos a la barra de b\u00fasqueda y buscamos \"EC2\", hacemos click en la misma.     </li> <li>Cuando el Panel de EC2 cargue, seleccionamos \"Lanzar la instancia\", lo cual entrara en el panel de creacion de una nueva instancia.     </li> </ol> <p>Aca tenemos varias opciones, iremos una por una para no dejar lugar a dudas o especulaciones: </p> <ol> <li>En el lado derecho tenemos un panel de \"Resumen\" que de forma din\u00e1mica ira cambiando a medida que modificamos las opciones.</li> <li>En el lado izquierdo tenemos las opciones en si mismas.</li> <li>Como primera opci\u00f3n tenemos \"Nombre y Etiquetas\", esto es un nombre identificador del servidor. En mi caso le puse el nombre \"Ejemplo-Deploy\"     </li> <li>No seleccione tags/etiquetas ya que a mi parecer con el nombre de la instancia es suficiente para poder identificar el servidor de manera efectiva. Pero en caso de tener muchos servidores se podr\u00edan agrupar con diferentes tags vinculadas.</li> <li>En la siguiente opci\u00f3n \"Im\u00e1genes de aplicaciones y sistemas operativos (Imagen de m\u00e1quina de Amazon)\", Podremos elegir el tipo de Sistema operativo que sera utilizado en nuestra instancia. Tiene un buscador en caso de que el SO de     preferencia no este entre los predeterminados. En mi caso eleg\u00ed Amazon Linux.     Este panel tambi\u00e9n nos brinda mas informaci\u00f3n acerca del tipo de SO y especificaciones.     </li> <li>En la siguiente opci\u00f3n tenemos \"Tipo de Instancia\", para la version gratuita de AWS solo la t2.micro esta disponible, b\u00e1sicamente tiene 1 Core de CPU, 1GB de Memoria y nos da la informaci\u00f3n de el estimado del gasto por hora. Pero en caso de tener la version completa de AWS se podr\u00eda elegir un sistema con mejores especificaciones.     </li> <li>En \"Par de claves (inicio de sesion)\" podremos crear o utilizar un par de claves ya existente para acceder remotamente a la instancia.<ol> <li>En nuestro caso clickeamos en \"Crear un nuevo par de claves\"</li> <li>Nos generara el siguiente panel:</li> <li>Aqui elegimos un nombre descriptivo para el par, en mi caso \"llaves-deploy\"</li> <li>\"RSA\" como tipo de algoritmo para la creacion de las keys.</li> <li>Y en mi caso .ppk ya que utilizo putty para ingresar remotamente al servidor.</li> <li>Por ultimo cliqueamos en \"Crear Par de Claves\"</li> <li>Nos generara un archivo descargable(clave privada-private key) que guardaremos en algun directorio seguro para utilizar luego al momento de conectarnos</li> </ol> </li> <li>La siguiente opcion refiere a la configuracion de red, en principio creamos un grupo nuevo con todo chequeado, luego haremos la configuracion detallada de las reglas de entrada/salida una vez la instancia se haya creado. Esto es una suerte de reglas de firewall que podremos configurar.</li> <li>El siguiente panel refiere al \"Almacenamiento\"     <ol> <li>Aqu\u00ed podremos elegir el tipo de disco duro, la capacidad, la velocidad de escritura, si queremos cifrarlo/encriptarlo y si queremos eliminarlo al eliminar la instancia o no(esto es util en caso de querer migrar el disco duro a otra instancia).</li> <li>En nuestro caso dejamos todo por default, es un SSD de 20GB sin encriptar(por defecto 8GB).</li> <li>Tambien podemos agregar otro volumen en caso de querer otro disco.</li> </ol> </li> <li>Por ultimo tenemos \"Detalles Avanzados\", nosotros dejaremos todo en default, ya que ninguna de las opciones entra en el scope de nuestras necesidades.</li> <li>Por ultimo verificamos en el panel de \"Resumen\" que todo sea como lo deseamos y cliqueamos en \"Lanzar Instancia\".</li> <li>Esto tomara unos segundos pero al finalizar deber\u00edamos poder ver un recuadro verde con un aviso de que se inicio correctamente.</li> <li>Podremos hacer una verificaci\u00f3n adicional en el panel de instancias, cliqueando en \"Ver todas las Instancias\":</li> <li>Como se puede observar, tenemos 4 instancias y la ultima es la que acabamos de crear, la cual esta en estado \"Inicializando\" esto puede tomar unos minutos ya que se esta configurando la Instancia.</li> <li>Para las siguientes configuraciones del manual estaremos utilizando las otras tres instancias que en nuestro caso refieren al proyecto en Node.js el \"Backend\", el proyecto React el \"Frontend\" y a la Base de datos en postgres.</li> </ol>"},{"location":"Manual-De-Deploy/02-Configurar-Security-Rules/","title":"02 Configurar Security Rules","text":"<p>Pasaremos a demostrar como crear Security Rules para las distintas instancias.</p>"},{"location":"Manual-De-Deploy/02-Configurar-Security-Rules/#crear-nuevo-grupo-de-seguridad","title":"Crear nuevo Grupo de Seguridad","text":"<p>En el panel de instancia podemos ver los detalles de los grupos de seguridad configurados para esa instancia. Esta instancia ya tiene un Grupo de seguridad configurado con muchas reglas de entrada/salida, a continuaci\u00f3n demostraremos como asignar estas reglas y su razon.</p> <ol> <li>En la imagen de arriba se puede observar un panel a la izquierda donde dice \"Red y seguridad\" y debajo \"Security Groups\" all\u00ed es donde deberemos clickear para configurar las reglas de entrada. Tambien debemos recordar la IPV4 publica ya que la estaremos usando para validar los cambios. Para la demostraci\u00f3n de funcionamiento de este manual, luego de tomar la captura desvincule el grupo de seguridad de la IP.     En este caso: 18.208.241.74 es una IP el\u00e1stica por lo que estamos seguros al guardar y utilizar esta IP ya que no va a cambiar. Despu\u00e9s de configurar los security groups Configuraremos las IP elasticas.<ul> <li>la URL http://18.208.241.74/api llama a un m\u00e9todo GET que tiene devuelve una respuesta con un mensaje que viene del servidor donde nos dice en que puerto corre el entorno de desarrollo. Como se ve en la imagen de abajo esta url no es alcanzable. Esto es porque desactivamos el bypass del firewall para el puerto 80(HTTP) y el 443(HTTPS) en las reglas de entrada. A continuaci\u00f3n demostraremos como crear un nuevo grupo para activar la conectividad.     </li> </ul> </li> <li>Una vez en el panel de \"Grupos De Seguridad\" clickeamos en \"Crear grupo de seguridad\". Ignorar los grupos ya creados.</li> <li>Aqui tenemos varias opciones. La primera son los \"Detalles basicos\". <ul> <li>Elegimos un nombre descriptivo que podamos referenciar luego, y una descripcion (opcional), en la VPC elegimos la predeterminada.</li> </ul> </li> <li>Ahora tenemos que agregar las \"Reglas de entrada\", para agregar una nueva cliqueamos en \"Agregar Regla\".</li> <li>Como primera regla quiero permitir el trafico entrante por el puerto 80 el cual es el predeterminado para el protocolo HTTP.</li> <li>Ademas elegimos los IP permitidos para llegar al puerto HTTP, en nuestro caso permitimos todos los IP. Podemos observar que debajo de todo nos aparece un aviso de que todos los IP pueden acceder y que no es recomendado. Pero a nosotros no nos interesa ya que tenemos otro tipo de validaciones de seguridad en nuestra aplicacion.</li> <li>Por ultimo agregamos una descripcion (opcional) que sirve de referencia.</li> <li>Siguiente a esto voy a agregar todos los puertos de entrada necesarios para mi instancia Backend.</li> <li>Ahora para las reglas de salida configuraremos a donde el servidor puede llegar. Las opciones son las mismas. Asi que pasare a agregar el puerto 5432 que es el puerto de la base de datos postgresql. Ya hay una regla predefinida como PostreSQL pero si pusieramos TCP 5432 seria lo mismo(a modo informativo lo muestro en la imagen pero luego lo voy a borrar y solo voy a dejar uno).</li> <li>Por ultimo agregariamos Etiquetas es opcional pero lo voy a hacer porque son utiles para referenciar.</li> <li>Cliqueamos en \"Crear grupo de seguridad\" y nos deberia mostrar una pantalla como la siguiente:</li> </ol>"},{"location":"Manual-De-Deploy/02-Configurar-Security-Rules/#vincular-grupo-de-seguridad-a-la-instancia","title":"Vincular grupo de seguridad a la instancia","text":"<ol> <li>Para vincular el grupo de seguridad con nuestra instancia backend nos dirigimos a la pestana de \"Instancias\"</li> <li>Seleccionamos la instancia con click derecho y paso seguido cliqueamos \"Seguridad\"-&gt; \"Cambiar Grupos de seguridad\"</li> <li>Al cargar esta pestana podemos ver que no tenemos grupos asociados.     </li> <li>Para cambiar esto vamos al buscador y seleccionamos el grupo de seguridad recien creado (Manual-Deploy) y \"Agregar grupo de seguridad\".     </li> <li>Por ultimo clickeamos en \"Guardar\"</li> <li>Para validar los cambios vamos a la pestana de instancias nuevamente y chequeamos las reglas de entrada/salida. Como se puede observar las reglas se guardaron correctamente y quedaron asociadas a la instancia: </li> <li>Ahora debemos validar que el puerto 80/443 sean alcanzables para ello volvemos a http://18.208.241.74/api y https://api.volquetas/api ambos puertos estan funcionando correctamente:      </li> </ol>"},{"location":"Manual-De-Deploy/03-Configurar-IPs-Elasticas/","title":"03 Configurar IPs Elasticas","text":""},{"location":"Manual-De-Deploy/03-Configurar-IPs-Elasticas/#1-asignar-una-ip-elastica","title":"1. Asignar una IP El\u00e1stica","text":"<p>Primero, se necesita asignar una IP el\u00e1stica a tu cuenta de AWS.</p> <ol> <li>Iniciar sesi\u00f3n en la Consola de administraci\u00f3n de AWS y abrir el servicio EC2.</li> <li>En el panel de navegaci\u00f3n de la izquierda, seleccionar \"Direcciones IP el\u00e1sticas\". </li> <li>Hacer clic en \"Asignar nueva direcci\u00f3n IP el\u00e1stica\". </li> <li>Seleccionar \"Asignar\" para obtener una nueva IP el\u00e1stica.<ol> <li>En la secci\u00f3n de \"Configuraciones de la direcci\u00f3n IP el\u00e1stica\": Dejar todas las opciones en default.</li> <li>En \"Etiquetas\": opcionalmente poner un nombre descriptivo para referenciar la IP y luego poder asociarla mas f\u00e1cilmente.     </li> </ol> </li> </ol>"},{"location":"Manual-De-Deploy/03-Configurar-IPs-Elasticas/#2-asociar-la-ip-elastica-a-la-instancia-ec2","title":"2. Asociar la IP El\u00e1stica a la Instancia EC2","text":"<p>Una vez que creadas la IP el\u00e1sticas, debemos asociarla a las instancias EC2.</p> <ol> <li> <p>En el Panel de Direcciones IP el\u00e1sticas, hacer clic en \"Asociar direcci\u00f3n IP el\u00e1stica\". </p> </li> <li> <p>En el campo \"Instancia\", selecciona la instancia EC2 a la que deseas asociar la IP. </p> </li> <li> <p>Hacer clic en \"Asociar\".</p> </li> </ol>"},{"location":"Manual-De-Deploy/03-Configurar-IPs-Elasticas/#verificacion","title":"Verificaci\u00f3n:","text":"<ol> <li> <p>En la pesta\u00f1a de Instancias se puede observar las IP el\u00e1sticas configuradas:     </p> </li> <li> <p>Ingresar a la instancia desde la IP El\u00e1stica:</p> </li> </ol> <p></p>"},{"location":"Manual-De-Deploy/04-Configurar-Putty/","title":"04 Configurar Putty","text":"<p>Personalmente(Gianluca) uso Putty en el trabajo por lo que estoy acostumbrado a su funcionamiento. Por esto y por las ventajas que ofrece es que voy a utilizar Putty para conectarme remotamente a las instancias.</p>"},{"location":"Manual-De-Deploy/04-Configurar-Putty/#instalar-putty","title":"Instalar Putty","text":"<ol> <li>Para instalar putty en windows que es mi sistema operativo(Si usaramos linux podemos conectarnos desde cualquier terminal con el comando ssh) debemos ir a https://www.putty.org/ donde podremos descargar el cliente.</li> <li>Nos lleva a esta pagina de descargas y elegimos la misma para nuestra arquitectura, en mi caso 64bit x86</li> <li>Una vez descargado abrimos el instalador .msi e instalamos putty. Como se demuestra a continuaci\u00f3n.</li> <li>Cliqueamos Next     </li> <li>Elegimos carpeta y Next     </li> <li>Install     </li> <li>Finish     </li> </ol>"},{"location":"Manual-De-Deploy/04-Configurar-Putty/#configurar-putty","title":"Configurar Putty","text":"<ol> <li>Una vez instalado debemos configurarlo para poder conectarnos a nuestra instancia.</li> <li>Abrimos Putty y deberiamos ver algo asi, (ignorar las \"Saved Session\", ya crearemos una nueva):     </li> <li>Ya que configuramos el puerto 22 para ser usado con SSH en: Configurar Security Rules ahora podemos acceder remotamente a nuestra instancia donde tenemos Node.js corriendo con el backend. Para acceder y crear una sesi\u00f3n nos dirigimos al recuadro de Host Name(or IP address) y colocamos la IP Elastica del servidor y Port 22.</li> <li>Opcionalmente pero muy recomendado es agregar un nombre a la conexi\u00f3n en \"Saved Sessions\" cliquear en \"Save\".     </li> <li>Si cliqueo en Open no va a funcionar, esto funcionaria en el caso de no haber creado un par de claves. Ya que las creamos debemos configurar la clave privada para que putty la envie al servidor para chequear que quien se esta conectando es alguien que tiene la clave privada cada vez que nos conectamos. Esto lo hace comparando el par de claves publica-privada. Para ello en el panel izquierdo vamos a \"Connection\" -&gt; \"SSH\" -&gt; \"Auth\" -&gt; \"Credentials\"     </li> <li>Como se puede observar no tenemos ninguna clave. Como recordaran, al momento de crear la instancia descargamos la clave privada en un lugar seguro, ahora debemos buscar esa clave cliqueando en el primer \"Browse\".     </li> <li>Yo hab\u00eda creado \"llaves-deploy\" para la conexi\u00f3n con la instancia del manual. Pero en este caso quiero conectarme a la instancia de node para la que ya tenia una clave privada llamada \"keyFrontBackTest.ppk\". Selecciono la misma.</li> <li>Para guardar los cambios y no repetir este proceso cada vez que quiero loguearme vuelvo al panel de \"Session\" que es el panel predeterminado y Cliqueo en save nuevamente.     </li> <li>Ahora si, entramos a la instancia clickeando \"Open\".</li> <li>Por ultimo debemos ingresar con alg\u00fan usuario al servidor, de forma predeterminada Amazon linux tiene el usuario \"ec2-user\", as\u00ed que nos logueamos con este (Aclaraci\u00f3n: puede ser el caso que para otras distribuciones de linux el usuario predeterminado pida una contrase\u00f1a, alternativamente como otro m\u00e9todo de protecci\u00f3n podemos crear una para cualquier usuario o podemos crear un usuario nuevo, pero no entra dentro del scope del proyecto).     </li> <li>Al ingresar podemos ver que hay varios mensajes que descriptivos.<ol> <li>\"Authenticating with public key\"keyFrontBackTest\" esto significa que esta chequeando la key que le pasamos contra la key que tiene en el servidor.</li> <li>\"A newer release of Amazon Linux is available\"... Quiere decir que tenemos nuevas actualizaciones para hacer pero lo haremos en la siguiente seccion.</li> <li>\"Last Login: ...\" La ultima vez que accedi, dice 02:11 AM pero es porque esta seteado con el huso horario UTC.</li> </ol> </li> <li>Pero todo esto no es para esta seccion, lo importante es que ya estamos dentro del servidor listos para configurar la instancia.</li> </ol>"},{"location":"Manual-De-Deploy/05-Comprar-y-Configurar-Dominios/","title":"05 Comprar y Configurar Dominios","text":"<p>Para tener un dominio y poder utilizarlo en nuestros sitios primero hay que comprarlo, para ello tenemos que registrarlo en un \"registrador acreditado\" como \"Host Gator\", \"Blue Host\", \"Name Cheap\", etc</p> <ol> <li>Yo eleg\u00ed HostGator para mi comprar el dominio -&gt; https://www.hostgator.com/domains, aqu\u00ed elegimos un nombre de dominio y le damos comprar.     </li> <li>Al elegirlo tendremos que llenar datos de facturaci\u00f3n     </li> <li>Y generaremos una factura     </li> <li>Ahora tenemos que vincular ese dominio a nuestros servidores, para ello vamos a la secci\u00f3n de \"Domains\" y cliqueamos en \"A records\", Alli agregaremos la IP publica de nuestro servidor:     </li> <li>Como paso adicional voy a crear un subdominio \"api\" para nuestro servidor del backend:     </li> <li>Por lo que api.volquetas.site va a apuntar al servidor backend y volquetas.site al servidor frontend.</li> <li>Esto podria llegar a tomar unas horas, en mi caso tardo alrededor de 2 horas.</li> <li>Ahora debemos configurar el dominio en Nginx. Pero antes vamos debemos configurar el servidor.</li> </ol>"},{"location":"Manual-De-Deploy/06-Configuracion-inicial-del-servidor/","title":"06 Configuracion inicial del servidor","text":""},{"location":"Manual-De-Deploy/06-Configuracion-inicial-del-servidor/#configuracion-inicial","title":"Configuraci\u00f3n Inicial","text":"<p>Como demostramos en esta seccion anterior ya estamos dentro de nuestra instancia, a continuaci\u00f3n demostraremos la configuraci\u00f3n inicial que debemos hacer para que el servidor se pueda usar en producci\u00f3n:</p> <ol> <li>Una vez dentro de la instancia lo primero que debemos hacer es actualizar los paquetes del sistema para evitar vulnerabilidades y tener las ultimas mejoras:</li> </ol> <pre><code>   sudo yum update -y\n</code></pre> <p> 2. En nuestro caso no tenemos ning\u00fan update de paquetes pero nos salta un mensaje de que podemos actualizar la version de linux a una mas reciente.</p> <pre><code>   sudo dnf upgrade --releasever=2023.5.20240819\n</code></pre> <ol> <li>Hacemos un reboot del servidor para estar seguros que se haya actualizado correctamente. Lo cual nos echara de la terminal.</li> </ol> <pre><code>   sudo reboot\n</code></pre> <p> 4. Volvemos a entrar y verificamos que no nos saltan los mensajes que hay versiones nuevas y al hacer : <code>cat /etc/os-release</code> podemos ver que tenemos la ultima version. </p> <ol> <li>Luego de esto nos toca instalar algunos paquetes para poder trabajar en el servidor. En prinicipio instalaremos git, vim, nodejs y npm para hacer el seteo inicial de nuestro proyecto de nodejs. Dejamos que se instalen las dependencias, no deberia tardar mucho.</li> </ol> <pre><code>   sudo yum install -y git vim nodejs npm\n</code></pre>"},{"location":"Manual-De-Deploy/06-Configuracion-inicial-del-servidor/#configurar-git-y-github-para-clonar-el-repositorio","title":"Configurar git y github para clonar el repositorio.","text":"<p>Ahora debemos configurar git en el servidor y nuestro repositorio remoto en github para poder clonarlo. ### Configurar el repositorio remoto. Para empezar debemos tener un repositorio en github, para esto debemos seguir la siguiente serie de pasos.</p> <ol> <li>Para configurar un nuevo repo en github debemos ir a la pantalla de inicio y clickear en \"New\"</li> <li></li> <li>Ahora debemos elegir la configuraci\u00f3n inicial del repositorio</li> <li>Repository name: el nombre que le queremos dar al repo</li> <li>Description: es opcional pero le voy a poner algo informativo para recordar en un futuro de que se trataba.</li> <li>Elijo \"Private\" para que solo yo y la gente a la que le doy permiso tenga acceso.</li> <li>Es una buena practica agregar un README file, pero lo estaremos pusheando de local asi que no lo marco.</li> <li>Sin .gitignore, en caso que sea un proyecto con variables de entorno, archivos pesados o directamente hay cosas que no nos interesa que esten en el repo remoto pero si en el local deberiamos agregar un .gitignore. En mi caso no lo necesito.</li> <li>Y licencia ninguna ya que no es software que vaya a distribuir.</li> <li>Le damos a \"Create Repository\"     </li> <li>Ahora tenemos la opci\u00f3n de crear un repo nuevo o pushear un repo remoto, en mi caso voy a crear un repo desde mi local y luego hacer un push.</li> <li>Mi repo solo tendra un archivo readme en formato markdown.</li> <li> <p>Siguiendo las instrucciones desde mi repo local en mi maquina hago lo siguiente para hacer un \"push\" al repo remoto:</p> <p>mkdir prueba-deploy-local echo \"# Archivo readme de mi repo\" &gt; README.md git init git add README.md git commit -m \"Primer commit en local\" git branch -M main git remote add origin https://github.com/gian-cavajani/prueba-deploy.git git push -u origin main</p> </li> </ol> <p> 5. Vale aclarar que me pide mi usuario y mi contrasena porque es un repo privado y porque hice push con https y no ssh, en caso de haber hecho con ssh me hubiera pedido la clave generada. 6. Ahora podemos ver el repo en github con el archivo readme creado: </p>"},{"location":"Manual-De-Deploy/06-Configuracion-inicial-del-servidor/#configurar-git-en-el-servidor-y-clonar-el-repo","title":"Configurar Git en el servidor y clonar el repo","text":"<ol> <li>Luego de instalar git y tener el repo remoto en github tenemos que configurar git para poder clonar. Primero seteamos nuestro usuario, yo voy a usar:</li> </ol> <pre><code>   git config --global user.name \"gian-cavajani\"\n   git config --global user.email \"cavajanig@gmail.com\"\n</code></pre> <ol> <li>Ahora debemos generar un par de claves SSH en el servidor para autenticarnos con github. Yo voy a usar el algoritmo rsa y tendra un tamano de 4096 bits</li> </ol> <pre><code>   ssh-keygen -t rsa -b 4096\n</code></pre> <ol> <li> <p>Ahora podemos ver las claves(tanto la publica como la privada) en un directorio oculto haciendo:</p> <ul> <li>Clave Publica:</li> </ul> <pre><code>  cat .ssh/id_rsa.pub\n</code></pre> <ul> <li>Clave Privada:</li> </ul> <pre><code>cat .ssh/id_rsa\n</code></pre> <p> Pastedimage20240827082909.png </p> </li> <li> <p>ahora debemos ir a github -&gt; Settings(SSH and GPG keys) -&gt; New SSH key.     </p> </li> <li>Debemos elegir las siguientes opciones:<ol> <li>Como \"Title\" elegimos alguna referencia para poder identificarla.</li> <li>\"Key type\": \"Authentication Key\"</li> <li>\"Key\": aca pegamos la public key</li> <li>Click en \"Add SHH key\"     </li> </ol> </li> <li>Ahora nos llevara a una pantalla donde nos pedir\u00e1 nuestra contrase\u00f1a:     </li> <li>Luego de esto deber\u00edamos poder ver nuestra key en github.</li> <li>Ahora en el servidor estamos listos para clonar el repositorio remoto que hab\u00edamos \"pusheado\" anteriormente. Tenemos que copiar la url para clonar con SSH:</li> <li>y posteriormente en el servidor ingresar:</li> </ol> <pre><code>   git clone git@github.com:gian-cavajani/prueba-deploy.git\n</code></pre> <p>  10. Ahora que sabemos como clonar y pushear haremos el deploy de la aplicaci\u00f3n de node y react con nginx.</p>"},{"location":"Manual-De-Deploy/07-Configurar-NGINX/","title":"07 Configurar NGINX","text":"<p>Nginx es un web server que provee un monton de funcionalidades como logs de acceso, proxy reverso, manejo de certificados y sus configuraciones, etc. Nosotros lo usaremos para que el archivo estatico de HTML junto con los archivos js generados en el build queden siempre disponibles, ademas para configurar un dominio y sus certificados.</p> <ol> <li>Primero debemos instalar nginx en el servidor:</li> </ol> <pre><code>sudo yum install -y nginx\n</code></pre> <ol> <li>El siguiente paso es crear un directorio para alojar el build un estandar para los sitios de frontend es usar /var/www/html/nombre-sitio/build. Por tanto</li> </ol> <pre><code>   mkdir /var/www/html/volquetas-react/\n</code></pre> <ol> <li>Ahora debemos decirle a nginx que archivos debe mirar para hostear en los diferentes puertos. Para ello vamos a crear una nueva configuracion en <code>/etc/nginx/conf.d/react.conf</code></li> <li> <p>Para nuestra instancia frontend deberia configurarse asi:</p> <ol> <li>listen 80 -&gt; es el puerto de escucha, vamos a estar usando HTTP porque aun no tenemos el certificado.</li> <li>server_name -&gt; es el dominio que previamente compramos y configuramos para apuntar a esta IP, en mi caso volquetas.site</li> <li>root -&gt; es el directorio donde nuestro archivo html se encuentra, en nuestro caso /var/www/html/volquetas-react/build</li> </ol> <pre><code>server {\n     listen 80 ;\n     listen [::]:80 ;\n     server_name volquetas.site ;\n     root /var/www/html/volquetas-react/build ;\n     index index.html index.htm ;\n     location / {\n             try_files $uri $uri/ =404 ;\n     }\n}\n</code></pre> </li> <li> <p>Para la instancia Backend la configuracion varia un poco ya que no se utiliza un archivo, si no que vamos a hacer un proxy_pass o proxy inverso desde el puerto 3000 hacia el 80, se deberia ver asi:</p> <ol> <li>Explicare solo aquellas configuraciones distintas a la configuracion de react para no repetir.</li> <li>En location configuraremos: proxy_pass que es desde que puerto esta funcionando la app node y al cual se rutearan las requeste que vengan por el puerto 80.</li> <li>proxy_http_version 1.1; -&gt; es la version de HTTP, la 1.1 asegura compatibilidad.</li> <li>proxy_set_header Upgrade \\$http_upgrade; -&gt; Ajusta el header Upgrade con lo enviado por el cliente, es para manejar las conexiones websocket.</li> <li>proxy_set_header Connection 'upgrade'; -&gt; parecida a la configuracion anterior es para mantener la conexion abierta para permitir actualizaciones de protocolo como por ejemplo con websocket.</li> <li>proxy_set_header Host \\$host; -&gt; esto asegura que el backend pueda manejar las solicitudes segun el host y que setee el host del cliente a el header Host</li> <li>proxy_cache_bypass \\$http_upgrade; -&gt; Esta directiva asegura que las solicitudes que contienen la cabecera Upgrade no usen la cach\u00e9. Esto es importante para asegurar que las conexiones WebSocket no se vean afectadas por el almacenamiento en cach\u00e9.</li> </ol> <pre><code>server {\n server_name api.volquetas.site;\n\n location / {\n     proxy_pass http://localhost:3000;\n     proxy_http_version 1.1;\n     proxy_set_header Upgrade $http_upgrade;\n     proxy_set_header Connection 'upgrade';\n     proxy_set_header Host $host;\n     proxy_cache_bypass $http_upgrade;\n }\n listen 80;\n server_name api.volquetas.site;\n}\n</code></pre> </li> <li> <p>Ahora si vemos en cualquiera de las dos instancias en el archivo /etc/nginx/nginx.conf, podremos observar que la configuracion esta siendo referenciada a este directorio:     </p> </li> <li>Para habilitar la configuraci\u00f3n y recargar nginx ejecutamos el siguiente comando:</li> </ol> <pre><code>   sudo nginx -t &amp;&amp; sudo systemctl reload nginx\n</code></pre> <ol> <li>Por ultimo para que nginx inicie automaticamente al iniciar el servidor debemos hacer el siguiente comando:</li> </ol> <pre><code>    sudo systemctl enable nginx\n</code></pre> <p>. Estos archivos (react.conf y node.conf) se actualizaran automaticamente un vez se instale el certificado, lo cual haremos en la seccion de: Configurar Certificados. Esto con el fin de poder manejar solicitudes HTTPs, porque hasta el momento solo se podran hacer request via HTTP lo cual es inseguro y no recomendado. 10. Ahora Nginx quedo pronto para alojar nuestro sitio, el siguiente paso es crear el build y moverlo a la carpeta designada. Lo haremos en Deploy Build React</p>"},{"location":"Manual-De-Deploy/08-Deploy-Build-React/","title":"08 Deploy Build React","text":""},{"location":"Manual-De-Deploy/08-Deploy-Build-React/#en-la-instancia-del-frontend","title":"En la instancia del frontend.","text":"<p>Descubrimos que tenemos un problema de memoria al hacer el npm run build (lo que deber\u00eda generar los archivos est\u00e1ticos a partir del proyecto React). Esto se debe a que la instancia tiene una memoria RAM muy reducida. Por lo que como alternativa estamos generando el build en local y transfiri\u00e9ndolo al servidor mediante SFTP con Winscp.</p> <p>Mensaje de error:  ## Crear variables de entorno:</p> <p>Antes de hacer el build debemos configurar las variables de entorno, para ello vamos al directorio del repo y creamos un archivo .env con los siguientes valores, esto indica a donde estar\u00e1 apuntando el frontend para hacer requests a la api:</p> <pre><code>REACT_APP_API_URL=https://api.volquetas.site/api/\n</code></pre> Pastedimage20240827105313.png"},{"location":"Manual-De-Deploy/08-Deploy-Build-React/#winscp","title":"Winscp:","text":"<ol> <li>Como paso inicial debemos instalar y descargar Winscp, para ello nos dirigimos a https://winscp.net/eng/download.php</li> <li>Ami siempre me gusto utilizar los archivos portables para no tener que instalar nada en la maquina, para ello vamos a \"OTHER DOWNLOADS\"     </li> <li>y clickeamos en el bot\u00f3n Download de \"Portable Executables\"     </li> <li>Se descargara WinScp     </li> <li>Ahora debemos ir a Winscp -&gt; Tools -&gt; Import Sites     </li> <li>Elegimos las conexiones que queremos importar desde Putty y clickeamos OK:     </li> <li>Ahora podemos ver que se me crearon duplicados porque ya tenia las conexiones importadas, seleccionamos la conexi\u00f3n de react e ingresamos al servidor con el protocolo SFTP.     </li> <li>Nos pedir\u00e1 nuestro usuario:     </li> <li>Y estamos dentro, ahora copiamos desde la pantalla izquierda (local) hacia la pantalla derecha (el servidor) el archivo build previamente creado con npm run build en nuestra maquina.     </li> <li>Verificamos que el build este en nuestra instancia en el directorio /home/ec2-user/build:     </li> <li>El siguiente paso es hacer el deploy con nginx. Para ello hab\u00edamos instalado nginx y actualizado su archivo de configuraci\u00f3n previamente.</li> </ol>"},{"location":"Manual-De-Deploy/08-Deploy-Build-React/#mover-archivos-a-carpeta-de-nginx","title":"Mover archivos a carpeta de nginx","text":"<ol> <li>Ahora que tenemos configurado Nginx y el build en el servidor debemos copiar el mismo con los archivos est\u00e1ticos a la carpeta donde la configuraci\u00f3n de nginx va a buscar los archivos en nuestro caso:</li> </ol> <pre><code>sudo cp -r build /var/www/html/volquetas-react/\n</code></pre> <ol> <li>sudo systemctl reload nginx -&gt; resetea el proceso de nginx y aplica la nueva configuraci\u00f3n/cambios.</li> <li>sudo systemctl enable nginx -&gt; hace que nginx se levante al levantar el servidor     </li> </ol>"},{"location":"Manual-De-Deploy/08-Deploy-Build-React/#script-para-deploy-automatico","title":"Script para deploy autom\u00e1tico","text":"<p>Para simplificar el proceso de deploy cree un script sencillo en shell para hacer el autodeploy, luego de que los archivos build esten en el servidor, este se encuentra en \\~/scripts/autodeploy.sh:</p> <pre><code>#!/bin/sh\n\n#script para hacer el deploy automaticamente una vez el build esta en el server.\nsudo cp -r ~/build /var/www/html/volquetas-react/\nsudo systemctl reload nginx\nsudo systemctl enable nginx\n</code></pre> Pastedimage20240819163050.png"},{"location":"Manual-De-Deploy/09-Configurar-Instancia-de-Base-de-datos/","title":"09 Configurar Instancia de Base de datos","text":"<p>En principio hab\u00edamos configurado la base de datos en una instancia EC2 pero decidimos cambiarla a RDS.</p> <ol> <li>Vamos a la consola de AWS y buscamos RDS en el buscador:     </li> <li>Nos lleva a la pesta\u00f1a de Amazon RDS, aqu\u00ed clickeamos en \"Crear Base de datos\"     </li> <li>Aqu\u00ed tenemos varias opciones para crear la nueva instancia RDS:<ol> <li>Elegimos \"Creaci\u00f3n Est\u00e1ndar\"</li> <li>Motor PostgreSQL.     </li> <li>Elegimos la ultima version disponible en mi caso la 16.4-R1</li> <li>Y la Capa gratuita de Plantilla     </li> <li>La pesta\u00f1a de \"Disponibilidad y durabilidad\" no esta disponible para la capa gratuita.     </li> <li>En \"Configuraci\u00f3n\"<ol> <li>Elegimos un identificador en mi caso le pongo \"volquetas\"</li> <li>nombre de usuario maestro dejamos postgres ya que lo tenemos configurado de esa manera en local y en la instancia de EC2</li> <li>Elegimos la administraci\u00f3n de credenciales \"Auto-administrado\" ya que queremos elegir nuestra propia contrasena.</li> <li>Elegimos una contrase\u00f1a que usaremos para conectarnos a la instancia.     </li> </ol> </li> <li>El siguiente apartado tiene para elegir el tipo de instancia similar a como hicimos en EC2. para la capa gratuita solo tenemos dos opciones, elegimos la mas potente.     </li> <li>En \"Almacenamiento\" elegimos SSD de uso general, 20GB de almacenamiento y auto escalado por si nos pasamos de los 20GB, por defecto el Umbral son 1000GB lo dejamos de esta manera de todas formas no vamos a llegar a tal cifra.     </li> <li>En \"Conectividad\"<ol> <li>Elegimos conectarse a un recurso inform\u00e1tico de EC2, para que la instancia de Node se conecte directamente.</li> <li>Tambien elegimos la instancia con la que nos estaremos conectando a la Base de datos     </li> <li>En \"Grupos de subredes\" seleccionamos \"configuraci\u00f3n autom\u00e1tica\"</li> <li>En \"Grupos de seguridad\" seleccionamos \"Crear nuevo\" y le ponemos un nombre, en mi caso le puse \"acces0-psql-rds\"     </li> <li>Para entidad de certificaci\u00f3n elegimos la que tenga mas a\u00f1os</li> <li>Por ultimo Puerto de la Base de datos elegimos 5432 que es el default para postgres     </li> </ol> </li> <li>En etiquetas no agregamos nada ya que no son necesarias, con el nombre de la instancia es suficiente para identificarla.</li> <li>En \"Autenticaci\u00f3n de bases de datos\" elegimos Autenticaci\u00f3n con contrase\u00f1a.</li> <li>En \"Supervisi\u00f3n\" no elegimos ning\u00fan campo, esto es para el monitoreo.     </li> <li>En \"Configuraci\u00f3n adicional\" elegimos lo siguiente:<ol> <li>Nombre de la base de datos: \"volquetas\"</li> <li>Grupos de parametros: default.postgres16</li> <li>Copias de seguridad por un dia por si pasa algo y queremos hacer rollback.     </li> <li>Replicacion de copias de seguridad, no la seleccionamos, esto seria en caso de tener Alta disponibilidad para crear una replica en otra zona.</li> <li>Habilitamos el Cifrado.</li> <li>Y lo siguiente lo dejamos todo por defecto     </li> </ol> </li> <li>Por ultimo damos click a \"Crear base de datos\"     </li> <li>La creaci\u00f3n de la instancia de base de datos puede demorar un rato, luego de que este finalizado ajustaremos los security groups.     </li> </ol> </li> </ol>"},{"location":"Manual-De-Deploy/09-Configurar-Instancia-de-Base-de-datos/#grupos-de-seguridad","title":"Grupos de seguridad:","text":"<p>Ahora chequearemos el security group creado tanto para la base de datos como para la conexi\u00f3n a la misma desde la instancia de node y copiaremos la url para utilizarla en las variables de entorno de node: 1. El siguiente Grupo de seguridad \"ec2-rds-1\" muestra que tiene una regla de salida para permitir la conexion hacia la instancia RDS. este grupo esta siendo utilizado por la instancia de node:  2. Por otro lado podemos ver que la instancia de RDS tiene estos grupo de seguridad: 1. El primero es para permitir el transito entrante desde cualquier instancia que este vinculada a la VPC 2. El segundo es para permitir el trafico saliente.  3. Como ultimo paso copiaremos el endpoint para usarlo en las variables de entorno en la instancia de node que ser\u00e1n usadas para configurar el string de conexi\u00f3n a la base de datos. </p>"},{"location":"Manual-De-Deploy/10-Deploy-Backend/","title":"10 Deploy Backend","text":""},{"location":"Manual-De-Deploy/10-Deploy-Backend/#en-la-instancia-backend","title":"En la instancia Backend","text":"<p>Para hacer el deploy en la instancia de Backend necesitamos: clonar el repo de Github, instalar y configurar git y npm, todo eso lo cubrimos en Configuracion inicial del servidor, Configurar NGINX, lo siguiente lo estaremos cubriendo en esta gu\u00eda: actualizar las variables de entorno, instalar pm2.</p> <ol> <li>Primero debemos clonar el repo siguiendo los pasos en  Configuracion inicial del servidor</li> <li> <p>Una vez clonado el repositorio en el servidor necesitamos actualizar las variables de entorno de la siguiente manera para asegurar un correcto funcionam:</p> <ol> <li>DB_HOST: es el servidor de nuestra base de datos. En este caso esta hosteado en RDS, anteriormente era una instancia de EC2 pero decidimos migrar.</li> <li>DB_PORT: es el puerto configurado para la Base de datos PostgreSQL, por defecto Postgres usa este puerto</li> <li>DB_USER: el usuario de la base de datos</li> <li>SECRETO: es una palabra secreta que utilizamos para crear un hash para las contrasenas con la libreria bcrypt</li> <li>DB_PWD: es la contrasena para el acceso a la base de datos</li> <li>DB_NAME: es el nombre de la base de datos a la que nos vamos a conectar</li> <li>PORT: el puerto donde estara corriendo la aplicacion en localhost, luego haremos un proxy inverso con este puerto para que el trafico venga desde el puerto 80 y el 443.</li> </ol> <pre><code>DB_HOST=volquetas.cagqhjhrcymf.us-east-1.rds.amazonaws.com\nDB_PORT=5432\nDB_USER=postgres\nSECRETO=palabrasecreta\nDB_PWD=perro-2310\nDB_NAME=volquetas\nPORT=3000\n</code></pre> </li> <li> <p>Lo siguiente es instalar pm2 para dejar corriendo el servidor de node siempre que la instancia este prendida, ademas de esto pm2 provee otras caracteristicas como logging, chequeo de uso de CPU/Memoria/etc. Para instalar de forma globalmente haremos:</p> </li> </ol> <pre><code>   npm install -g pm2\n</code></pre> <ol> <li>Para iniciar pm2 con el proyecto de node vamos a iniciar el archivo base donde la aplicacion esta corriendo en mi caso es en \\~/apps/volquetas/index.js y adicionalmente uso la flag --name para darle un nombre al proceso:</li> </ol> <pre><code>   pm2 start apps/volquetas/index.js --name \"api-volquetas\"\n</code></pre> <ol> <li>Ahora pm2 esta corriendo pero en el caso de que el servidor se reinicie la aplicacion no volvera a iniciar. Para que pm2 inicie automaticamente debemos hacer lo siguiente:</li> </ol> <pre><code>   pm2 startup\n   pm2 save\n</code></pre> <ol> <li>Puedo verificar que la aplicacion esta corriendo con el comando:</li> </ol> <pre><code>   pm2 list\n</code></pre> <p> 6. Como ya hab\u00edamos configurado nginx lo \u00fanico que debemos hacer es reiniciar el proceso para que tome los nuevos cambios ya que ahora el puerto 3000 esta siendo utilizado.</p> <pre><code>   sudo systemctl restart nginx\n</code></pre>"},{"location":"Manual-De-Deploy/10-Deploy-Backend/#hacer-nuevos-deploys","title":"Hacer nuevos deploys:","text":"<p>Si queremos hacer un nuevo deploy de nuestra aplicaci\u00f3n en el servidor tenemos que hacer es lo siguiente:</p> <ol> <li>Debemos clonar el repo, y actualizar el proceso pm2</li> </ol> <pre><code>cd ~/apps/volquetas\ngit pull https://github.com/gian-cavajani/volquetas.git\n</code></pre> <p> 2. Ahora que tenemos los nuevos cambios debemos reiniciar el proceso de pm2 con:</p> <pre><code>pm2 restart \"api-volquetas\"\n</code></pre> <p> 3. No es necesario reiniciar nginx a menos que los archivos de configuraci\u00f3n o los archivos est\u00e1ticos a los que nginx esta sirviendo hayan sido cambiados, este es el caso para la aplicaci\u00f3n de react pero no para la de node.</p>"},{"location":"Manual-De-Deploy/11-Configurar-Certificados/","title":"11 Configurar Certificados","text":"<p>Lo siguiente es configurar los certificados para poder tener conexiones seguras HTTPS/SSL. Esto es para poder darle privacidad y seguridad al usuario encriptando la conexi\u00f3n.</p>"},{"location":"Manual-De-Deploy/11-Configurar-Certificados/#instalar-y-configurar-certbot","title":"Instalar y configurar certbot.","text":"<ol> <li>Para instalar los certificados primero debemos instalar el package de certbot, para ello ejecutamos el siguiente comando:</li> </ol> <pre><code>   sudo yum install python3-certbot-nginx\n</code></pre> <p> 2. Una vez instalado debemos ejecutar el siguiente comando y seguir los pasos:</p> <pre><code>   sudo certbot --nginx\n</code></pre> <ol> <li>Tenemos que hacer esto tanto para la instancia de React como para la de Node.</li> <li>En la instancia de React elegimos 1: volquetas.site que era el dominio que habiamos comprado para utilizar. En el caso de la instancia del backend estaremos utilizando el subdominio api.volquetas.site</li> <li>Luego hacemos un reload del proceso de nginx ya que la instalaci\u00f3n de el nuevo certificado con certbot --nginx modifica las configuraciones de nginx.     </li> </ol>"},{"location":"Manual-De-Deploy/11-Configurar-Certificados/#nuevas-configuraciones-de-nginx","title":"Nuevas Configuraciones de Nginx","text":"<p>Ahora si vamos al archivo de configuraci\u00f3n de nginx en la instancia de React, podemos ver que se agregaron un mont\u00f3n de lineas que refieren al puerto 443 que es el que sera utilizado por el trafico HTTPS. Ademas routea al directorio donde est\u00e1n las claves privadas y el cert chain completo. </p> <p>Lo mismo sucede al instalar los certificados en la instancia de Node, el archivo de configuraci\u00f3n fue modificado de igual manera: </p>"},{"location":"Manual-De-Deploy/11-Configurar-Certificados/#auto-renovar-certificados","title":"Auto renovar certificados","text":"<p>Los certificados emitidos por certbot tienen una validez de 3 meses como podemos observar aqui: </p> <p>Para hacer la renovaci\u00f3n autom\u00e1tica podemos crear un cronjob de la siguiente manera: 1. En la linea de comandos escribimos lo siguiente: 2. Esto es para instalar cronie, lo cual nos permitir\u00e1 crear cronjobs</p> <pre><code>   sudo yum install cronie\n</code></pre> <ol> <li>Ahora debemos activar el daemon de cron para que los cron jobs se ejecuten en secundario</li> </ol> <pre><code>   sudo systemctl start crond\n</code></pre> <ol> <li>Ahora hacemos que el daemon se inicie al iniciar la instancia con:</li> </ol> <pre><code>    sudo systemctl enable crond\n</code></pre> <ol> <li>Por ultimo ejecutamos lo siguiente:</li> </ol> <pre><code> crontab -e\n</code></pre> <ol> <li>Lo que nos llevara a un editor de vim y agregamos el siguiente cronjob cada un mes para que renueve los certificados, luego guardamos y salimos del editor: </li> <li>Por ultimo verificamos que el cronjob haya quedado correctamente guardado con:</li> </ol> <pre><code>   crontab -l\n</code></pre> Pastedimage20240827145434.png"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/","title":"Documentaci\u00f3n de los M\u00e9todos HTTP del Proyecto","text":"<ul> <li>Usuarios:</li> <li>Cajas:</li> <li>Camiones:</li> <li>Config:</li> <li>ContactoEmpresas:</li> <li>Empleado</li> <li>Empresa</li> <li>Estad\u00edsticas:</li> <li>Facturas</li> <li>Historico-camion</li> <li>Jornales y Datos:</li> <li>Movimientos:</li> <li>Obras:</li> <li>PagoPedidos:</li> <li>Particulares:</li> <li>Pedidos:</li> <li>Permisos:</li> <li>Servicios-Camion:</li> <li>Sugerencias:</li> <li>Telefono:</li> <li>Volquetas</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#usuarios","title":"Usuarios:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/usuarios Crea un nuevo usuario Body: <code>rol</code> (string), <code>email</code> (string), <code>password</code> (string), <code>confirmPassword</code> (string), <code>empleadoId</code> (integer) 201 Created <code>{ \"id\": &lt;id&gt;, \"email\": &lt;email&gt;, \"empleadoId\": &lt;empleadoId&gt;, \"rol\": &lt;rol&gt;, \"activo\": &lt;activo&gt; }</code> 400 Bad Request<code>{ \"error\": \"Todos los campos son obligatorios\" }</code> <code>{ \"error\": \"La contrase\u00f1a no es suficientemente fuerte\" }</code> <code>{ \"error\": \"Email inv\u00e1lido\" }</code> <code>{ \"error\": \"Las contrase\u00f1as no coinciden\" }</code> <code>{ \"error\": \"Rol inv\u00e1lido\" }</code> <code>{ \"error\": \"Empleado no existe\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al crear usuario\", \"detalle\": &lt;detalles&gt; }</code> No Requerido GET /api/usuarios Obtiene todos los usuarios - 200 OK <code>[ { ...usuario1 }, { ...usuario2 }, ... ]</code> 500 Internal Server Error <code>{ \"error\": \"Error al obtener usuarios\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin) GET /api/usuarios/:id Obtiene un usuario por ID Path: <code>usuarioId</code> (integer) 200 OK <code>{ ...usuario }</code> 404 Not Found <code>{ \"error\": \"Usuario no encontrado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al obtener usuario\", \"detalle\": &lt;detalles&gt; }</code> Requerido GET /api/usuarios/inactivos Obtiene todos los usuarios inactivos - 200 OK <code>[ { ...usuario1 }, { ...usuario2 }, ... ]</code> 500 Internal Server Error <code>{ \"error\": \"Error al obtener usuarios\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin) POST /api/usuarios/login Loguea un usuario y devuelve un token JWT Body: <code>email</code> (string), <code>password</code> (string) 200 OK <code>{ \"token\": &lt;token&gt; }</code> 400 Bad Request <code>{ \"error\": \"Email y contrase\u00f1a son obligatorios\" }</code> 401 Unauthorized <code>{ \"error\": \"Credenciales inv\u00e1lidas\" }</code> <code>403 Forbidden</code> <code>{ \"error\": \"Usuario no activado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al loguear usuario\", \"detalle\": &lt;detalles&gt; }</code> No Requerido POST /api/usuarios/confirmar Confirma un usuario mediante email Body: <code>email</code> (string) <code>202 Accepted</code> <code>{ \"detalle\": \"Usuario con mail: &lt;email&gt; activado exitosamente\" }</code> 400 Bad Request <code>{ \"error\": \"Email es obligatorio\" }</code> 400 Not Found <code>{ \"error\": \"Usuario con ese mail no existe\" }</code> 400 Bad Request <code>{ \"error\": \"Usuario ya esta activado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al confirmar usuario\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin) DELETE /api/usuarios/:id Borra un usuario por ID Path: <code>usuarioId</code> (integer) 200 OK <code>{ \"detalle\": \"Usuario borrado exitosamente\" }</code> 400 Not Found <code>{ \"error\": \"Usuario no encontrado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al borrar usuario\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin) PUT /api/usuarios/:id Modifica un usuario por ID Path: <code>usuarioId</code> (integer) Body: <code>rol</code> (string, optional), <code>email</code> (string, optional), <code>activo</code> (boolean, optional) 200 OK <code>{ ...req.body }</code> 400 Bad Request <code>{ \"error\": \"Email inv\u00e1lido\" }</code> 400 Not Found <code>{ \"error\": \"Usuario no encontrado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al modificar usuario\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin) PUT /api/usuarios-contrasenia Cambia la contrase\u00f1a del usuario actual Body: <code>email</code> (string), <code>oldPassword</code> (string), <code>newPassword</code> (string), <code>confirmNewPassword</code> (string) 200 OK <code>{ \"message\": \"Contrase\u00f1a actualizada exitosamente\" }</code> 400 Bad Request <code>{ \"error\": \"Todos los campos son obligatorios\" }</code> <code>{ \"error\": \"Email inv\u00e1lido\" }</code> <code>{ \"error\": \"Las contrase\u00f1as no coinciden\" }</code> <code>{ \"error\": \"La contrase\u00f1a anterior y la nueva deben ser distintas\" }</code> <code>{ \"error\": \"La nueva contrase\u00f1a no es suficientemente fuerte\" }</code> 400 Not Found <code>{ \"error\": \"Usuario no encontrado\" }</code> 401 Unauthorized <code>{ \"error\": \"La contrase\u00f1a antigua es incorrecta\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al cambiar la contrase\u00f1a\", \"detalle\": &lt;detalles&gt; }</code> Requerido PUT /api/usuarios/usuarios-contrasenia-admin Cambia la contrase\u00f1a de otro usuario siendo admin Body: <code>email</code> (string), <code>newPassword</code> (string), <code>confirmNewPassword</code> (string) 200 OK <code>{ \"message\": \"Contrase\u00f1a actualizada exitosamente\" }</code> 400 Bad Request <code>{ \"error\": \"Todos los campos son obligatorios\" }</code> <code>{ \"error\": \"Email inv\u00e1lido\" }</code> <code>{ \"error\": \"Las contrase\u00f1as no coinciden\" }</code> <code>{ \"error\": \"La nueva contrase\u00f1a no es suficientemente fuerte\" }</code> 400 Not Found <code>{ \"error\": \"Usuario no encontrado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al cambiar la contrase\u00f1a\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin)"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#cajas","title":"Cajas:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/cajas Crear una nueva caja Body: { fecha, motivo, empleadoId, pedidoId, monto, descripcion, moneda } 201 Created: { nuevaCaja } 400 Bad Request: { error: 'La fecha es obligatoria y debe ser v\u00e1lida' } 400 Bad Request: { error: 'Monto es obligatorio' } 400 Bad Request: { error: 'Motivo inv\u00e1lido, debe ser: ('vale', 'gasto','ingreso', 'ingreso pedido', 'ingreso cochera', 'extraccion')' } 400 Bad Request: { error: 'Moneda inv\u00e1lida, debe ser: ('dolar' o 'peso')' } 400 Bad Request: { error: 'Monto inv\u00e1lido, este tipo de motivo debe tener monto positivo' } 400 Bad Request: { error: 'Monto inv\u00e1lido, este tipo de motivo debe tener monto negativo' } 400 Bad Request: { error: 'Debe agregar un empleado para el vale' } 400 Bad Request: { error: 'Debe agregar un pedido para el ingreso de tipo pedido' } 404 Not Found: { error: 'Empleado no existe' } 404 Not Found: { error: 'Pedido no existe' } 400 Bad Request: { error: 'Pedido ya tiene una entrada de dinero', cajasConPedido } Requerido GET /api/cajas Obtener todas las cajas Query: fechaInicio, fechaFin 200 OK: { datos: { contadorMotivos, montoPeso, montoDolar }, cajas } 400 Bad Request: { error: 'Debe ingresar fecha de inicio y fecha de fin' } 500 Internal Server Error: { error: 'Error al obtener los datos de la caja', detalle: errorsSequelize } Requerido GET /api/cajas/id Obtener una caja por ID Path: cajaId 200 OK: { caja } 404 Not Found: { error: 'Caja no encontrada' } 500 Internal Server Error: { error: 'Error al obtener la caja', detalle: errorsSequelize } Requerido DELETE /api/cajas/id Eliminar una caja por ID Path: cajaId 200 OK: { detalle: 'Caja eliminada exitosamente' } 404 Not Found: { error: 'Caja no encontrada' } 500 Internal Server Error: { error: 'Error al eliminar la caja', detalle: errorsSequelize } Requerido PUT /api/cajas/id Modificar una caja por ID Path: cajaId Body: { fecha, motivo, empleadoId, pedidoId, monto, descripcion, moneda } 200 OK: { caja } 400 Bad Request: { error: 'La fecha debe ser v\u00e1lida' } 400 Bad Request: { error: \"Motivo inv\u00e1lido, debe ser: ('vale', 'gasto', 'ingreso', 'ingreso pedido', 'ingreso cochera', 'extraccion')\" } 400 Bad Request: { error: \"Moneda inv\u00e1lida, debe ser: ('dolar' o 'peso')\" } 404 Not Found: { error: 'Empleado no existe' } 404 Not Found: { error: 'Pedido no existe' } 500 Internal Server Error: { error: 'Error al modificar la caja', detalle: errorsSequelize } Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#camiones","title":"Camiones:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST <code>/api/camiones</code> Crear un nuevo cami\u00f3n Body: - <code>matricula</code> (string, requerido) - <code>modelo</code> (string, requerido) - <code>anio</code> (integer, opcional) - <code>estado</code> (string, opcional) 201: JSON del cami\u00f3n creado 400: Matricula o modelo no proporcionado 500: Error al crear cami\u00f3n Requerido GET <code>/api/camiones</code> Obtener todos los camiones N/A 200: JSON de la lista de camiones 500: Error al obtener camiones Requerido GET <code>api/camiones/:camionId</code> Obtener un cami\u00f3n espec\u00edfico Path: - <code>camionId</code> (integer, requerido) 200: JSON del cami\u00f3n solicitado 404: Cami\u00f3n no encontrado 500: Error al obtener cami\u00f3n Requerido PUT <code>api/camiones/:camionId</code> Actualizar un cami\u00f3n espec\u00edfico Path: - <code>camionId</code> (integer, requerido) Body: - <code>matricula</code> (string, opcional) - <code>modelo</code> (string, opcional) - <code>anio</code> (integer, opcional) - <code>estado</code> (string, opcional) 200: JSON del cami\u00f3n actualizado 404: Cami\u00f3n no encontrado 500: Error al actualizar cami\u00f3n Requerido DELETE <code>api/camiones/:camionId</code> Borrar un cami\u00f3n espec\u00edfico Path: - <code>camionId</code> (integer, requerido) 200: Cami\u00f3n borrado exitosamente 404: Cami\u00f3n no encontrado 500: Error al borrar cami\u00f3n Requerido(Admin)"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#config","title":"Config:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST <code>/api/config</code> Crear una nueva configuraci\u00f3n Body: - <code>anio</code> (integer, requerido) - <code>precioSinIva</code> (decimal, requerido) - <code>horasDeTrabajo</code> (integer, requerido) - <code>configActiva</code> (boolean, opcional) 201: JSON de la configuraci\u00f3n creada 500: Error al crear la configuraci\u00f3n Requerido(Admin) GET <code>/api/config/:configId</code> Obtener una configuraci\u00f3n espec\u00edfica Path: - <code>configId</code> (integer, requerido) 200: JSON de la configuraci\u00f3n solicitada 404: Configuraci\u00f3n no encontrada 500: Error al obtener la configuraci\u00f3n Requerido(Admin) GET <code>/api/config</code> Obtener todas las configuraciones N/A 200: JSON de la lista de configuraciones 500: Error al obtener las configuraciones Requerido(Admin) GET <code>/api/config-activa</code> Obtener la configuraci\u00f3n activa N/A 200: JSON de la configuraci\u00f3n activa 500: Error al obtener la configuraci\u00f3n activa Requerido(Admin) PUT <code>/api/config/:configId</code> Actualizar una configuraci\u00f3n espec\u00edfica Path: - <code>configId</code> (integer, requerido) Body: - <code>anio</code> (integer, opcional) - <code>precioSinIva</code> (decimal, opcional) - <code>horasDeTrabajo</code> (integer, opcional) - <code>configActiva</code> (boolean, opcional) 200: JSON de la configuraci\u00f3n actualizada 404: Configuraci\u00f3n no encontrada 500: Error al actualizar la configuraci\u00f3n Requerido(Admin)"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#contactoempresas","title":"ContactoEmpresas:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST <code>/api/contacto-empresas</code> Crear un nuevo contacto de empresa Body: - <code>nombre</code> (string, requerido) - <code>descripcion</code> (string, opcional) - <code>email</code> (string, opcional) - <code>empresaId</code> (integer, requerido) - <code>obraId</code> (integer, opcional) 201: JSON del contacto de empresa creado 400: Validaciones fallidas 404: Empresa u obra no encontrada 500: Error al crear el contacto Requerido GET <code>/contacto-empresas/:contactoEmpresaId</code> Obtener un contacto de empresa espec\u00edfico Path: - <code>contactoEmpresaId</code> (integer, requerido) 200: JSON del contacto de empresa solicitado 404: Contacto no encontrado 500: Error al obtener el contacto Requerido GET <code>/api/contacto-empresas</code> Obtener todos los contactos de empresa N/A 200: JSON de la lista de contactos de empresa 500: Error al obtener los contactos Requerido PUT <code>/api/contacto-empresas/:contactoEmpresaId</code> Actualizar un contacto de empresa espec\u00edfico Path: - <code>contactoEmpresaId</code> (integer, requerido) Body: - Cualquiera de los campos del contacto (nombre, descripcion, email, etc.) 200: JSON del contacto de empresa actualizado 404: Contacto no encontrado 500: Error al actualizar el contacto Requerido DELETE <code>/api/contacto-empresas/:contactoEmpresaId</code> Eliminar un contacto de empresa espec\u00edfico Path: - <code>contactoEmpresaId</code> (integer, requerido) 200: Mensaje confirmando la eliminaci\u00f3n 404: Contacto no encontrado 500: Error al eliminar el contacto Requerido(Admin) POST <code>/api/contacto-empresas/asignar/:contactoEmpresaId</code> Asignar o reasignar una obra a un contacto de empresa Path: - <code>contactoEmpresaId</code> (integer, requerido) Body: - <code>obraId</code> (integer, requerido) 200: Mensaje confirmando la asignaci\u00f3n de la obra 400: Error en validaci\u00f3n 404: Contacto u obra no encontrado 500: Error al asignar la obra Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#empleado","title":"Empleado","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST <code>/api/empleados</code> Crea un nuevo empleado. Body: <code>nombre</code>, <code>cedula</code>, <code>rol</code>, <code>fechaEntrada</code>, <code>fechaSalida</code>, <code>direccion</code> 201 Created: Empleado creado. 400 Bad Request: Validaciones fallidas. 500 Internal Server Error: Error al crear el empleado. Requerido GET <code>/api/empleados</code> Obtiene una lista de todos los empleados. - 200 OK: Lista de empleados. 500 Internal Server Error: Error al obtener los empleados. No Requerido GET <code>/api/empleados/:empleadoId</code> Obtiene un empleado por su ID. Path: <code>empleadoId</code> 200 OK: Empleado encontrado. 400 Not Found: Empleado no encontrado. 500 Internal Server Error: Error al obtener el empleado. Requerido DELETE <code>/api/empleados/:empleadoId</code> Elimina un empleado por su ID. Path: <code>empleadoId</code> 200 OK: Empleado eliminado exitosamente. 400 Not Found: Empleado no encontrado. 400 Bad Request: Empleado tiene un usuario vinculado. 500 Internal Server Error: Error al eliminar el empleado. Requerido(Admin) PUT <code>/api/empleados/:empleadoId/estado</code> Cambia el estado (habilitado/deshabilitado) de un empleado. Path: <code>empleadoId</code> Body: <code>fechaSalida</code> <code>202 Accepted</code>: Estado del empleado actualizado. 400 Bad Request: Validaciones fallidas. 500 Internal Server Error: Error al cambiar el estado del empleado. Requerido PUT <code>/api/empleados/:empleadoId</code> Modifica los datos de un empleado. Path: <code>empleadoId</code> Body: <code>nombre</code>, <code>cedula</code>, <code>rol</code>, <code>habilitado</code>, <code>fechaEntrada</code>, <code>fechaSalida</code>, <code>direccion</code> 200 OK: Empleado modificado exitosamente. 400 Not Found: Empleado no encontrado. 400 Bad Request: Validaciones fallidas. 500 Internal Server Error: Error al modificar el empleado. Requerido GET <code>/api/empleados/sin-usuario-activos</code> Obtiene empleados activos que no tienen un usuario vinculado. - 200 OK: Lista de empleados activos sin usuario. 500 Internal Server Error: Error al obtener los empleados. No Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#empresa","title":"Empresa","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/empresas Crea una nueva empresa Body: - <code>rut</code> (opcional, 12 caracteres) - <code>nombre</code> (requerido) - <code>descripcion</code> (opcional) - <code>razonSocial</code> (opcional) 201 Created <code>{ id, rut, nombre, descripcion, razonSocial }</code> 400 Bad Request <code>{ error: 'El RUT debe tener 12 caracteres.' }</code> <code>{ error: 'El nombre de la empresa es obligatorio' }</code> 500 Internal Server Error <code>{ error: 'Error al crear empresa', detalle: [lista de errores] }</code> Requerido GET /api/empresas/:id Obtiene los detalles de una empresa Path: - <code>empresaId</code> (requerido) 200 OK <code>{ id, rut, nombre, descripcion, razonSocial, ... }</code> 400 Not Found <code>{ error: 'Empresa no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener empresa', detalle: [lista de errores] }</code> Requerido GET /api/empresas Obtiene todas las empresas - Sin par\u00e1metros 200 OK <code>[{ id, nombre, rut }, ...]</code> 500 Internal Server Error <code>{ error: 'Error al obtener empresas', detalle: [lista de errores] }</code> Requerido GET /api/empresas/buscar Busca empresas seg\u00fan criterios Query: - <code>rut</code> (opcional) - <code>nombre</code> (opcional) - <code>razonSocial</code> (opcional) - <code>letraInicial</code> (opcional, una letra) 200 OK <code>[{ id, rut, nombre, descripcion, razonSocial }, ...]</code> 400 Bad Request <code>{ error: 'Debe proporcionar al menos un par\u00e1metro de b\u00fasqueda (rut, nombre, razonSocial, letraInicial).' }</code> <code>{ error: 'La b\u00fasqueda por letra inicial debe tener solo una letra' }</code> 500 Internal Server Error <code>{ error: 'Error al buscar empresas', detalle: [lista de errores] }</code> Requerido PUT /api/empresas/:id Actualiza una empresa existente Path: - <code>empresaId</code> (requerido) Body: - <code>rut</code> (opcional, 12 caracteres) - <code>nombre</code> (opcional) - <code>descripcion</code> (opcional) - <code>razonSocial</code> (opcional) 200 OK <code>{ id, rut, nombre, descripcion, razonSocial }</code> 400 Bad Request <code>{ error: 'El RUT debe tener 12 caracteres.' }</code> 400 Not Found <code>{ error: 'Empresa no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al modificar empresa', detalle: [lista de errores] }</code> Requerido DELETE /api/empresas/:id Elimina una empresa existente Path: - <code>empresaId</code> (requerido) 200 OK <code>{ detalle: 'Empresa con nombre {nombre} fue eliminado correctamente' }</code> 400 Not Found <code>{ error: 'La Empresa con ese id no existe' }</code> 500 Internal Server Error <code>{ error: 'Error al borrar empresa', detalle: [lista de errores] }</code> Requerido(Admin)"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#estadisticas","title":"Estad\u00edsticas:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login GET /api/estadisticas-chofer/:id Trae movimientos de volqueta de un chofer Path: <code>choferId</code> Query: <code>fechaInicio</code>, <code>fechaFin</code>, <code>valorJornal</code>, <code>valorExtra</code> 200 OK <code>{ jornales: [...], datos: { diasTrabajo: number, horas: number, extra: number, entregas: number, levantes: number, viajes: number, promedioHorasPorDia: number, promedioViajesPorDia: number, salario: number, precioPorViaje: number, info: string } }</code> 400 Bad Request <code>{ error: 'El valor del jornal debe ser mayor a 0' }</code> <code>{ error: 'El valor de la hora extra debe ser mayor a 0' }</code> <code>{ error: 'Debe ingresar fecha de inicio y fecha de fin' }</code> <code>{ error: 'Las fechas proporcionadas no son v\u00e1lidas' }</code> <code>{ error: 'La fecha de inicio debe ser menor a la de final' }</code> <code>{ error: 'Error al obtener estad\u00edsticas del chofer', detalle: [...] }</code> Requerido GET /api/estadisticas-movimientos-choferes Trae movimientos de volqueta de todos los choferes Query: <code>fechaInicio</code>, <code>fechaFin</code> 200 OK <code>[ { choferId: number, entregas: number, levantes: number, total: number }, ... ]</code> 400 Bad Request <code>{ error: 'Las fechas proporcionadas no son v\u00e1lidas' }</code> <code>{ error: 'La fecha de inicio debe ser menor a la de final' }</code> <code>{ error: 'Error al contar los movimientos', detalle: [...] }</code> Requerido GET /api/estadisticas-cliente/:clienteId Trae la info de un cliente espec\u00edfico y sus pedidos Query: <code>estado</code>, <code>fechaInicio</code>, <code>fechaFin</code>, <code>empresaId</code>, <code>particularId</code> 200 OK <code>{ total: number, pagados: { cantidad: number, monto: number, ids: [number, ...] }, nopagados: { cantidad: number, monto: number, ids: [number, ...] }, estado: { levantado: { cantidad: number, ids: [number, ...] }, entregado: { cantidad: number, ids: [number, ...] }, iniciado: { cantidad: number, ids: [number, ...] }, cancelado: { cantidad: number, ids: [number, ...] } }, obras: { obraId: { cantidad: number, ids: [number, ...] }, ... } }</code> 400 Bad Request <code>{ error: 'FechaFin debe ser despues de fechaInicio' }</code> <code>{ error: 'Debe ingresar una empresa o un particular unicamente' }</code> <code>{ error: \"Los tipos de estado de pedidos solo pueden ser: ('cancelado', 'iniciado', 'entregado', 'levantado')\" }</code> <code>{ error: 'Error al obtener estadisticas del cliente', detalle: [...] }</code> Requerido GET /api/estadisticas-clientes Trae la info de los clientes y sus pedidos Query: <code>fechaInicio</code>, <code>fechaFin</code> 200 OK <code>{ empresas: { empresaId: { pagados: { cantidad: number, monto: number }, nopagados: { cantidad: number, monto: number } }, ... }, particulares: { particularId: { pagados: { cantidad: number, monto: number }, nopagados: { cantidad: number, monto: number } }, ... } }</code> 400 Bad Request <code>{ error: 'FechaFin debe ser despues de fechaInicio' }</code> <code>{ error: 'Debe ingresar fecha de inicio y fecha de fin' }</code> <code>{ error: 'Error al obtener estadisticas', detalle: [...] }</code> Requerido GET /api/estadisticas-pedidos Trae la info general de los pedidos Query: <code>fechaInicio</code>, <code>fechaFin</code> 200 OK <code>{ empresas: { empresaId: { pagados: { cantidad: number, monto: number }, nopagados: { cantidad: number, monto: number } }, ... }, particulares: { particularId: { pagados: { cantidad: number, monto: number }, nopagados: { cantidad: number, monto: number } }, ... } }</code> 400 Bad Request <code>{ error: 'FechaFin debe ser despues de fechaInicio' }</code> <code>{ error: 'Debe ingresar fecha de inicio y fecha de fin' }</code> <code>{ error: 'Error al obtener estadisticas', detalle: [...] }</code> Requerido GET /api/estadisticas-deudores Obtener informaci\u00f3n de los mayores deudores Query: { fechaInicio, fechaFin, tipo, deudores } 200 OK: { topEmpresasNoPagados, topParticularesNoPagados } 400 Bad Request: { error: 'Cantidad de deudores debe ser mayor a 0' } 400 Bad Request: { error: 'Tipo de deuda debe ser por cantidad o por monto' } 400 Bad Request: { error: 'FechaFin debe ser despues de fechaInicio' } 400 Bad Request: { error: 'Debe ingresar fecha de inicio y fecha de fin' } 500 Internal Server Error: { error: 'Error al obtener estadisticas', detalle: errorsSequelize } 500 Internal Server Error: { error: 'Error al obtener estadisticas', detalle: error.message, stack: error.stack } Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#facturas","title":"Facturas","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/facturas Crea una nueva factura. Body: <code>pedidosIds</code> (array de IDs) <code>numeracion</code> (n\u00famero de la factura) <code>tipo</code> (tipo de pago: 'credito', 'contado', 'recibo') <code>fechaPago</code> (fecha de pago) <code>descripcion</code> (descripci\u00f3n) <code>empresaId</code> (ID de empresa) <code>particularId</code> (ID de particular) 201 Created JSON con los detalles de la factura creada 400 Bad Request Debe proporcionar solo uno: empresaId o particularId. 400 Bad Request Tipo de pago debe ser v\u00e1lido, opciones: ('credito', 'contado', 'recibo') <code>400 Bad Request</code> Debe proporcionar al menos un ID de pedido. 500 Internal Server Error Error al crear la factura: { detalle: \"mensaje de error\" } Requerido GET /api/facturas Obtiene una lista de facturas. Query: <code>ultimos</code> (n\u00famero de facturas a recuperar) <code>fechaInicio</code> (fecha de inicio) <code>fechaFin</code> (fecha de fin) <code>empresaId</code> (ID de empresa) <code>particularId</code> (ID de particular) <code>estado</code> (estado de la factura) 200 OK JSON con la lista de facturas 400 Bad Request <code>Debe proporcionar solo uno o ninguno: empresaId o particularId.</code> 400 Bad Request <code>No se pueden traer m\u00e1s de 50 facturas a la vez</code> <code>400 Bad Request</code> <code>La factura solo puede estar: ('pendiente', 'anulada', 'pagada')</code> <code>400 Bad Request</code> <code>FechaFin debe ser despu\u00e9s de fechaInicio</code> <code>400 Bad Request</code> <code>Debe ingresar fecha de inicio y fecha de fin</code> 500 Internal Server Error <code>Error al obtener facturas: { detalle: \"mensaje de error\" }</code> Requerido GET /api/facturas/:id Obtiene los detalles de una factura espec\u00edfica. Path: <code>facturaId</code> (ID de la factura) 200 OK JSON con los detalles de la factura 400 Not Found <code>Factura no encontrada</code> 500 Internal Server Error <code>Error al obtener la factura: { detalle: \"mensaje de error\" }</code> Requerido PUT /api/facturas/:id Modifica una factura existente. Body: <code>numeracion</code> (n\u00famero de la factura) <code>tipo</code> (tipo de pago) <code>fechaPago</code> (fecha de pago) <code>descripcion</code> (descripci\u00f3n) Path: <code>facturaId</code> (ID de la factura) 200 OK JSON con los detalles de la factura modificada 400 Bad Request <code>La fecha de pago debe ser v\u00e1lida</code> 400 Bad Request <code>Tipo de pago debe ser v\u00e1lido, opciones: ('credito', 'contado', 'recibo')</code> 400 Not Found <code>Factura no encontrada</code> <code>400 Bad Request</code> <code>No se puede modificar una factura anulada</code> 500 Internal Server Error <code>Error al modificar Factura: { detalle: \"mensaje de error\" }</code> Requerido PUT /api/facturas-recalcular/:id Recalcula el monto de una factura. Path: <code>facturaId</code> (ID de la factura) 200 OK JSON con el detalle del monto recalculado 400 Bad Request <code>Factura no existe</code> 400 Bad Request <code>Factura ya pagada</code> <code>400 Bad Request</code> <code>No se puede modificar una factura anulada</code> 500 Internal Server Error <code>Error al modificar Factura: { detalle: \"mensaje de error\" }</code> Requerido PUT /api/facturas-estado/:id Cambia el estado de una factura. Body: <code>fechaPago</code> (fecha de pago, si se cambia a 'pagada') <code>estado</code> (nuevo estado: 'pagada', 'anulada', 'pendiente') Path: <code>facturaId</code> (ID de la factura) 200 OK JSON con los detalles de la factura con el estado actualizado 400 Bad Request <code>Factura no existe</code> 400 Bad Request <code>No se puede modificar una factura anulada</code> <code>400 Bad Request</code> <code>Factura ya est\u00e1 pagada</code> <code>400 Bad Request</code> <code>La fecha de pago es obligatoria y debe ser v\u00e1lida</code> <code>400 Bad Request</code> <code>Uno de los pedidos de esta factura ya est\u00e1 pagado.</code> <code>400 Bad Request</code> <code>Solo se puede cambiar a estado de factura: ('anulada', 'pagada', 'pendiente')</code> 500 Internal Server Error <code>Error al modificar Factura: { detalle: \"mensaje de error\" }</code> Requerido DELETE /api/facturas/:id Elimina una factura existente. Path: <code>facturaId</code> (ID de la factura) 201 Created JSON con el mensaje de \u00e9xito 400 Bad Request <code>Factura no existe</code> 400 Bad Request <code>No se puede eliminar una factura pagada</code> 500 Internal Server Error <code>Error al Eliminar Factura: { detalle: \"mensaje de error\" }</code> Requerido(Admin)"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#historico-camion","title":"Historico-camion","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/historico-camion Registra el uso de un cami\u00f3n por un chofer Body: { empleadoId, camionId, fechaInicio } 201 Created: <code>{ id, empleadoId, camionId, fechaInicio, fechaFin }</code> 500 Internal Server Error: <code>{ error: 'Error al crear el historico-camion', detalle: &lt;mensaje&gt; }</code> o <code>500 Internal Server Error</code>: <code>{ error: 'Error al crear el historico-camion', detalle: &lt;mensaje&gt;, stack: &lt;stack&gt; }</code> Requerido GET /api/historico-camion/asignacion Obtiene las asignaciones actuales de todos los camiones - 200 OK: <code>[{ id, empleadoId, camionId, fechaInicio, fechaFin, empleado: { nombre }, camion: { matricula } }]</code> 500 Internal Server Error: <code>{ error: 'Error al obtener el historico-camion', detalle: &lt;mensaje&gt; }</code> o <code>500 Internal Server Error</code>: <code>{ error: 'Error al obtener el historico-camion', detalle: &lt;mensaje&gt;, stack: &lt;stack&gt; }</code> Requerido GET /api/historico-camion Obtiene el hist\u00f3rico de asignaciones de un cami\u00f3n o empleado espec\u00edfico Query: { camionId, empleadoId } 200 OK: <code>[{ id, empleadoId, camionId, fechaInicio, fechaFin, empleado: { nombre }, camion: { matricula } }]</code> 400 Bad Request: <code>{ error: 'Debes proporcionar un id de camion o un id de empleado' }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener el historico-camion', detalle: &lt;mensaje&gt; }</code> o <code>500 Internal Server Error</code>: <code>{ error: 'Error al obtener el historico-camion', detalle: &lt;mensaje&gt;, stack: &lt;stack&gt; }</code> Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#jornales-y-datos","title":"Jornales y Datos:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/jornales Crea un nuevo jornal Body: <code>empleadoId</code> (string) <code>fecha</code> (string) <code>entrada</code> (string, opcional) <code>salida</code> (string, opcional) <code>tipo</code> (string, uno de: trabajo, licencia, enfermedad, falta) 201 Created <code>{ id, empleadoId, fecha, entrada, salida, tipo, creadoPor }</code> 400 Bad Request <code>{ error: 'El empleadoId es obligatorio' }</code> <code>{ error: 'Tipo inv\u00e1lido' }</code> <code>{ error: 'La fecha es obligatoria y debe ser v\u00e1lida' }</code> <code>{ error: 'La hora de entrada es obligatoria y debe ser un string' }</code> <code>{ error: 'La hora de salida es obligatoria y debe ser un string' }</code> <code>{ error: 'Ya existe un jornal para este empleado en la fecha especificada' }</code> 500 Internal Server Error <code>{ error: 'Error al crear el jornal', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al crear el jornal', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido DELETE /api/jornales/ Borra un jornal existente Path: <code>jornalId</code> (integer) 200 OK <code>{ message: 'Jornal borrado exitosamente' }</code> 400 Not Found <code>{ error: 'Jornal no encontrado' }</code> 500 Internal Server Error <code>{ error: 'Error al borrar el jornal', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al borrar el jornal', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido(Admin) PUT /api/jornales/:id Edita un jornal existente Path: <code>jornalId</code> (integer) Body: <code>empleadoId</code> (string) <code>fecha</code> (string) <code>entrada</code> (string, opcional) <code>salida</code> (string, opcional) <code>tipo</code> (string, uno de: trabajo, licencia, enfermedad, falta) 200 OK <code>{ id, empleadoId, fecha, entrada, salida, tipo }</code> 400 Not Found <code>{ error: 'Jornal no encontrado' }</code> 400 Bad Request <code>{ error: 'Ya existe un jornal para este empleado en esta fecha' }</code> 500 Internal Server Error <code>{ error: 'Error al editar el jornal', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al editar el jornal', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido GET /api/jornales/ Obtiene un jornal espec\u00edfico Path: <code>jornalId</code> (integer) 200 OK <code>{ id, empleadoId, fecha, entrada, salida, tipo }</code> 400 Not Found <code>{ error: 'Jornal no encontrado' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener el jornal', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al obtener el jornal', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido GET /api/jornales/:empleadoId/:fechaInicio/:fechaFin Obtiene los jornales y movimientos de un empleado en un rango de fechas Path: <code>empleadoId</code> (integer) <code>fechaInicio</code> (string) <code>fechaFin</code> (string) Query: <code>empleadoId</code>, <code>fechaInicio</code>, <code>fechaFin</code> 200 OK <code>[ { id, fecha, tipo, horas, horasExtra, entrada, salida, entregas, levantes, viajes }, ... ]</code> 400 Bad Request <code>{ error: 'Empleado no existe' }</code> <code>{ error: 'Debe ingresar fecha de inicio y fecha de fin' }</code> <code>{ error: 'Las fechas proporcionadas no son v\u00e1lidas' }</code> <code>{ error: 'La fecha de inicio debe ser menor a la de final' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener jornales del empleado', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al obtener jornales del empleado', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido GET /api/datos/:empleadoId/:fechaInicio/:fechaFin Obtiene datos agregados de jornales para un empleado en un rango de fechas Path: <code>empleadoId</code> (integer) <code>fechaInicio</code> (string) <code>fechaFin</code> (string) 200 OK <code>{ empleadoId, registros, diasTrabajo, diasLicencia, diasEnfermedad, diasFalta, horasTrabajadas, horasExtra }</code> 400 Bad Request <code>{ error: 'Descripci\u00f3n del error' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener los datos', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al obtener los datos', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido GET /api/datos/todos/:fechaInicio/:fechaFin Obtiene datos agregados de jornales para todos los empleados en un rango de fechas Path: <code>fechaInicio</code> (string) <code>fechaFin</code> (string) 200 OK <code>[ { empleadoId, registros, diasTrabajo, diasLicencia, diasEnfermedad, diasFalta, horasTrabajadas, horasExtra }, ... ]</code> 400 Bad Request <code>{ error: 'Descripci\u00f3n del error' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener los datos', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al obtener los datos', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#movimientos","title":"Movimientos:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de login POST /api/movimientos Crea un nuevo movimiento Body: <code>pedidoId</code> (string) <code>tipo</code> (string, uno de: entrega, levante) <code>numeroVolqueta</code> (string, opcional) <code>choferId</code> (string) <code>horario</code> (string) 201 Created <code>{ id, pedidoId, tipo, numeroVolqueta, choferId, horario }</code> 400 Bad Request <code>{ error: 'Tipo solo puede ser \"entrega\" o \"levante\"' }</code> <code>{ error: 'Movimiento debe tener Chofer' }</code> <code>{ error: 'Movimiento debe tener Pedido' }</code> <code>{ error: 'Movimiento debe tener horario' }</code> <code>{ error: 'Volqueta no existe' }</code> <code>{ error: 'Dado el estado de la volqueta (estado), esta no se puede utilizar' }</code> <code>{ error: 'Id de Chofer no es v\u00e1lido' }</code> <code>{ error: 'Id de Chofer no es v\u00e1lido, Empleado no es chofer' }</code> <code>{ error: 'Para crear la entrega el pedido no debe tener movimientos' }</code> <code>{ error: 'Volqueta esta siendo utilizada en otro lugar' }</code> <code>{ error: 'Para crear el levante el pedido debe tener 1 movimiento(Entrega)' }</code> <code>{ error: 'Volqueta del levante debe ser la misma que la de la entrega' }</code> <code>{ error: 'El horario del levante debe ser despu\u00e9s de la entrega' }</code> <code>{ error: 'Para asignar volqueta al levante, la entrega debe tener una' }</code> <code>{ error: 'Pedido no existe' }</code> 500 Internal Server Error <code>{ error: 'Error al crear el movimiento', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al crear el movimiento', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido PUT /api/movimientos/ Modifica un movimiento existente Path: <code>movimientoId</code> (integer) Body: <code>horario</code> (string, opcional) <code>pedidoId</code> (string, opcional) <code>tipo</code> (string, opcional) <code>numeroVolqueta</code> (string, opcional) <code>choferId</code> (string, opcional) 200 OK <code>{ id, horario, pedidoId, tipo, numeroVolqueta, choferId }</code> 400 Bad Request <code>{ error: 'El Tipo o el Pedido de movimiento no son modificables' }</code> <code>{ error: 'Debe incluir alg\u00fan campo v\u00e1lido a modificar (chofer, horario, n\u00famero de volqueta)' }</code> <code>{ error: 'No existe movimiento' }</code> <code>{ error: 'horario de levante debe ser despu\u00e9s del de entrega' }</code> <code>{ error: 'horario de entrega debe ser antes del de levante' }</code> <code>{ error: 'Id de Chofer sugerido no es v\u00e1lido' }</code> <code>{ error: 'Id de Chofer sugerido no es v\u00e1lido, Empleado no es chofer' }</code> 500 Internal Server Error <code>{ error: 'Error al modificar el movimiento', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al modificar el movimiento', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido GET /api/movimientos Obtiene todos los movimientos 200 OK <code>[ { id, pedidoId, tipo, numeroVolqueta, choferId, horario }, ... ]</code> 500 Internal Server Error <code>{ error: 'Error al obtener movimientos', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al obtener movimientos', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido DELETE /api/movimientos/ Elimina un movimiento existente Path: <code>movimientoId</code> (integer) 200 OK <code>{ detalle: 'Movimiento eliminado exitosamente' }</code> 400 Not Found <code>{ error: 'No existe movimiento' }</code> 400 Bad Request <code>{ error: 'Debe eliminar el levante primero' }</code> <code>{ error: 'Movimiento eliminado, Pero la Volqueta de este pedido est\u00e1 siendo utilizada en alg\u00fan otro lugar. Volqueta no puede ser usada en dos pedidos a la vez (Elimine la entrega o modifique su volqueta)' }</code> 500 Internal Server Error <code>{ error: 'Error al eliminar el movimiento', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al eliminar el movimiento', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#obras","title":"Obras:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/obras Crea una nueva obra Body: <code>dias</code>, <code>destinoFinal</code>, <code>calle</code>, <code>esquina</code>, <code>barrio</code>, <code>coordenadas</code>, <code>numeroPuerta</code>, <code>descripcion</code>, <code>detalleResiduos</code>, <code>residuosMezclados</code>, <code>residuosReciclados</code>, <code>frecuenciaSemanal</code>, <code>particularId</code>, <code>empresaId</code> 201 Created: <code>{ obra, obraDetalles }</code> 400 Bad Request: <code>{ error: 'La calle es obligatoria' }</code> 400 Bad Request: <code>{ error: 'La Obra debe pertenecer exclusivamente a una empresa o a un particular' }</code> 400 Bad Request: <code>{ error: 'Ese Particular no existe' }</code> 400 Bad Request: <code>{ error: 'Esa Empresa no existe' }</code> 500 Internal Server Error: <code>{ error: 'Error al crear la obra', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al crear la obra', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/obras Obtiene todas las obras - 200 OK: <code>[ obra1, obra2, ... ]</code> 500 Internal Server Error: <code>{ error: 'Error al obtener las obras', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener las obras', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/obras/:id Obtiene una obra por ID Path: <code>obraId</code> Query: <code>detalle</code> (opcional, valores posibles: 'si') 200 OK: <code>{ obra }</code> 404 Not Found: <code>{ error: 'Obra no encontrada' }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener la obra', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener la obra', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/obras-ultimos-meses Obtiene obras con pedidos recientes Query: <code>cantidadMeses</code> 200 OK: <code>[ obra1, obra2, ... ]</code> 400 Bad Request: <code>{ error: 'La cantidad de meses debe ser mayor a 0' }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener obras con pedidos recientes', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener obras con pedidos recientes', detalle: [error details] }</code> Requerido PUT /api/obras/:id Actualiza una obra por ID Path: <code>obraId</code> Body: <code>dias</code>, <code>destinoFinal</code>, <code>calle</code>, <code>esquina</code>, <code>barrio</code>, <code>coordenadas</code>, <code>numeroPuerta</code>, <code>descripcion</code>, <code>detalleResiduos</code>, <code>residuosMezclados</code>, <code>residuosReciclados</code>, <code>frecuenciaSemanal</code>, <code>particularId</code>, <code>empresaId</code> 200 OK: <code>{ updatedObra }</code> 404 Not Found: <code>{ error: 'Obra no encontrada' }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar la obra', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar la obra', detalle: [error details], stack: [stack trace] }</code> Requerido PUT /api/obras-detalle/:id Actualiza los detalles de una obra por ID Path: <code>obraId</code> Body: <code>detalleResiduos</code>, <code>residuosMezclados</code>, <code>residuosReciclados</code>, <code>destinoFinal</code>, <code>dias</code>, <code>frecuenciaSemanal</code> 200 OK: <code>{ updatedObra }</code> 404 Not Found: <code>{ error: 'Obra no encontrada' }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar los detalles de la obra', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar los detalles de la obra', detalle: [error details], stack: [stack trace] }</code> Requerido DELETE /api/obras/:id Elimina una obra por ID Path: <code>obraId</code> 200 OK: <code>{ detalle: 'Obra en la calle [calle] eliminada correctamente' }</code> 404 Not Found: <code>{ error: 'La Obra no existe' }</code> 500 Internal Server Error: <code>{ error: 'Error al eliminar la obra', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al eliminar la obra', detalle: [error details], stack: [stack trace] }</code> Requerido(Admin)"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#pagopedidos","title":"PagoPedidos:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login PUT /api/pago-pedididos/:id Modifica un pago de pedido por ID Path: <code>pagoPedidoId</code> Body: <code>remito</code>, <code>precio</code>, <code>pagado</code>, <code>tipoPago</code> 202 Accepted: <code>{ pagoPedido }</code> 400 Bad Request: <code>{ error: 'Tipo de pago debe ser v\u00e1lido, opciones: (\\'transferencia\\', \\'efectivo\\', \\'cheque\\')' }</code> 400 Bad Request: <code>{ error: 'El campo precio debe ser un n\u00famero v\u00e1lido.' }</code> 404 Not Found: <code>{ error: 'Pago del Pedido no existe' }</code> 500 Internal Server Error: <code>{ error: 'Error al modificar el pago', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al modificar el pago', detalle: [error details], stack: [stack trace] }</code> Requerido(Admin)"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#particulares","title":"Particulares:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/particulares Crea un nuevo particular Body: <code>nombre</code>, <code>cedula</code>, <code>descripcion</code>, <code>email</code> 201 Created: <code>{ nuevoParticular }</code> 400 Bad Request: <code>{ error: 'El nombre del Particular es obligatorio' }</code> 400 Bad Request: <code>{ error: 'El email no es v\u00e1lido' }</code> 400 Bad Request: <code>{ error: 'Cedula invalida, deben ser 8 numeros' }</code> 500 Internal Server Error: <code>{ error: 'Error al crear el particular', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al crear el particular', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/particulares/:id Obtiene un particular por ID Path: <code>particularId</code> 200 OK: <code>{ particular }</code> 404 Not Found: <code>{ error: 'Particular no encontrado' }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener el particular', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener el particular', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/particulares Obtiene todos los particulares No par\u00e1metros 200 OK: <code>[ particulares ]</code> 500 Internal Server Error: <code>{ error: 'Error al obtener los particulares', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener los particulares', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/particulares/buscar Busca particulares seg\u00fan par\u00e1metros Query: <code>nombre</code>, <code>email</code>, <code>cedula</code>, <code>letraInicial</code> 200 OK: <code>[ particulares ]</code> 400 Bad Request: <code>{ error: 'Debe proporcionar al menos un par\u00e1metro de b\u00fasqueda (nombre, email, cedula).' }</code> 400 Bad Request: <code>{ error: 'La b\u00fasqueda por letra inicial debe tener solo una letra' }</code> 500 Internal Server Error: <code>{ error: 'Error al buscar los particulares', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al buscar los particulares', detalle: [error details], stack: [stack trace] }</code> Requerido PUT /api/particulares/:id Actualiza un particular por ID Path: <code>particularId</code> Body: <code>nombre</code>, <code>cedula</code>, <code>descripcion</code>, <code>email</code> 200 OK: <code>{ updatedParticular }</code> 404 Not Found: <code>{ error: 'Cliente Particular no encontrado' }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar el particular', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar el particular', detalle: [error details], stack: [stack trace] }</code> Requerido DELETE /api/particulares/:id Elimina un particular por ID Path: <code>particularId</code> 200 OK: <code>{ detalle: 'Particular con nombre [nombre] fue eliminado correctamente' }</code> 404 Not Found: <code>{ error: 'El particular con ese id no existe' }</code> 500 Internal Server Error: <code>{ error: 'Error al eliminar el particular', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al eliminar el particular', detalle: [error details], stack: [stack trace] }</code> Requerido(Admin)"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#pedidos","title":"Pedidos:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/pedidos/nuevo Crea un pedido nuevo con entrega y levante <code>obraId</code>, <code>descripcion</code>, <code>permisoId</code>, <code>referenciaId</code>, <code>cantidadMultiple</code>, <code>precio</code>, <code>pagado</code>, <code>tipoPago</code>, <code>horarioSugerido</code>, <code>choferSugeridoId</code> 201 Created <code>{ nuevaSugerencia, nuevoPedido, nuevoPago }</code> 500 Internal Server Error <code>{ error: 'Error al crear el pedido', detalle: error.message }</code> o <code>{ error: 'Error al crear el pedido', detalle: [error.errors], stack: error.stack.message }</code> Requerido POST /api/pedidos/recambio Crea un pedido nuevo como recambio <code>obraId</code>, <code>descripcion</code>, <code>permisoId</code>, <code>referenciaId</code>, <code>cantidadMultiple</code>, <code>precio</code>, <code>pagado</code>, <code>tipoPago</code>, <code>horarioSugerido</code>, <code>choferSugeridoId</code> 201 Created <code>{ nuevaSugerencia, nuevoPedido, nuevoPago }</code> 500 Internal Server Error <code>{ error: 'Error al crear el pedido', detalle: error.message }</code> o <code>{ error: 'Error al crear el pedido', detalle: [error.errors], stack: error.stack.message }</code> Requerido POST /api/pedidos/multiple Crea varios pedidos <code>obraId</code>, <code>descripcion</code>, <code>permisoId</code>, <code>referenciaId</code>, <code>cantidadMultiple</code>, <code>precio</code>, <code>pagado</code>, <code>tipoPago</code>, <code>horarioSugerido</code>, <code>choferSugeridoId</code> 201 Created <code>{ nuevaSugerencia, nuevoPedido, nuevoPago }</code> 500 Internal Server Error <code>{ error: 'Error al crear los pedidos', detalle: error.message }</code> o <code>{ error: 'Error al crear los pedidos', detalle: [error.errors], stack: error.stack.message }</code> Requerido GET(Desactivado) /api/pedidos Obtiene todos los pedidos - 200 OK <code>{ pagoPedidos, pedidos, sugerencias, movimientos }</code> 500 Internal Server Error <code>{ error: 'Error al obtener pedidos', detalle: error.message }</code> o <code>{ error: 'Error al obtener pedidos', detalle: [error.errors], stack: error.stack }</code> Requerido GET /api/pedidos/multiples/ Obtiene los pedidos m\u00faltiples de un pedido base <code>pedidoId</code> (Path) 200 OK <code>[ { id, estado }, ... ]</code> 400 Bad Request <code>{ error: 'Id de pedido incorrecto, pedido debe existir y ser multiple' }</code> o 500 Internal Server Error <code>{ error: 'Error al obtener pedidos multiples', detalle: error.message }</code> o <code>{ error: 'Error al obtener pedidos multiples', detalle: [error.errors], stack: error.stack.toString() }</code> Requerido GET /api/pedidos/filtro Obtiene pedidos con filtros espec\u00edficos <code>ultimos</code>, <code>estado</code>, <code>pagado</code>, <code>fechaInicio</code>, <code>fechaFin</code>, <code>empresaId</code>, <code>particularId</code>, <code>tipoHorario</code>, <code>obraId</code>, <code>choferId</code>, <code>choferSugeridoId</code> 200 OK <code>[ { id, createdAt, descripcion, estado, creadoComo, pagoPedido, obra, movimiento, sugerencia }, ... ]</code> 400 Bad Request <code>{ error: 'No se pueden traer mas de 50 Pedidos a la vez' }</code> o <code>{ error: \"Los tipos de horario solo pueden ser: ('movimientoEntrega', 'movimientoLevante', 'sugerenciaEntrega', 'sugerenciaLevante', 'creacion')\" }</code> o <code>{ error: 'FechaFin debe ser despues de fechaInicio' }</code> o <code>{ error: 'Debe ingresar fecha de inicio y fecha de fin' }</code> o <code>{ error: \"Los tipos de estado de pedidos solo pueden ser: ('cancelado', 'iniciado', 'entregado', 'levantado')\" }</code> o <code>{ error: 'Error al obtener pedido', detalle: error.message }</code> o <code>{ error: 'Error al obtener pedido', detalle: [error.errors], stack: error.stack }</code> Requerido GET /api/pedidos/:id Obtiene un pedido por ID <code>pedidoId</code> (Path) 200 OK <code>{ id, descripcion, estado, creadoComo, pagoPedido, sugerencias, movimientos, obra }</code> 400 Not Found <code>{ error: 'Error al obtener pedido', detalle: 'Pedido no existe' }</code> o <code>{ error: 'Error al obtener pedido', detalle: error.message }</code> o <code>{ error: 'Error al obtener pedido', detalle: [error.errors], stack: error.stack }</code> Requerido PUT /api/pedidos/:id Modifica un pedido <code>pedidoId</code> (Path), <code>descripcion</code>, <code>nroPesada</code>, <code>obraId</code> (Body) 200 OK <code>{ id, descripcion, nroPesada, obraId }</code> 400 Not Found <code>{ error: 'Pedido no existe' }</code> o <code>{ error: 'Obra no existe' }</code> o <code>{ error: 'Obra no esta activa' }</code> o <code>{ error: 'Obra y Permiso tienen diferente Cliente vinculado, El permiso puede ser el vigente de Volketas 10 o propio del particular' }</code> o <code>{ error: 'Obra y Permiso tienen diferente Empresa vinculada' }</code> Requerido M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login PATCH /api/pedidos-permiso/:pedidoId Modifica el permiso asociado a un pedido. Path: <code>pedidoId</code> - ID del pedido. Body: <code>permisoId</code> - ID del permiso a asociar (o <code>null</code> para eliminar el permiso). 202 Accepted <code>{ pedido }</code> 404 Not Found <code>{ error: 'Pedido no existe' }</code> 400 Bad Request <code>{ error: 'Permiso no existe' }</code> <code>{ error: 'Permiso Vencido, antes de la creacion del pedido' }</code> <code>{ error: 'Obra y Permiso tienen diferente particular vinculado' }</code> <code>{ error: 'Obra y Permiso tienen diferente Empresa vinculada' }</code> 500 Internal Server Error <code>{ error: 'Error al modificar el permiso del pedido', detalle: [mensaje de error] }</code> <code>{ error: 'Error al modificar el permiso del pedido', detalle: [mensaje de error], stack: [mensaje de stack] }</code> Requerido DELETE /api/pedidos/:pedidoId Elimina un pedido. Path : <code>pedidoId</code> - ID del pedido a eliminar. 200 OK <code>{ detalle: 'Pedido cancelado exitosamente' }</code> 404 Not Found <code>{ error: 'Pedido no encontrado' }</code> 400 Bad Request <code>{ error: 'Error al cancelar el Pedido, tiene movimientos vinculados' }</code> <code>{ error: 'Error al cancelar el Pedido, El pedido tiene una factura vinculada' }</code> <code>{ error: 'Error al cancelar el Pedido, El pedido fue pagado' }</code> 500 Internal Server Error <code>{ error: 'Error al eliminar el pedido', detalle: [mensaje de error] }</code> <code>{ error: 'Error al eliminar el pedido', detalle: [mensaje de error], stack: [mensaje de stack] }</code> Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#permisos","title":"Permisos:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/permisos Crear un nuevo permiso Body: <code>fechaCreacion</code>, <code>fechaVencimiento</code>, <code>empresaId</code>, <code>particularId</code>, <code>id</code> 201 Created con los detalles del nuevo permiso 400 Bad Request con errores de validaci\u00f3n como fechas inv\u00e1lidas o campos vac\u00edos 500 Internal Server Error con detalles del error de creaci\u00f3n Requerido GET /api/permisos Obtener permisos del mes actual - 200 OK con la lista de permisos 500 Internal Server Error con detalles del error de consulta Requerido GET /api/permisos/:id Obtener un permiso espec\u00edfico Path: <code>permisoId</code> Query: <code>fechaInicio</code>, <code>fechaFin</code> 200 OK con los detalles del permiso 400 Bad Request si <code>fechaFin</code> es anterior a <code>fechaInicio</code> 500 Internal Server Error con detalles del error de consulta Requerido GET /api/permisos/empresa/:id Obtener permisos por empresa Path: <code>empresaId</code> Query: <code>activo</code> 200 OK con la lista de permisos 500 Internal Server Error con detalles del error de consulta Requerido GET /api/permisos/particular/:id Obtener permisos por particular Path: <code>particularId</code> Query: <code>activo</code> 200 OK con la lista de permisos 500 Internal Server Error con detalles del error de consulta Requerido PUT /api/permisos/:id Actualizar un permiso existente Path: <code>permisoId</code> Body: <code>fechaCreacion</code>, <code>fechaVencimiento</code>, <code>empresaId</code>, <code>particularId</code> 200 OK con los detalles del permiso actualizado 400 Bad Request si <code>fechaCreacion</code> es posterior a <code>fechaVencimiento</code> 400 Not Found si el permiso o entidad relacionada no existe 500 Internal Server Error con detalles del error de actualizaci\u00f3n Requerido DELETE /api/permisos/:id Eliminar un permiso Path: <code>permisoId</code> <code>204 No Content</code> con mensaje de \u00e9xito 400 Not Found si el permiso no existe 500 Internal Server Error con detalles del error de eliminaci\u00f3n Requerido(Admin)"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#servicios-camion","title":"Servicios-Camion:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/servicios Crear un nuevo servicio Body: <code>precio</code>, <code>camionId</code>, <code>tipo</code>, <code>fecha</code>, <code>descripcion</code>, <code>moneda</code> 201 Created con los detalles del nuevo servicio 400 Bad Request por tipo o moneda inv\u00e1lidos, o si el cami\u00f3n no existe 500 Internal Server Error con detalles del error de creaci\u00f3n Requerido GET /api/servicios Obtener todos los servicios - 200 OK con la lista de servicios 500 Internal Server Error con detalles del error de consulta Requerido GET /api/servicios/:camionid Obtener servicios por cami\u00f3n Path: <code>camionId</code> 200 OK con la lista de servicios 500 Internal Server Error con detalles del error de consulta Requerido GET /api/servicios/mensuales Obtener servicios mensuales Query: <code>month</code>, <code>year</code>, <code>camionId</code> 200 OK con la lista de servicios 400 Bad Request por mes o a\u00f1o inv\u00e1lidos 500 Internal Server Error con detalles del error de consulta Requerido DELETE /api/servicios/:id Eliminar un servicio Path: <code>servicioId</code> 200 OK con mensaje de \u00e9xito 400 Not Found si el servicio no existe 500 Internal Server Error con detalles del error de eliminaci\u00f3n Requerido(Admin)"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#sugerencias","title":"Sugerencias:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/sugerencias Crear una nueva sugerencia Body: <code>horarioSugerido</code>, <code>choferSugeridoId</code>, <code>tipoSugerido</code>, <code>pedidoId</code> 201 Created con los detalles de la nueva sugerencia 400 Bad Request si el pedido no existe, tipoSugerido inv\u00e1lido, o sugerencia ya existe 500 Internal Server Error con detalles del error de creaci\u00f3n Requerido PUT /api/sugerencias/:id Actualizar una sugerencia existente Path: <code>sugerenciaId</code> Body: <code>horarioSugerido</code>, <code>choferSugeridoId</code> <code>202 Accepted</code> con los detalles de la sugerencia actualizada 400 Not Found si la sugerencia no existe 400 Bad Request si el chofer no es v\u00e1lido 500 Internal Server Error con detalles del error de actualizaci\u00f3n Requerido DELETE /api/sugerencias/:id Eliminar una sugerencia Path: <code>sugerenciaId</code> 200 OK con mensaje de \u00e9xito 400 Not Found si la sugerencia no existe 500 Internal Server Error con detalles del error de eliminaci\u00f3n Requerido(Admin) GET /api/sugerencias/verificar Verificar sugerencias para un chofer en un rango de tiempo Query: <code>choferId</code>, <code>horario</code> 200 OK con la lista de sugerencias o mensaje si no hay sugerencias 400 Bad Request si <code>choferId</code> o <code>horario</code> faltan 500 Internal Server Error con detalles del error de verificaci\u00f3n Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#telefono","title":"Telefono:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/telefonos Crear un nuevo tel\u00e9fono Body: <code>telefono</code>, <code>tipo</code>, <code>extension</code>, <code>empleadoId</code>, <code>contactoEmpresaId</code>, <code>particularId</code> 201 Created con los detalles del nuevo tel\u00e9fono 400 Bad Request si el tel\u00e9fono no es num\u00e9rico, tipo inv\u00e1lido, tel\u00e9fono o propietario faltan, o longitud incorrecta 500 Internal Server Error con detalles del error de creaci\u00f3n Requerido GET /api/telefonos Obtener todos los tel\u00e9fonos - 200 OK con la lista de tel\u00e9fonos 500 Internal Server Error con detalles del error al obtener los tel\u00e9fonos Requerido GET /api/telefonos/:id Obtener un tel\u00e9fono por ID Path: <code>telefonoId</code> 200 OK con los detalles del tel\u00e9fono 400 Not Found si el tel\u00e9fono no existe 500 Internal Server Error con detalles del error al obtener el tel\u00e9fono Requerido PUT /api/telefonos/:id Actualizar un tel\u00e9fono existente Path: <code>telefonoId</code> Body: <code>telefono</code>, <code>tipo</code> 200 OK con los detalles del tel\u00e9fono actualizado 400 Bad Request si el celular tiene longitud incorrecta 400 Not Found si el tel\u00e9fono no existe 500 Internal Server Error con detalles del error de actualizaci\u00f3n Requerido DELETE /api/telefonos/:id Eliminar un tel\u00e9fono Path: <code>telefonoId</code> 200 OK con mensaje de \u00e9xito 400 Not Found si el tel\u00e9fono no existe 500 Internal Server Error con detalles del error de eliminaci\u00f3n Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-metodos/#volquetas","title":"Volquetas","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/volquetas Crea una nueva volqueta. Body: <code>numeroVolqueta</code>, <code>estado</code>, <code>tipo</code> 201 Created <code>{ id, numeroVolqueta, estado, tipo }</code> 400 Bad Request <code>{ error: 'Tipo inv\u00e1lido' }</code> <code>{ error: 'Estado inv\u00e1lido' }</code> <code>{ error: 'Numero de volqueta es obligatorio' }</code> 500 Internal Server Error <code>{ error: 'Error al crear la volqueta', detalle: [errors] }</code> Requerido GET /api/volquetas/:id Obtiene una volqueta por su n\u00famero, incluyendo movimientos si se especifican fechas. Path: <code>numeroVolqueta</code> Query: <code>fechaInicio</code>, <code>fechaFin</code> 200 OK <code>{ id, numeroVolqueta, estado, tipo, Movimientos }</code> 400 Bad Request <code>{ error: 'FechaFin debe ser despues de fechaInicio' }</code> 400 Not Found <code>{ error: 'Volqueta no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener movimientos de la volqueta', detalle: [errors] }</code> Requerido GET /api/volquetas Obtiene todas las volquetas con sus \u00faltimos movimientos. N/A 200 OK <code>[ { id, numeroVolqueta, estado, tipo, Movimientos } ]</code> 500 Internal Server Error <code>{ error: 'Error al obtener volquetas con sus \u00faltimos movimientos', detalle: [errors] }</code> Requerido PUT /api/volquetas/:id Actualiza una volqueta por su n\u00famero. Path: <code>numeroVolqueta</code> Body: <code>estado</code>, <code>tipo</code> 200 OK <code>{ id, numeroVolqueta, estado, tipo }</code> 400 Bad Request <code>{ error: 'Tipo inv\u00e1lido' }</code> <code>{ error: 'Estado inv\u00e1lido' }</code> 400 Not Found <code>{ error: 'Volqueta no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al actualizar la volqueta', detalle: [errors] }</code> Requerido DELETE /api/volquetas/:id Elimina una volqueta por su n\u00famero. Path: <code>numeroVolqueta</code> <code>204 No Content</code> <code>{ detalle: 'Volqueta eliminada' }</code> 400 Not Found <code>{ error: 'Volqueta no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al borrar la volqueta', detalle: [errors] }</code> Requerido(Admin) PUT /api/volquetas-ubicacion/:id Actualiza la ubicaci\u00f3n temporal de una volqueta. Path: <code>numeroVolqueta</code> Body: <code>ubicacionTemporal</code> 200 OK <code>{ id, numeroVolqueta, estado, tipo, ubicacionTemporal }</code> 400 Bad Request <code>{ error: 'Debe ingresar una ubicacion' }</code> <code>{ error: 'Volqueta esta ocupada, no se puede cambiar la ubicacion manualmente' }</code> 400 Not Found <code>{ error: 'Volqueta no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al actualizar la volqueta', detalle: [errors] }</code> Requerido GET /api/volquetas-48hs Obtiene los pedidos con volquetas que llevan m\u00e1s de 48 horas en la calle. Query: <code>numero</code> 200 OK <code>[ { id, horario, numeroVolqueta, Obras } ]</code> 500 Internal Server Error <code>{ error: 'Error al obtener los pedidos con volquetas con mas de 48hs en la calle', detalle: [errors] }</code> Requerido"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/","title":"Documentacion backend modelos","text":"<ul> <li>Modelo: `Cajas`</li> <li>Modelo: `Camiones`</li> <li>Modelo: `Config`</li> <li>Modelo: `ContactoEmpresas`</li> <li>Modelo: `Empleados`</li> <li>Modelo: `Empresas`</li> <li>Modelo: `Facturas`</li> <li>Modelo: `HistoricoUsoCamion`</li> <li>Modelo: `Jornales`</li> <li>Modelo: `Movimientos`</li> <li>Modelo: `Obras`</li> <li>Modelo: `ObraDetalles`</li> <li>Modelo: `PagoPedidos`</li> <li>Modelo: `PagoPedidos`</li> <li>Modelo: `Particulares`</li> <li>Modelo: `Pedidos`</li> <li>Modelo: `Permisos`</li> <li>Modelo: `Servicios`</li> <li>Modelo: `Sugerencias`</li> <li>Modelo: `Telefonos`</li> <li>Modelo: `Usuarios`</li> <li>Modelo: `Volquetas`</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-cajas","title":"Modelo: <code>Cajas</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Cajas</code> representa registros financieros en la caja, como gastos, ingresos, y otros movimientos contables. Cada registro incluye informaci\u00f3n sobre la fecha, motivo, descripci\u00f3n, moneda, monto, y referencias a empleados y pedidos relacionados.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Cajas</code>.</p> </li> <li> <p><code>fecha</code>:</p> </li> <li> <p>Tipo: <code>DATEONLY</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Fecha del movimiento registrado en la caja.</p> </li> <li> <p><code>motivo</code>:</p> </li> <li> <p>Tipo: <code>ENUM('vale', 'gasto', 'ingreso', 'ingreso pedido', 'ingreso cochera', 'extraccion')</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Motivo del movimiento en la caja (vale, gasto, ingreso, etc.).</p> </li> <li> <p><code>descripcion</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Descripci\u00f3n opcional del movimiento.</p> </li> <li> <p><code>moneda</code>:</p> </li> <li> <p>Tipo: <code>ENUM('peso', 'dolar')</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Tipo de moneda en el registro (peso o d\u00f3lar).</p> </li> <li> <p><code>monto</code>:</p> </li> <li> <p>Tipo: <code>FLOAT</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Monto del movimiento registrado en la caja.</p> </li> <li> <p><code>empleadoId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Clave for\u00e1nea que referencia al <code>Empleado</code> que realiz\u00f3 el movimiento, si aplica.</p> </li> <li> <p><code>pedidoId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Clave for\u00e1nea que referencia al <code>Pedido</code> asociado al movimiento, si aplica.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>Empleados</code><ul> <li>Tipo: N a 1 (Muchos a Uno)</li> </ul> </li> <li>Relaci\u00f3n con <code>Pedidos</code><ul> <li>Tipo: N a 1 (Muchos a Uno)</li> </ul> </li> </ol>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-camiones","title":"Modelo: <code>Camiones</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_1","title":"Descripci\u00f3n","text":"<p>El modelo <code>Camiones</code> representa los veh\u00edculos utilizados en la empresa. Incluye informaci\u00f3n sobre la matr\u00edcula, modelo, a\u00f1o y estado del cami\u00f3n.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_1","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Camiones</code>.</p> </li> <li> <p><code>matricula</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>No permite valores nulos.</li> <li>\u00danico: Debe ser \u00fanico en la tabla.</li> <li>Validaciones:<ul> <li>No puede estar vac\u00edo.</li> </ul> </li> <li> <p>Descripci\u00f3n: Matr\u00edcula del cami\u00f3n.</p> </li> <li> <p><code>modelo</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>No permite valores nulos.</li> <li>Validaciones:<ul> <li>No puede estar vac\u00edo.</li> </ul> </li> <li> <p>Descripci\u00f3n: Modelo del cami\u00f3n.</p> </li> <li> <p><code>anio</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: A\u00f1o de fabricaci\u00f3n del cami\u00f3n.</p> </li> <li> <p><code>estado</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Estado actual del cami\u00f3n (por ejemplo, activo, en mantenimiento, etc.).</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_1","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>HistoricoUsoCamion</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Servicios</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Movimientos</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-config","title":"Modelo: <code>Config</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_2","title":"Descripci\u00f3n","text":"<p>El modelo <code>Config</code> representa la configuraci\u00f3n relacionada con precios y horas de trabajo. Incluye informaci\u00f3n sobre el precio sin IVA, el precio con IVA, el a\u00f1o de la configuraci\u00f3n y si la configuraci\u00f3n est\u00e1 activa.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_2","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Config</code>.</p> </li> <li> <p><code>anio</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: A\u00f1o asociado a la configuraci\u00f3n.</p> </li> <li> <p><code>precioSinIva</code>:</p> </li> <li> <p>Tipo: <code>FLOAT</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Precio base sin IVA.</p> </li> <li> <p><code>precioConIva</code>:</p> </li> <li> <p>Tipo: <code>FLOAT</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Precio con IVA. Este campo se calcula autom\u00e1ticamente basado en <code>precioSinIva</code>.</p> </li> <li> <p><code>horasDeTrabajo</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: N\u00famero de horas de trabajo asociadas a la configuraci\u00f3n.</p> </li> <li> <p><code>configActiva</code>:</p> </li> <li> <p>Tipo: <code>BOOLEAN</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Indica si la configuraci\u00f3n est\u00e1 activa (<code>true</code>) o no (<code>false</code>).</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#hooks","title":"Hooks","text":"<ul> <li> <p><code>beforeCreate</code>: Calcula el <code>precioConIva</code> antes de que se cree un nuevo registro. Si <code>precioSinIva</code> tiene un valor, <code>precioConIva</code> se establece en <code>precioSinIva * 1.22</code>.</p> </li> <li> <p><code>beforeUpdate</code>: Calcula el <code>precioConIva</code> antes de que se actualice un registro existente. Si <code>precioSinIva</code> tiene un valor, <code>precioConIva</code> se establece en <code>precioSinIva * 1.22</code>.</p> </li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_2","title":"Relaciones","text":"<p>El modelo <code>Config</code> no tiene relaciones.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-contactoempresas","title":"Modelo: <code>ContactoEmpresas</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_3","title":"Descripci\u00f3n","text":"<p>El modelo <code>ContactoEmpresas</code> representa los contactos asociados a empresas. Este modelo incluye informaci\u00f3n sobre el nombre del contacto, una descripci\u00f3n opcional, un email y las relaciones con las empresas y obras asociadas.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_3","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del contacto en la tabla <code>ContactoEmpresas</code>.</p> </li> <li> <p><code>nombre</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Nombre del contacto.</p> </li> <li> <p><code>descripcion</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Descripci\u00f3n adicional sobre el contacto.</p> </li> <li> <p><code>email</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Correo electr\u00f3nico del contacto. Debe ser un email v\u00e1lido (<code>validate: { isEmail: true }</code>).</p> </li> <li> <p><code>empresaId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Referencia a la empresa a la que pertenece el contacto. Este campo es una clave for\u00e1nea que referencia al modelo <code>Empresas</code>.</p> </li> <li> <p><code>obraId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Referencia a una obra asociada al contacto. Este campo es una clave for\u00e1nea que referencia al modelo <code>Obras</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_3","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>Empresas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Obras</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-empleados","title":"Modelo: <code>Empleados</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_4","title":"Descripci\u00f3n","text":"<p>El modelo <code>Empleados</code> representa a los empleados de la empresa. Este modelo incluye informaci\u00f3n sobre el nombre, rol, c\u00e9dula, estado de habilitaci\u00f3n, fechas de entrada y salida de la empresa, y direcci\u00f3n de cada empleado.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_4","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del empleado en la tabla <code>Empleados</code>.</p> </li> <li> <p><code>nombre</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Nombre del empleado.</p> </li> <li> <p><code>rol</code>:</p> </li> <li> <p>Tipo: <code>ENUM</code></p> </li> <li>Valores permitidos: <code>'admin'</code>, <code>'normal'</code>, <code>'chofer'</code>.</li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Rol del empleado dentro de la empresa.</p> </li> <li> <p><code>cedula</code>:</p> </li> <li> <p>Tipo: <code>STRING(8)</code></p> </li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed.</li> <li> <p>Descripci\u00f3n: C\u00e9dula del empleado. Debe ser \u00fanica en la tabla <code>Empleados</code>.</p> </li> <li> <p><code>habilitado</code>:</p> </li> <li> <p>Tipo: <code>BOOLEAN</code></p> </li> <li>Valor por defecto: <code>true</code>.</li> <li> <p>Descripci\u00f3n: Estado de habilitaci\u00f3n del empleado. Indica si el empleado est\u00e1 habilitado o no.</p> </li> <li> <p><code>fechaEntrada</code>:</p> </li> <li> <p>Tipo: <code>DATEONLY</code></p> </li> <li> <p>Descripci\u00f3n: Fecha en la que el empleado comenz\u00f3 a trabajar.</p> </li> <li> <p><code>fechaSalida</code>:</p> </li> <li> <p>Tipo: <code>DATEONLY</code></p> </li> <li>Valor por defecto: <code>null</code>.</li> <li> <p>Descripci\u00f3n: Fecha en la que el empleado dej\u00f3 de trabajar. Si el empleado sigue trabajando, este campo ser\u00e1 <code>null</code>.</p> </li> <li> <p><code>direccion</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Descripci\u00f3n: Direcci\u00f3n del empleado.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_4","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>Usuarios</code><ul> <li>Tipo: 1 a 1</li> </ul> </li> <li>Relaci\u00f3n con <code>HistoricoUsoCamion</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Jornales</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Telefonos</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Cajas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Sugerencias</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-empresas","title":"Modelo: <code>Empresas</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_5","title":"Descripci\u00f3n","text":"<p>El modelo <code>Empresas</code> representa a las empresas dentro del sistema. Este modelo incluye informaci\u00f3n sobre el RUT, nombre, raz\u00f3n social y descripci\u00f3n de cada empresa.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_5","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico de la empresa en la tabla <code>Empresas</code>.</p> </li> <li> <p><code>rut</code>:</p> </li> <li> <p>Tipo: <code>STRING(12)</code></p> </li> <li>\u00danico: S\u00ed.</li> <li> <p>Descripci\u00f3n: RUT (Rol \u00danico Tributario) de la empresa. Este campo puede ser nulo y debe ser \u00fanico si se proporciona.</p> </li> <li> <p><code>nombre</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Nombre de la empresa.</p> </li> <li> <p><code>razonSocial</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li> <p>Descripci\u00f3n: Raz\u00f3n social de la empresa. Es un campo opcional.</p> </li> <li> <p><code>descripcion</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Descripci\u00f3n: Descripci\u00f3n adicional sobre la empresa. Es un campo opcional.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_5","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>ContactoEmpresas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Obras</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Permisos</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Cajas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-facturas","title":"Modelo: <code>Facturas</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_6","title":"Descripci\u00f3n","text":"<p>El modelo <code>Facturas</code> representa una factura en el sistema. Incluye informaci\u00f3n sobre el tipo de factura, numeraci\u00f3n, estado, fecha de pago, monto y descripci\u00f3n.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_6","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico de la factura en la tabla <code>Facturas</code>.</p> </li> <li> <p><code>tipo</code>:</p> </li> <li> <p>Tipo: <code>ENUM('credito', 'contado', 'recibo')</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Tipo de la factura (cr\u00e9dito, contado, recibo).</p> </li> <li> <p><code>numeracion</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>\u00danico: S\u00ed.</li> <li> <p>Descripci\u00f3n: N\u00famero de la factura. Debe ser \u00fanico en el sistema.</p> </li> <li> <p><code>estado</code>:</p> </li> <li> <p>Tipo: <code>ENUM('pendiente', 'pagada', 'anulada')</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Estado de la factura (pendiente, pagada, anulada).</p> </li> <li> <p><code>fechaPago</code>:</p> </li> <li> <p>Tipo: <code>DATEONLY</code></p> </li> <li> <p>Descripci\u00f3n: Fecha en la que se realiz\u00f3 el pago de la factura. Es opcional.</p> </li> <li> <p><code>monto</code>:</p> </li> <li> <p>Tipo: <code>FLOAT</code></p> </li> <li> <p>Descripci\u00f3n: Monto total de la factura.</p> </li> <li> <p><code>descripcion</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li> <p>Descripci\u00f3n: Descripci\u00f3n adicional sobre la factura.</p> </li> <li> <p><code>particularId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Identificador del cliente particular asociado a la factura. Referencia al modelo <code>Particulares</code>.</p> </li> <li> <p><code>empresaId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la empresa asociada a la factura. Referencia al modelo <code>Empresas</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_6","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Particulares</code>: 1 a N (Uno a Muchos)</li> <li>Relaci\u00f3n con <code>Empresas</code>: 1 a N (Uno a Muchos)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-historicousocamion","title":"Modelo: <code>HistoricoUsoCamion</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_7","title":"Descripci\u00f3n","text":"<p>El modelo <code>HistoricoUsoCamion</code> registra el historial de uso de camiones por parte de empleados. Incluye informaci\u00f3n sobre el empleado, el cami\u00f3n, y las fechas de inicio y fin del uso del cami\u00f3n.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_7","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>HistoricoUsoCamion</code>.</p> </li> <li> <p><code>empleadoId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Identificador del empleado que utiliz\u00f3 el cami\u00f3n. Referencia al modelo <code>Empleados</code>.</p> </li> <li> <p><code>camionId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Identificador del cami\u00f3n que fue utilizado. Referencia al modelo <code>Camiones</code>.</p> </li> <li> <p><code>fechaInicio</code>:</p> </li> <li> <p>Tipo: <code>DATE</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Fecha de inicio del uso del cami\u00f3n.</p> </li> <li> <p><code>fechaFin</code>:</p> </li> <li> <p>Tipo: <code>DATE</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Fecha de finalizaci\u00f3n del uso del cami\u00f3n. Es opcional si el cami\u00f3n a\u00fan est\u00e1 en uso.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_7","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Camiones</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-jornales","title":"Modelo: <code>Jornales</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_8","title":"Descripci\u00f3n","text":"<p>El modelo <code>Jornales</code> registra los detalles de los turnos de trabajo de los empleados, incluyendo las horas de entrada y salida, y el c\u00e1lculo de horas extra. Tambi\u00e9n incluye informaci\u00f3n sobre el tipo de jornal y qui\u00e9n lo cre\u00f3.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_8","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Jornales</code>.</p> </li> <li> <p><code>empleadoId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Identificador del empleado al que corresponde el jornal. Referencia al modelo <code>Empleados</code>.</p> </li> <li> <p><code>tipo</code>:</p> </li> <li> <p>Tipo: <code>ENUM</code></p> </li> <li>Valores posibles: <code>'trabajo'</code>, <code>'licencia'</code>, <code>'enfermedad'</code>, <code>'falta'</code></li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Tipo de jornal registrado.</p> </li> <li> <p><code>fecha</code>:</p> </li> <li> <p>Tipo: <code>DATEONLY</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Fecha del jornal.</p> </li> <li> <p><code>entrada</code>:</p> </li> <li> <p>Tipo: <code>TIME</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Hora de entrada del empleado.</p> </li> <li> <p><code>salida</code>:</p> </li> <li> <p>Tipo: <code>TIME</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Hora de salida del empleado.</p> </li> <li> <p><code>horasExtra</code>:</p> </li> <li> <p>Tipo: <code>FLOAT</code></p> </li> <li>Valor por defecto: <code>0</code></li> <li> <p>Descripci\u00f3n: Horas extra calculadas, basadas en el l\u00edmite de horas diarias.</p> </li> <li> <p><code>creadoPor</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del usuario que cre\u00f3 el registro del jornal. Referencia al modelo <code>Usuarios</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_8","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Usuarios</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-movimientos","title":"Modelo: <code>Movimientos</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_9","title":"Descripci\u00f3n","text":"<p>El modelo <code>Movimientos</code> registra los movimientos de las volquetas asociados a pedidos. Incluye informaci\u00f3n sobre el n\u00famero de volqueta, el pedido asociado, el horario del movimiento, el tipo de movimiento y el chofer responsable.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_9","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Movimientos</code>.</p> </li> <li> <p><code>numeroVolqueta</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: N\u00famero de la volqueta asociada al movimiento. Referencia al campo <code>numeroVolqueta</code> del modelo <code>Volquetas</code>.</p> </li> <li> <p><code>pedidoId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Identificador del pedido asociado al movimiento. Referencia al campo <code>id</code> del modelo <code>Pedidos</code>.</p> </li> <li> <p><code>horario</code>:</p> </li> <li> <p>Tipo: <code>DATE</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Fecha y hora del movimiento.</p> </li> <li> <p><code>tipo</code>:</p> </li> <li> <p>Tipo: <code>ENUM</code></p> </li> <li>Valores posibles: <code>'entrega'</code>, <code>'levante'</code></li> <li> <p>Descripci\u00f3n: Tipo de movimiento registrado.</p> </li> <li> <p><code>choferId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del chofer responsable del movimiento. Referencia al campo <code>id</code> del modelo <code>Empleados</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_9","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Volquetas</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Pedidos</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-obras","title":"Modelo: <code>Obras</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_10","title":"Descripci\u00f3n","text":"<p>El modelo <code>Obras</code> representa una obra con detalles como la ubicaci\u00f3n, descripci\u00f3n y estado activo. Puede estar asociada tanto a una empresa como a un particular.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_10","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Obras</code>.</p> </li> <li> <p><code>calle</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Nombre de la calle donde se encuentra la obra.</p> </li> <li> <p><code>esquina</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Esquina o cruce relevante para la ubicaci\u00f3n de la obra.</p> </li> <li> <p><code>barrio</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Barrio donde se encuentra la obra.</p> </li> <li> <p><code>coordenadas</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Coordenadas geogr\u00e1ficas de la ubicaci\u00f3n de la obra.</p> </li> <li> <p><code>numeroPuerta</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: N\u00famero de puerta asociado a la obra.</p> </li> <li> <p><code>descripcion</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Descripci\u00f3n detallada de la obra.</p> </li> <li> <p><code>activa</code>:</p> </li> <li> <p>Tipo: <code>BOOLEAN</code></p> </li> <li>Valor por defecto: <code>true</code></li> <li> <p>Descripci\u00f3n: Indica si la obra est\u00e1 activa.</p> </li> <li> <p><code>particularId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Identificador del particular asociado a la obra. Referencia al campo <code>id</code> del modelo <code>Particulares</code>.</p> </li> <li> <p><code>empresaId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la empresa asociada a la obra. Referencia al campo <code>id</code> del modelo <code>Empresas</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_10","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Particulares</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Empresas</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-obradetalles","title":"Modelo: <code>ObraDetalles</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_11","title":"Descripci\u00f3n","text":"<p>El modelo <code>ObraDetalles</code> almacena informaci\u00f3n detallada sobre el manejo de residuos en una obra espec\u00edfica. Incluye datos sobre el tipo de residuos, su destino final, y la frecuencia de recolecci\u00f3n.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_11","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>ObraDetalles</code>.</p> </li> <li> <p><code>detalleResiduos</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Descripci\u00f3n de los residuos gestionados en la obra.</p> </li> <li> <p><code>residuosMezclados</code>:</p> </li> <li> <p>Tipo: <code>BOOLEAN</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Indica si los residuos est\u00e1n mezclados.</p> </li> <li> <p><code>residuosReciclados</code>:</p> </li> <li> <p>Tipo: <code>BOOLEAN</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Indica si los residuos est\u00e1n reciclados.</p> </li> <li> <p><code>frecuenciaSemanal</code>:</p> </li> <li> <p>Tipo: <code>RANGE(DataTypes.INTEGER)</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Rango de frecuencia semanal para la recolecci\u00f3n de residuos.</p> </li> <li> <p><code>destinoFinal</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Destino final de los residuos.</p> </li> <li> <p><code>dias</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: D\u00edas de la semana en los que se realiza la recolecci\u00f3n.</p> </li> <li> <p><code>obraId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la obra asociada. Referencia al campo <code>id</code> del modelo <code>Obras</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_11","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Obras</code>: 1 a 1 (Uno a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-pagopedidos","title":"Modelo: <code>PagoPedidos</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_12","title":"Descripci\u00f3n","text":"<p>El modelo <code>PagoPedidos</code> representa el pago asociado a un pedido, con detalles como el precio, el estado de pago, el remito y el tipo de pago.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_12","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>PagoPedidos</code>.</p> </li> <li> <p><code>precio</code>:</p> </li> <li> <p>Tipo: <code>FLOAT</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Monto del pago.</p> </li> <li> <p><code>pagado</code>:</p> </li> <li> <p>Tipo: <code>BOOLEAN</code></p> </li> <li>Valor por defecto: <code>false</code></li> <li> <p>Descripci\u00f3n: Indica si el pago ha sido realizado o no.</p> </li> <li> <p><code>remito</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: N\u00famero de remito asociado al pago.</p> </li> <li> <p><code>tipoPago</code>:</p> </li> <li> <p>Tipo: <code>ENUM('transferencia', 'efectivo', 'cheque')</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Tipo de pago utilizado.</p> </li> <li> <p><code>facturaId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la factura asociada al pago. Referencia al campo <code>id</code> del modelo <code>Facturas</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_12","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Facturas</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-pagopedidos_1","title":"Modelo: <code>PagoPedidos</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_13","title":"Descripci\u00f3n","text":"<p>El modelo <code>PagoPedidos</code> representa el pago asociado a un pedido, con detalles como el precio, el estado de pago, el remito y el tipo de pago.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_13","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>PagoPedidos</code>.</p> </li> <li> <p><code>precio</code>:</p> </li> <li> <p>Tipo: <code>FLOAT</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Monto del pago.</p> </li> <li> <p><code>pagado</code>:</p> </li> <li> <p>Tipo: <code>BOOLEAN</code></p> </li> <li>Valor por defecto: <code>false</code></li> <li> <p>Descripci\u00f3n: Indica si el pago ha sido realizado o no.</p> </li> <li> <p><code>remito</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: N\u00famero de remito asociado al pago.</p> </li> <li> <p><code>tipoPago</code>:</p> </li> <li> <p>Tipo: <code>ENUM('transferencia', 'efectivo', 'cheque')</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Tipo de pago utilizado.</p> </li> <li> <p><code>facturaId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la factura asociada al pago. Referencia al campo <code>id</code> del modelo <code>Facturas</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_13","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Facturas</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Pedidos</code>: 1 a 1 (Uno a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-particulares","title":"Modelo: <code>Particulares</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_14","title":"Descripci\u00f3n","text":"<p>El modelo <code>Particulares</code> representa a un cliente individual, con detalles como nombre, c\u00e9dula, correo electr\u00f3nico y una descripci\u00f3n adicional.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_14","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Particulares</code>.</p> </li> <li> <p><code>nombre</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Nombre del cliente.</p> </li> <li> <p><code>cedula</code>:</p> </li> <li> <p>Tipo: <code>STRING(8)</code></p> </li> <li>\u00danico.</li> <li> <p>Descripci\u00f3n: C\u00e9dula del cliente. Debe ser \u00fanica en la base de datos.</p> </li> <li> <p><code>email</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Descripci\u00f3n: Correo electr\u00f3nico del cliente.</li> <li> <p>Validaci\u00f3n: Debe ser una direcci\u00f3n de correo electr\u00f3nico v\u00e1lida.</p> </li> <li> <p><code>descripcion</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Descripci\u00f3n: Descripci\u00f3n adicional sobre el cliente.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_14","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Obras</code>: 1 a N (Uno a Muchos)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-pedidos","title":"Modelo: <code>Pedidos</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_15","title":"Descripci\u00f3n","text":"<p>El modelo <code>Pedidos</code> representa los pedidos realizados en el sistema, con informaci\u00f3n sobre su estado, la obra asociada, el usuario que lo cre\u00f3 y otros detalles relevantes.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_15","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental y clave primaria.</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del pedido.</p> </li> <li> <p><code>creadoPor</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del usuario que cre\u00f3 el pedido.</li> <li> <p>Referencia: Relacionado con el modelo <code>Usuarios</code>.</p> </li> <li> <p><code>obraId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la obra asociada al pedido.</li> <li> <p>Referencia: Relacionado con el modelo <code>Obras</code>.</p> </li> <li> <p><code>descripcion</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Descripci\u00f3n: Descripci\u00f3n adicional del pedido.</li> <li> <p>Permite valores nulos.</p> </li> <li> <p><code>estado</code>:</p> </li> <li> <p>Tipo: <code>ENUM</code></p> </li> <li>Valores posibles: <code>'iniciado'</code>, <code>'entregado'</code>, <code>'levantado'</code>, <code>'cancelado'</code>.</li> <li>Valor por defecto: <code>'iniciado'</code>.</li> <li> <p>Descripci\u00f3n: Estado actual del pedido.</p> </li> <li> <p><code>creadoComo</code>:</p> </li> <li> <p>Tipo: <code>ENUM</code></p> </li> <li>Valores posibles: <code>'nuevo'</code>, <code>'recambio'</code>, <code>'multiple'</code>, <code>'entrega mas levante'</code>.</li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Tipo de pedido creado.</p> </li> <li> <p><code>permisoId</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del permiso asociado al pedido.</li> <li> <p>Referencia: Relacionado con el modelo <code>Permisos</code>.</p> </li> <li> <p><code>nroPesada</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: N\u00famero de pesada asociado al pedido.</p> </li> <li> <p><code>pagoPedidoId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pago asociado al pedido.</li> <li> <p>Referencia: Relacionado con el modelo <code>PagoPedidos</code>.</p> </li> <li> <p><code>referenciaId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pedido de referencia (en caso de ser un pedido relacionado con otro).</li> <li>Referencia: Relacionado con el modelo <code>Pedidos</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_15","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Usuarios</code>: 1 a N (Uno a Muchos)</li> <li>Relaci\u00f3n con <code>Obras</code>: 1 a N (Uno a Muchos)</li> <li>Relaci\u00f3n con <code>Permisos</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>PagoPedidos</code>: 1 a 1 (Uno a Uno)</li> <li>Relaci\u00f3n con <code>Pedidos</code>: 1 a N (Uno a Muchos, auto-referencia)</li> <li>Relaci\u00f3n con <code>Movimientos</code>: 1 a 2 (Uno a Dos)</li> <li>Relaci\u00f3n con <code>Sugerencias</code>: 1 a 2 (Uno a Dos)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-permisos","title":"Modelo: <code>Permisos</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_16","title":"Descripci\u00f3n","text":"<p>El modelo <code>Permisos</code> representa los permisos asociados a las empresas o particulares, con informaci\u00f3n sobre su fecha de creaci\u00f3n y vencimiento.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_16","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed</li> <li> <p>Descripci\u00f3n: N\u00famero \u00fanico del permiso.</p> </li> <li> <p><code>fechaCreacion</code>:</p> </li> <li> <p>Tipo: <code>DATEONLY</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Fecha en que se cre\u00f3 el permiso.</p> </li> <li> <p><code>fechaVencimiento</code>:</p> </li> <li> <p>Tipo: <code>DATEONLY</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Fecha en que vence el permiso.</p> </li> <li> <p><code>empresaId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la empresa asociada al permiso.</li> <li> <p>Referencia: Relacionado con el modelo <code>Empresas</code>.</p> </li> <li> <p><code>particularId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del particular asociado al permiso.</li> <li>Referencia: Relacionado con el modelo <code>Particulares</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_16","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empresas</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Particulares</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-servicios","title":"Modelo: <code>Servicios</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_17","title":"Descripci\u00f3n","text":"<p>El modelo <code>Servicios</code> representa los diferentes tipos de servicios realizados a los camiones, incluyendo informaci\u00f3n sobre el tipo de servicio, la fecha, el precio, y la moneda.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_17","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del servicio.</p> </li> <li> <p><code>camionId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del cami\u00f3n al que se le realiz\u00f3 el servicio.</li> <li> <p>Referencia: Relacionado con el modelo <code>Camiones</code>.</p> </li> <li> <p><code>fecha</code>:</p> </li> <li> <p>Tipo: <code>DATE</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Fecha en que se realiz\u00f3 el servicio.</p> </li> <li> <p><code>tipo</code>:</p> </li> <li> <p>Tipo: <code>ENUM('arreglo', 'service', 'chequeo', 'pintura')</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Tipo de servicio realizado.</p> </li> <li> <p><code>precio</code>:</p> </li> <li> <p>Tipo: <code>FLOAT</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Costo del servicio.</p> </li> <li> <p><code>moneda</code>:</p> </li> <li> <p>Tipo: <code>ENUM('peso', 'dolar')</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Moneda en la que se pag\u00f3 el servicio.</p> </li> <li> <p><code>descripcion</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n detallada del servicio.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_17","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Camiones</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-sugerencias","title":"Modelo: <code>Sugerencias</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_18","title":"Descripci\u00f3n","text":"<p>El modelo <code>Sugerencias</code> representa las sugerencias asociadas a pedidos, incluyendo el horario sugerido, el chofer recomendado y el tipo de sugerencia (entrega o levante).</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_18","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico de la sugerencia.</p> </li> <li> <p><code>horarioSugerido</code>:</p> </li> <li> <p>Tipo: <code>DATE</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Horario sugerido para la acci\u00f3n recomendada.</p> </li> <li> <p><code>choferSugeridoId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del chofer recomendado para el pedido.</li> <li> <p>Referencia: Relacionado con el modelo <code>Empleados</code>.</p> </li> <li> <p><code>tipoSugerido</code>:</p> </li> <li> <p>Tipo: <code>ENUM('entrega', 'levante')</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Tipo de acci\u00f3n sugerida (entrega o levante).</p> </li> <li> <p><code>pedidoId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pedido asociado a la sugerencia.</li> <li>Referencia: Relacionado con el modelo <code>Pedidos</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_18","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Pedidos</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-telefonos","title":"Modelo: <code>Telefonos</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_19","title":"Descripci\u00f3n","text":"<p>El modelo <code>Telefonos</code> representa la informaci\u00f3n de contacto telef\u00f3nico, que puede estar asociada a empleados, particulares, o contactos de empresas.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_19","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del tel\u00e9fono.</p> </li> <li> <p><code>telefono</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed</li> <li> <p>Descripci\u00f3n: N\u00famero de tel\u00e9fono.</p> </li> <li> <p><code>extension</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Permite valores nulos.</li> <li> <p>Descripci\u00f3n: Extensi\u00f3n telef\u00f3nica (opcional).</p> </li> <li> <p><code>tipo</code>:</p> </li> <li> <p>Tipo: <code>ENUM('telefono', 'celular')</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Tipo de tel\u00e9fono (tel\u00e9fono fijo o celular).</p> </li> <li> <p><code>empleadoId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del empleado asociado al tel\u00e9fono.</li> <li> <p>Referencia: Relacionado con el modelo <code>Empleados</code>.</p> </li> <li> <p><code>particularId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del particular asociado al tel\u00e9fono.</li> <li> <p>Referencia: Relacionado con el modelo <code>Particulares</code>.</p> </li> <li> <p><code>contactoEmpresaId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del contacto de la empresa asociado al tel\u00e9fono.</li> <li>Referencia: Relacionado con el modelo <code>ContactoEmpresas</code>.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_19","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Particulares</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>ContactoEmpresas</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-usuarios","title":"Modelo: <code>Usuarios</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_20","title":"Descripci\u00f3n","text":"<p>El modelo <code>Usuarios</code> representa los usuarios del sistema, que est\u00e1n asociados a empleados y tienen roles espec\u00edficos.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_20","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li> <p>Descripci\u00f3n: Identificador \u00fanico del usuario.</p> </li> <li> <p><code>empleadoId</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del empleado asociado al usuario.</li> <li> <p>Referencia: Relacionado con el modelo <code>Empleados</code>.</p> </li> <li> <p><code>rol</code>:</p> </li> <li> <p>Tipo: <code>ENUM('admin', 'normal')</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Rol del usuario en el sistema (administrador o usuario normal).</p> </li> <li> <p><code>email</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Validaci\u00f3n: Debe ser una direcci\u00f3n de correo electr\u00f3nico v\u00e1lida.</li> <li>\u00danico: S\u00ed</li> <li> <p>Descripci\u00f3n: Correo electr\u00f3nico del usuario.</p> </li> <li> <p><code>password</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed</li> <li> <p>Descripci\u00f3n: Contrase\u00f1a del usuario.</p> </li> <li> <p><code>activo</code>:</p> </li> <li> <p>Tipo: <code>BOOLEAN</code></p> </li> <li>Valor por defecto: <code>false</code></li> <li>Descripci\u00f3n: Estado del usuario (activo o inactivo).</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_20","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#modelo-volquetas","title":"Modelo: <code>Volquetas</code>","text":""},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#descripcion_21","title":"Descripci\u00f3n","text":"<p>El modelo <code>Volquetas</code> representa las volquetas utilizadas en la empresa para el manejo de residuos. Contiene informaci\u00f3n sobre el estado, tipo y ubicaci\u00f3n de las volquetas.</p>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#campos_21","title":"Campos","text":"<ul> <li> <p><code>numeroVolqueta</code>:</p> </li> <li> <p>Tipo: <code>INTEGER</code></p> </li> <li>Clave primaria: S\u00ed</li> <li> <p>Descripci\u00f3n: N\u00famero \u00fanico que identifica a la volqueta.</p> </li> <li> <p><code>estado</code>:</p> </li> <li> <p>Tipo: <code>ENUM('ok', 'quemada', 'para pintar', 'perdida', 'inutilizable')</code></p> </li> <li>Permite valores nulos: S\u00ed</li> <li> <p>Descripci\u00f3n: Estado actual de la volqueta. Puede ser 'ok', 'quemada', 'para pintar', 'perdida' o 'inutilizable'.</p> </li> <li> <p><code>tipo</code>:</p> </li> <li> <p>Tipo: <code>ENUM('grande', 'chica')</code></p> </li> <li>No permite valores nulos.</li> <li> <p>Descripci\u00f3n: Tipo de la volqueta, puede ser 'grande' o 'chica'.</p> </li> <li> <p><code>ocupada</code>:</p> </li> <li> <p>Tipo: <code>BOOLEAN</code></p> </li> <li>Valor por defecto: <code>false</code></li> <li> <p>Descripci\u00f3n: Indica si la volqueta est\u00e1 ocupada (s\u00ed o no).</p> </li> <li> <p><code>ubicacionTemporal</code>:</p> </li> <li> <p>Tipo: <code>STRING</code></p> </li> <li>Descripci\u00f3n: Ubicaci\u00f3n temporal de la volqueta.</li> </ul>"},{"location":"Manual-De-Deploy/old/documentacion-backend-modelos/#relaciones_21","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Movimientos</code>: 1 a N (Uno a Muchos)</li> </ul>"},{"location":"Metodos-HTTP/cajas/","title":"Cajas","text":""},{"location":"Metodos-HTTP/cajas/#modelo-cajas","title":"Modelo: <code>Cajas</code>","text":""},{"location":"Metodos-HTTP/cajas/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Cajas</code> representa registros financieros en la caja, como gastos, ingresos, y otros movimientos contables. Cada registro incluye informaci\u00f3n sobre la fecha, motivo, descripci\u00f3n, moneda, monto, y referencias a empleados y pedidos relacionados.</p>"},{"location":"Metodos-HTTP/cajas/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Cajas</code>.</li> </ul> </li> <li> <p><code>fecha</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha del movimiento registrado en la caja.</li> </ul> </li> <li> <p><code>motivo</code>:</p> <ul> <li>Tipo: <code>ENUM('vale', 'gasto', 'ingreso', 'ingreso pedido', 'ingreso cochera', 'extraccion')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Motivo del movimiento en la caja (vale, gasto, ingreso, etc.).</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n opcional del movimiento.</li> </ul> </li> <li> <p><code>moneda</code>:</p> <ul> <li>Tipo: <code>ENUM('peso', 'dolar')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de moneda en el registro (peso o d\u00f3lar).</li> </ul> </li> <li> <p><code>monto</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Monto del movimiento registrado en la caja.</li> </ul> </li> <li> <p><code>empleadoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Clave for\u00e1nea que referencia al <code>Empleado</code> que realiz\u00f3 el movimiento, si aplica.</li> </ul> </li> <li> <p><code>pedidoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Clave for\u00e1nea que referencia al <code>Pedido</code> asociado al movimiento, si aplica.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/cajas/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>Empleados</code><ul> <li>Tipo: N a 1 (Muchos a Uno)</li> </ul> </li> <li>Relaci\u00f3n con <code>Pedidos</code><ul> <li>Tipo: N a 1 (Muchos a Uno)</li> </ul> </li> </ol>"},{"location":"Metodos-HTTP/camiones/","title":"Camiones","text":""},{"location":"Metodos-HTTP/camiones/#modelo-camiones","title":"Modelo: <code>Camiones</code>","text":""},{"location":"Metodos-HTTP/camiones/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Camiones</code> representa los veh\u00edculos utilizados en la empresa. Incluye informaci\u00f3n sobre la matr\u00edcula, modelo, a\u00f1o y estado del cami\u00f3n.</p>"},{"location":"Metodos-HTTP/camiones/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Camiones</code>.</li> </ul> </li> <li> <p><code>matricula</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>\u00danico: Debe ser \u00fanico en la tabla.</li> <li>Validaciones:<ul> <li>No puede estar vac\u00edo.</li> </ul> </li> <li>Descripci\u00f3n: Matr\u00edcula del cami\u00f3n.</li> </ul> </li> <li> <p><code>modelo</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Validaciones:<ul> <li>No puede estar vac\u00edo.</li> </ul> </li> <li>Descripci\u00f3n: Modelo del cami\u00f3n.</li> </ul> </li> <li> <p><code>anio</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: A\u00f1o de fabricaci\u00f3n del cami\u00f3n.</li> </ul> </li> <li> <p><code>estado</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Estado actual del cami\u00f3n (por ejemplo, activo, en mantenimiento, etc.).</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/camiones/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>HistoricoUsoCamion</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Servicios</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Movimientos</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Metodos-HTTP/config/","title":"Config","text":""},{"location":"Metodos-HTTP/config/#modelo-config","title":"Modelo: <code>Config</code>","text":""},{"location":"Metodos-HTTP/config/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Config</code> representa la configuraci\u00f3n relacionada con precios y horas de trabajo. Incluye informaci\u00f3n sobre el precio sin IVA, el precio con IVA, el a\u00f1o de la configuraci\u00f3n y si la configuraci\u00f3n est\u00e1 activa.</p>"},{"location":"Metodos-HTTP/config/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Config</code>.</li> </ul> </li> <li> <p><code>anio</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: A\u00f1o asociado a la configuraci\u00f3n.</li> </ul> </li> <li> <p><code>precioSinIva</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Precio base sin IVA.</li> </ul> </li> <li> <p><code>precioConIva</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Precio con IVA. Este campo se calcula autom\u00e1ticamente basado en <code>precioSinIva</code>.</li> </ul> </li> <li> <p><code>horasDeTrabajo</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: N\u00famero de horas de trabajo asociadas a la configuraci\u00f3n.</li> </ul> </li> <li> <p><code>configActiva</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Indica si la configuraci\u00f3n est\u00e1 activa (<code>true</code>) o no (<code>false</code>).</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/config/#hooks","title":"Hooks","text":"<ul> <li> <p><code>beforeCreate</code>: Calcula el <code>precioConIva</code> antes de que se cree un nuevo registro. Si <code>precioSinIva</code> tiene un valor, <code>precioConIva</code> se establece en <code>precioSinIva * 1.22</code>.</p> </li> <li> <p><code>beforeUpdate</code>: Calcula el <code>precioConIva</code> antes de que se actualice un registro existente. Si <code>precioSinIva</code> tiene un valor, <code>precioConIva</code> se establece en <code>precioSinIva * 1.22</code>.</p> </li> </ul>"},{"location":"Metodos-HTTP/config/#relaciones","title":"Relaciones","text":"<p>El modelo <code>Config</code> no tiene relaciones.</p>"},{"location":"Metodos-HTTP/contacto-empresas/","title":"Contacto empresas","text":""},{"location":"Metodos-HTTP/contacto-empresas/#modelo-contactoempresas","title":"Modelo: <code>ContactoEmpresas</code>","text":""},{"location":"Metodos-HTTP/contacto-empresas/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>ContactoEmpresas</code> representa los contactos asociados a empresas. Este modelo incluye informaci\u00f3n sobre el nombre del contacto, una descripci\u00f3n opcional, un email y las relaciones con las empresas y obras asociadas.</p>"},{"location":"Metodos-HTTP/contacto-empresas/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del contacto en la tabla <code>ContactoEmpresas</code>.</li> </ul> </li> <li> <p><code>nombre</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Nombre del contacto.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n adicional sobre el contacto.</li> </ul> </li> <li> <p><code>email</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Correo electr\u00f3nico del contacto. Debe ser un email v\u00e1lido (<code>validate: { isEmail: true }</code>).</li> </ul> </li> <li> <p><code>empresaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Referencia a la empresa a la que pertenece el contacto. Este campo es una clave for\u00e1nea que referencia al modelo <code>Empresas</code>.</li> </ul> </li> <li> <p><code>obraId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Referencia a una obra asociada al contacto. Este campo es una clave for\u00e1nea que referencia al modelo <code>Obras</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/contacto-empresas/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>Empresas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Obras</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Metodos-HTTP/doc2/","title":"Doc2","text":""},{"location":"Metodos-HTTP/doc2/#cajas","title":"Cajas:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/cajas Crear una nueva caja Body: { fecha, motivo, empleadoId, pedidoId, monto, descripcion, moneda } 201 Created: { nuevaCaja } 400 Bad Request: { error: 'La fecha es obligatoria y debe ser v\u00e1lida' } 400 Bad Request: { error: 'Monto es obligatorio' } 400 Bad Request: { error: 'Motivo inv\u00e1lido, debe ser: ('vale', 'gasto','ingreso', 'ingreso pedido', 'ingreso cochera', 'extraccion')' } 400 Bad Request: { error: 'Moneda inv\u00e1lida, debe ser: ('dolar' o 'peso')' } 400 Bad Request: { error: 'Monto inv\u00e1lido, este tipo de motivo debe tener monto positivo' } 400 Bad Request: { error: 'Monto inv\u00e1lido, este tipo de motivo debe tener monto negativo' } 400 Bad Request: { error: 'Debe agregar un empleado para el vale' } 400 Bad Request: { error: 'Debe agregar un pedido para el ingreso de tipo pedido' } 404 Not Found: { error: 'Empleado no existe' } 404 Not Found: { error: 'Pedido no existe' } 400 Bad Request: { error: 'Pedido ya tiene una entrada de dinero', cajasConPedido } Requerido GET /api/cajas Obtener todas las cajas Query: fechaInicio, fechaFin 200 OK: { datos: { contadorMotivos, montoPeso, montoDolar }, cajas } 400 Bad Request: { error: 'Debe ingresar fecha de inicio y fecha de fin' } 500 Internal Server Error: { error: 'Error al obtener los datos de la caja', detalle: errorsSequelize } Requerido GET /api/cajas/id Obtener una caja por ID Path: cajaId 200 OK: { caja } 404 Not Found: { error: 'Caja no encontrada' } 500 Internal Server Error: { error: 'Error al obtener la caja', detalle: errorsSequelize } Requerido DELETE /api/cajas/id Eliminar una caja por ID Path: cajaId 200 OK: { detalle: 'Caja eliminada exitosamente' } 404 Not Found: { error: 'Caja no encontrada' } 500 Internal Server Error: { error: 'Error al eliminar la caja', detalle: errorsSequelize } Requerido PUT /api/cajas/id Modificar una caja por ID Path: cajaId Body: { fecha, motivo, empleadoId, pedidoId, monto, descripcion, moneda } 200 OK: { caja } 400 Bad Request: { error: 'La fecha debe ser v\u00e1lida' } 400 Bad Request: { error: \"Motivo inv\u00e1lido, debe ser: ('vale', 'gasto', 'ingreso', 'ingreso pedido', 'ingreso cochera', 'extraccion')\" } 400 Bad Request: { error: \"Moneda inv\u00e1lida, debe ser: ('dolar' o 'peso')\" } 404 Not Found: { error: 'Empleado no existe' } 404 Not Found: { error: 'Pedido no existe' } 500 Internal Server Error: { error: 'Error al modificar la caja', detalle: errorsSequelize } Requerido"},{"location":"Metodos-HTTP/doc2/#camiones","title":"Camiones:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST <code>/api/camiones</code> Crear un nuevo cami\u00f3n Body: - <code>matricula</code> (string, requerido) - <code>modelo</code> (string, requerido) - <code>anio</code> (integer, opcional) - <code>estado</code> (string, opcional) 201: JSON del cami\u00f3n creado 400: Matricula o modelo no proporcionado 500: Error al crear cami\u00f3n Requerido GET <code>/api/camiones</code> Obtener todos los camiones N/A 200: JSON de la lista de camiones 500: Error al obtener camiones Requerido GET <code>api/camiones/:camionId</code> Obtener un cami\u00f3n espec\u00edfico Path: - <code>camionId</code> (integer, requerido) 200: JSON del cami\u00f3n solicitado 404: Cami\u00f3n no encontrado 500: Error al obtener cami\u00f3n Requerido PUT <code>api/camiones/:camionId</code> Actualizar un cami\u00f3n espec\u00edfico Path: - <code>camionId</code> (integer, requerido) Body: - <code>matricula</code> (string, opcional) - <code>modelo</code> (string, opcional) - <code>anio</code> (integer, opcional) - <code>estado</code> (string, opcional) 200: JSON del cami\u00f3n actualizado 404: Cami\u00f3n no encontrado 500: Error al actualizar cami\u00f3n Requerido DELETE <code>api/camiones/:camionId</code> Borrar un cami\u00f3n espec\u00edfico Path: - <code>camionId</code> (integer, requerido) 200: Cami\u00f3n borrado exitosamente 404: Cami\u00f3n no encontrado 500: Error al borrar cami\u00f3n Requerido(Admin)"},{"location":"Metodos-HTTP/doc2/#config","title":"Config:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST <code>/api/config</code> Crear una nueva configuraci\u00f3n Body: - <code>anio</code> (integer, requerido) - <code>precioSinIva</code> (decimal, requerido) - <code>horasDeTrabajo</code> (integer, requerido) - <code>configActiva</code> (boolean, opcional) 201: JSON de la configuraci\u00f3n creada 500: Error al crear la configuraci\u00f3n Requerido(Admin) GET <code>/api/config/:configId</code> Obtener una configuraci\u00f3n espec\u00edfica Path: - <code>configId</code> (integer, requerido) 200: JSON de la configuraci\u00f3n solicitada 404: Configuraci\u00f3n no encontrada 500: Error al obtener la configuraci\u00f3n Requerido(Admin) GET <code>/api/config</code> Obtener todas las configuraciones N/A 200: JSON de la lista de configuraciones 500: Error al obtener las configuraciones Requerido(Admin) GET <code>/api/config-activa</code> Obtener la configuraci\u00f3n activa N/A 200: JSON de la configuraci\u00f3n activa 500: Error al obtener la configuraci\u00f3n activa Requerido(Admin) PUT <code>/api/config/:configId</code> Actualizar una configuraci\u00f3n espec\u00edfica Path: - <code>configId</code> (integer, requerido) Body: - <code>anio</code> (integer, opcional) - <code>precioSinIva</code> (decimal, opcional) - <code>horasDeTrabajo</code> (integer, opcional) - <code>configActiva</code> (boolean, opcional) 200: JSON de la configuraci\u00f3n actualizada 404: Configuraci\u00f3n no encontrada 500: Error al actualizar la configuraci\u00f3n Requerido(Admin)"},{"location":"Metodos-HTTP/doc2/#contactoempresas","title":"ContactoEmpresas:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST <code>/api/contacto-empresas</code> Crear un nuevo contacto de empresa Body: - <code>nombre</code> (string, requerido) - <code>descripcion</code> (string, opcional) - <code>email</code> (string, opcional) - <code>empresaId</code> (integer, requerido) - <code>obraId</code> (integer, opcional) 201: JSON del contacto de empresa creado 400: Validaciones fallidas 404: Empresa u obra no encontrada 500: Error al crear el contacto Requerido GET <code>/contacto-empresas/:contactoEmpresaId</code> Obtener un contacto de empresa espec\u00edfico Path: - <code>contactoEmpresaId</code> (integer, requerido) 200: JSON del contacto de empresa solicitado 404: Contacto no encontrado 500: Error al obtener el contacto Requerido GET <code>/api/contacto-empresas</code> Obtener todos los contactos de empresa N/A 200: JSON de la lista de contactos de empresa 500: Error al obtener los contactos Requerido PUT <code>/api/contacto-empresas/:contactoEmpresaId</code> Actualizar un contacto de empresa espec\u00edfico Path: - <code>contactoEmpresaId</code> (integer, requerido) Body: - Cualquiera de los campos del contacto (nombre, descripcion, email, etc.) 200: JSON del contacto de empresa actualizado 404: Contacto no encontrado 500: Error al actualizar el contacto Requerido DELETE <code>/api/contacto-empresas/:contactoEmpresaId</code> Eliminar un contacto de empresa espec\u00edfico Path: - <code>contactoEmpresaId</code> (integer, requerido) 200: Mensaje confirmando la eliminaci\u00f3n 404: Contacto no encontrado 500: Error al eliminar el contacto Requerido(Admin) POST <code>/api/contacto-empresas/asignar/:contactoEmpresaId</code> Asignar o reasignar una obra a un contacto de empresa Path: - <code>contactoEmpresaId</code> (integer, requerido) Body: - <code>obraId</code> (integer, requerido) 200: Mensaje confirmando la asignaci\u00f3n de la obra 400: Error en validaci\u00f3n 404: Contacto u obra no encontrado 500: Error al asignar la obra Requerido"},{"location":"Metodos-HTTP/doc2/#empleado","title":"Empleado","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST <code>/api/empleados</code> Crea un nuevo empleado. Body: <code>nombre</code>, <code>cedula</code>, <code>rol</code>, <code>fechaEntrada</code>, <code>fechaSalida</code>, <code>direccion</code> 201 Created: Empleado creado. 400 Bad Request: Validaciones fallidas. 500 Internal Server Error: Error al crear el empleado. Requerido GET <code>/api/empleados</code> Obtiene una lista de todos los empleados. - 200 OK: Lista de empleados. 500 Internal Server Error: Error al obtener los empleados. No Requerido GET <code>/api/empleados/:empleadoId</code> Obtiene un empleado por su ID. Path: <code>empleadoId</code> 200 OK: Empleado encontrado. 400 Not Found: Empleado no encontrado. 500 Internal Server Error: Error al obtener el empleado. Requerido DELETE <code>/api/empleados/:empleadoId</code> Elimina un empleado por su ID. Path: <code>empleadoId</code> 200 OK: Empleado eliminado exitosamente. 400 Not Found: Empleado no encontrado. 400 Bad Request: Empleado tiene un usuario vinculado. 500 Internal Server Error: Error al eliminar el empleado. Requerido(Admin) PUT <code>/api/empleados/:empleadoId/estado</code> Cambia el estado (habilitado/deshabilitado) de un empleado. Path: <code>empleadoId</code> Body: <code>fechaSalida</code> <code>202 Accepted</code>: Estado del empleado actualizado. 400 Bad Request: Validaciones fallidas. 500 Internal Server Error: Error al cambiar el estado del empleado. Requerido PUT <code>/api/empleados/:empleadoId</code> Modifica los datos de un empleado. Path: <code>empleadoId</code> Body: <code>nombre</code>, <code>cedula</code>, <code>rol</code>, <code>habilitado</code>, <code>fechaEntrada</code>, <code>fechaSalida</code>, <code>direccion</code> 200 OK: Empleado modificado exitosamente. 400 Not Found: Empleado no encontrado. 400 Bad Request: Validaciones fallidas. 500 Internal Server Error: Error al modificar el empleado. Requerido GET <code>/api/empleados/sin-usuario-activos</code> Obtiene empleados activos que no tienen un usuario vinculado. - 200 OK: Lista de empleados activos sin usuario. 500 Internal Server Error: Error al obtener los empleados. No Requerido"},{"location":"Metodos-HTTP/doc2/#empresa","title":"Empresa","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/empresas Crea una nueva empresa Body: - <code>rut</code> (opcional, 12 caracteres) - <code>nombre</code> (requerido) - <code>descripcion</code> (opcional) - <code>razonSocial</code> (opcional) 201 Created <code>{ id, rut, nombre, descripcion, razonSocial }</code> 400 Bad Request <code>{ error: 'El RUT debe tener 12 caracteres.' }</code> <code>{ error: 'El nombre de la empresa es obligatorio' }</code> 500 Internal Server Error <code>{ error: 'Error al crear empresa', detalle: [lista de errores] }</code> Requerido GET /api/empresas/:id Obtiene los detalles de una empresa Path: - <code>empresaId</code> (requerido) 200 OK <code>{ id, rut, nombre, descripcion, razonSocial, ... }</code> 400 Not Found <code>{ error: 'Empresa no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener empresa', detalle: [lista de errores] }</code> Requerido GET /api/empresas Obtiene todas las empresas - Sin par\u00e1metros 200 OK <code>[{ id, nombre, rut }, ...]</code> 500 Internal Server Error <code>{ error: 'Error al obtener empresas', detalle: [lista de errores] }</code> Requerido GET /api/empresas/buscar Busca empresas seg\u00fan criterios Query: - <code>rut</code> (opcional) - <code>nombre</code> (opcional) - <code>razonSocial</code> (opcional) - <code>letraInicial</code> (opcional, una letra) 200 OK <code>[{ id, rut, nombre, descripcion, razonSocial }, ...]</code> 400 Bad Request <code>{ error: 'Debe proporcionar al menos un par\u00e1metro de b\u00fasqueda (rut, nombre, razonSocial, letraInicial).' }</code> <code>{ error: 'La b\u00fasqueda por letra inicial debe tener solo una letra' }</code> 500 Internal Server Error <code>{ error: 'Error al buscar empresas', detalle: [lista de errores] }</code> Requerido PUT /api/empresas/:id Actualiza una empresa existente Path: - <code>empresaId</code> (requerido) Body: - <code>rut</code> (opcional, 12 caracteres) - <code>nombre</code> (opcional) - <code>descripcion</code> (opcional) - <code>razonSocial</code> (opcional) 200 OK <code>{ id, rut, nombre, descripcion, razonSocial }</code> 400 Bad Request <code>{ error: 'El RUT debe tener 12 caracteres.' }</code> 400 Not Found <code>{ error: 'Empresa no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al modificar empresa', detalle: [lista de errores] }</code> Requerido DELETE /api/empresas/:id Elimina una empresa existente Path: - <code>empresaId</code> (requerido) 200 OK <code>{ detalle: 'Empresa con nombre {nombre} fue eliminado correctamente' }</code> 400 Not Found <code>{ error: 'La Empresa con ese id no existe' }</code> 500 Internal Server Error <code>{ error: 'Error al borrar empresa', detalle: [lista de errores] }</code> Requerido(Admin)"},{"location":"Metodos-HTTP/doc2/#estadisticas","title":"Estad\u00edsticas:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login GET /api/estadisticas-chofer/:id Trae movimientos de volqueta de un chofer Path: <code>choferId</code> Query: <code>fechaInicio</code>, <code>fechaFin</code>, <code>valorJornal</code>, <code>valorExtra</code> 200 OK <code>{ jornales: [...], datos: { diasTrabajo: number, horas: number, extra: number, entregas: number, levantes: number, viajes: number, promedioHorasPorDia: number, promedioViajesPorDia: number, salario: number, precioPorViaje: number, info: string } }</code> 400 Bad Request <code>{ error: 'El valor del jornal debe ser mayor a 0' }</code> <code>{ error: 'El valor de la hora extra debe ser mayor a 0' }</code> <code>{ error: 'Debe ingresar fecha de inicio y fecha de fin' }</code> <code>{ error: 'Las fechas proporcionadas no son v\u00e1lidas' }</code> <code>{ error: 'La fecha de inicio debe ser menor a la de final' }</code> <code>{ error: 'Error al obtener estad\u00edsticas del chofer', detalle: [...] }</code> Requerido GET /api/estadisticas-movimientos-choferes Trae movimientos de volqueta de todos los choferes Query: <code>fechaInicio</code>, <code>fechaFin</code> 200 OK <code>[ { choferId: number, entregas: number, levantes: number, total: number }, ... ]</code> 400 Bad Request <code>{ error: 'Las fechas proporcionadas no son v\u00e1lidas' }</code> <code>{ error: 'La fecha de inicio debe ser menor a la de final' }</code> <code>{ error: 'Error al contar los movimientos', detalle: [...] }</code> Requerido GET /api/estadisticas-cliente/:clienteId Trae la info de un cliente espec\u00edfico y sus pedidos Query: <code>estado</code>, <code>fechaInicio</code>, <code>fechaFin</code>, <code>empresaId</code>, <code>particularId</code> 200 OK <code>{ total: number, pagados: { cantidad: number, monto: number, ids: [number, ...] }, nopagados: { cantidad: number, monto: number, ids: [number, ...] }, estado: { levantado: { cantidad: number, ids: [number, ...] }, entregado: { cantidad: number, ids: [number, ...] }, iniciado: { cantidad: number, ids: [number, ...] }, cancelado: { cantidad: number, ids: [number, ...] } }, obras: { obraId: { cantidad: number, ids: [number, ...] }, ... } }</code> 400 Bad Request <code>{ error: 'FechaFin debe ser despues de fechaInicio' }</code> <code>{ error: 'Debe ingresar una empresa o un particular unicamente' }</code> <code>{ error: \"Los tipos de estado de pedidos solo pueden ser: ('cancelado', 'iniciado', 'entregado', 'levantado')\" }</code> <code>{ error: 'Error al obtener estadisticas del cliente', detalle: [...] }</code> Requerido GET /api/estadisticas-clientes Trae la info de los clientes y sus pedidos Query: <code>fechaInicio</code>, <code>fechaFin</code> 200 OK <code>{ empresas: { empresaId: { pagados: { cantidad: number, monto: number }, nopagados: { cantidad: number, monto: number } }, ... }, particulares: { particularId: { pagados: { cantidad: number, monto: number }, nopagados: { cantidad: number, monto: number } }, ... } }</code> 400 Bad Request <code>{ error: 'FechaFin debe ser despues de fechaInicio' }</code> <code>{ error: 'Debe ingresar fecha de inicio y fecha de fin' }</code> <code>{ error: 'Error al obtener estadisticas', detalle: [...] }</code> Requerido GET /api/estadisticas-pedidos Trae la info general de los pedidos Query: <code>fechaInicio</code>, <code>fechaFin</code> 200 OK <code>{ empresas: { empresaId: { pagados: { cantidad: number, monto: number }, nopagados: { cantidad: number, monto: number } }, ... }, particulares: { particularId: { pagados: { cantidad: number, monto: number }, nopagados: { cantidad: number, monto: number } }, ... } }</code> 400 Bad Request <code>{ error: 'FechaFin debe ser despues de fechaInicio' }</code> <code>{ error: 'Debe ingresar fecha de inicio y fecha de fin' }</code> <code>{ error: 'Error al obtener estadisticas', detalle: [...] }</code> Requerido GET /api/estadisticas-deudores Obtener informaci\u00f3n de los mayores deudores Query: { fechaInicio, fechaFin, tipo, deudores } 200 OK: { topEmpresasNoPagados, topParticularesNoPagados } 400 Bad Request: { error: 'Cantidad de deudores debe ser mayor a 0' } 400 Bad Request: { error: 'Tipo de deuda debe ser por cantidad o por monto' } 400 Bad Request: { error: 'FechaFin debe ser despues de fechaInicio' } 400 Bad Request: { error: 'Debe ingresar fecha de inicio y fecha de fin' } 500 Internal Server Error: { error: 'Error al obtener estadisticas', detalle: errorsSequelize } 500 Internal Server Error: { error: 'Error al obtener estadisticas', detalle: error.message, stack: error.stack } Requerido"},{"location":"Metodos-HTTP/doc2/#facturas","title":"Facturas","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/facturas Crea una nueva factura. Body: <code>pedidosIds</code> (array de IDs) <code>numeracion</code> (n\u00famero de la factura) <code>tipo</code> (tipo de pago: 'credito', 'contado', 'recibo') <code>fechaPago</code> (fecha de pago) <code>descripcion</code> (descripci\u00f3n) <code>empresaId</code> (ID de empresa) <code>particularId</code> (ID de particular) 201 Created JSON con los detalles de la factura creada 400 Bad Request Debe proporcionar solo uno: empresaId o particularId. 400 Bad Request Tipo de pago debe ser v\u00e1lido, opciones: ('credito', 'contado', 'recibo') <code>400 Bad Request</code> Debe proporcionar al menos un ID de pedido. 500 Internal Server Error Error al crear la factura: { detalle: \"mensaje de error\" } Requerido GET /api/facturas Obtiene una lista de facturas. Query: <code>ultimos</code> (n\u00famero de facturas a recuperar) <code>fechaInicio</code> (fecha de inicio) <code>fechaFin</code> (fecha de fin) <code>empresaId</code> (ID de empresa) <code>particularId</code> (ID de particular) <code>estado</code> (estado de la factura) 200 OK JSON con la lista de facturas 400 Bad Request <code>Debe proporcionar solo uno o ninguno: empresaId o particularId.</code> 400 Bad Request <code>No se pueden traer m\u00e1s de 50 facturas a la vez</code> <code>400 Bad Request</code> <code>La factura solo puede estar: ('pendiente', 'anulada', 'pagada')</code> <code>400 Bad Request</code> <code>FechaFin debe ser despu\u00e9s de fechaInicio</code> <code>400 Bad Request</code> <code>Debe ingresar fecha de inicio y fecha de fin</code> 500 Internal Server Error <code>Error al obtener facturas: { detalle: \"mensaje de error\" }</code> Requerido GET /api/facturas/:id Obtiene los detalles de una factura espec\u00edfica. Path: <code>facturaId</code> (ID de la factura) 200 OK JSON con los detalles de la factura 400 Not Found <code>Factura no encontrada</code> 500 Internal Server Error <code>Error al obtener la factura: { detalle: \"mensaje de error\" }</code> Requerido PUT /api/facturas/:id Modifica una factura existente. Body: <code>numeracion</code> (n\u00famero de la factura) <code>tipo</code> (tipo de pago) <code>fechaPago</code> (fecha de pago) <code>descripcion</code> (descripci\u00f3n) Path: <code>facturaId</code> (ID de la factura) 200 OK JSON con los detalles de la factura modificada 400 Bad Request <code>La fecha de pago debe ser v\u00e1lida</code> 400 Bad Request <code>Tipo de pago debe ser v\u00e1lido, opciones: ('credito', 'contado', 'recibo')</code> 400 Not Found <code>Factura no encontrada</code> <code>400 Bad Request</code> <code>No se puede modificar una factura anulada</code> 500 Internal Server Error <code>Error al modificar Factura: { detalle: \"mensaje de error\" }</code> Requerido PUT /api/facturas-recalcular/:id Recalcula el monto de una factura. Path: <code>facturaId</code> (ID de la factura) 200 OK JSON con el detalle del monto recalculado 400 Bad Request <code>Factura no existe</code> 400 Bad Request <code>Factura ya pagada</code> <code>400 Bad Request</code> <code>No se puede modificar una factura anulada</code> 500 Internal Server Error <code>Error al modificar Factura: { detalle: \"mensaje de error\" }</code> Requerido PUT /api/facturas-estado/:id Cambia el estado de una factura. Body: <code>fechaPago</code> (fecha de pago, si se cambia a 'pagada') <code>estado</code> (nuevo estado: 'pagada', 'anulada', 'pendiente') Path: <code>facturaId</code> (ID de la factura) 200 OK JSON con los detalles de la factura con el estado actualizado 400 Bad Request <code>Factura no existe</code> 400 Bad Request <code>No se puede modificar una factura anulada</code> <code>400 Bad Request</code> <code>Factura ya est\u00e1 pagada</code> <code>400 Bad Request</code> <code>La fecha de pago es obligatoria y debe ser v\u00e1lida</code> <code>400 Bad Request</code> <code>Uno de los pedidos de esta factura ya est\u00e1 pagado.</code> <code>400 Bad Request</code> <code>Solo se puede cambiar a estado de factura: ('anulada', 'pagada', 'pendiente')</code> 500 Internal Server Error <code>Error al modificar Factura: { detalle: \"mensaje de error\" }</code> Requerido DELETE /api/facturas/:id Elimina una factura existente. Path: <code>facturaId</code> (ID de la factura) 201 Created JSON con el mensaje de \u00e9xito 400 Bad Request <code>Factura no existe</code> 400 Bad Request <code>No se puede eliminar una factura pagada</code> 500 Internal Server Error <code>Error al Eliminar Factura: { detalle: \"mensaje de error\" }</code> Requerido(Admin)"},{"location":"Metodos-HTTP/doc2/#historico-camion","title":"Historico-camion","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/historico-camion Registra el uso de un cami\u00f3n por un chofer Body: { empleadoId, camionId, fechaInicio } 201 Created: <code>{ id, empleadoId, camionId, fechaInicio, fechaFin }</code> 500 Internal Server Error: <code>{ error: 'Error al crear el historico-camion', detalle: &lt;mensaje&gt; }</code> o <code>500 Internal Server Error</code>: <code>{ error: 'Error al crear el historico-camion', detalle: &lt;mensaje&gt;, stack: &lt;stack&gt; }</code> Requerido GET /api/historico-camion/asignacion Obtiene las asignaciones actuales de todos los camiones - 200 OK: <code>[{ id, empleadoId, camionId, fechaInicio, fechaFin, empleado: { nombre }, camion: { matricula } }]</code> 500 Internal Server Error: <code>{ error: 'Error al obtener el historico-camion', detalle: &lt;mensaje&gt; }</code> o <code>500 Internal Server Error</code>: <code>{ error: 'Error al obtener el historico-camion', detalle: &lt;mensaje&gt;, stack: &lt;stack&gt; }</code> Requerido GET /api/historico-camion Obtiene el hist\u00f3rico de asignaciones de un cami\u00f3n o empleado espec\u00edfico Query: { camionId, empleadoId } 200 OK: <code>[{ id, empleadoId, camionId, fechaInicio, fechaFin, empleado: { nombre }, camion: { matricula } }]</code> 400 Bad Request: <code>{ error: 'Debes proporcionar un id de camion o un id de empleado' }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener el historico-camion', detalle: &lt;mensaje&gt; }</code> o <code>500 Internal Server Error</code>: <code>{ error: 'Error al obtener el historico-camion', detalle: &lt;mensaje&gt;, stack: &lt;stack&gt; }</code> Requerido"},{"location":"Metodos-HTTP/doc2/#jornales-y-datos","title":"Jornales y Datos:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/jornales Crea un nuevo jornal Body: <code>empleadoId</code> (string) <code>fecha</code> (string) <code>entrada</code> (string, opcional) <code>salida</code> (string, opcional) <code>tipo</code> (string, uno de: trabajo, licencia, enfermedad, falta) 201 Created <code>{ id, empleadoId, fecha, entrada, salida, tipo, creadoPor }</code> 400 Bad Request <code>{ error: 'El empleadoId es obligatorio' }</code> <code>{ error: 'Tipo inv\u00e1lido' }</code> <code>{ error: 'La fecha es obligatoria y debe ser v\u00e1lida' }</code> <code>{ error: 'La hora de entrada es obligatoria y debe ser un string' }</code> <code>{ error: 'La hora de salida es obligatoria y debe ser un string' }</code> <code>{ error: 'Ya existe un jornal para este empleado en la fecha especificada' }</code> 500 Internal Server Error <code>{ error: 'Error al crear el jornal', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al crear el jornal', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido DELETE /api/jornales/ Borra un jornal existente Path: <code>jornalId</code> (integer) 200 OK <code>{ message: 'Jornal borrado exitosamente' }</code> 400 Not Found <code>{ error: 'Jornal no encontrado' }</code> 500 Internal Server Error <code>{ error: 'Error al borrar el jornal', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al borrar el jornal', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido(Admin) PUT /api/jornales/:id Edita un jornal existente Path: <code>jornalId</code> (integer) Body: <code>empleadoId</code> (string) <code>fecha</code> (string) <code>entrada</code> (string, opcional) <code>salida</code> (string, opcional) <code>tipo</code> (string, uno de: trabajo, licencia, enfermedad, falta) 200 OK <code>{ id, empleadoId, fecha, entrada, salida, tipo }</code> 400 Not Found <code>{ error: 'Jornal no encontrado' }</code> 400 Bad Request <code>{ error: 'Ya existe un jornal para este empleado en esta fecha' }</code> 500 Internal Server Error <code>{ error: 'Error al editar el jornal', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al editar el jornal', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido GET /api/jornales/ Obtiene un jornal espec\u00edfico Path: <code>jornalId</code> (integer) 200 OK <code>{ id, empleadoId, fecha, entrada, salida, tipo }</code> 400 Not Found <code>{ error: 'Jornal no encontrado' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener el jornal', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al obtener el jornal', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido GET /api/jornales/:empleadoId/:fechaInicio/:fechaFin Obtiene los jornales y movimientos de un empleado en un rango de fechas Path: <code>empleadoId</code> (integer) <code>fechaInicio</code> (string) <code>fechaFin</code> (string) Query: <code>empleadoId</code>, <code>fechaInicio</code>, <code>fechaFin</code> 200 OK <code>[ { id, fecha, tipo, horas, horasExtra, entrada, salida, entregas, levantes, viajes }, ... ]</code> 400 Bad Request <code>{ error: 'Empleado no existe' }</code> <code>{ error: 'Debe ingresar fecha de inicio y fecha de fin' }</code> <code>{ error: 'Las fechas proporcionadas no son v\u00e1lidas' }</code> <code>{ error: 'La fecha de inicio debe ser menor a la de final' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener jornales del empleado', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al obtener jornales del empleado', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido GET /api/datos/:empleadoId/:fechaInicio/:fechaFin Obtiene datos agregados de jornales para un empleado en un rango de fechas Path: <code>empleadoId</code> (integer) <code>fechaInicio</code> (string) <code>fechaFin</code> (string) 200 OK <code>{ empleadoId, registros, diasTrabajo, diasLicencia, diasEnfermedad, diasFalta, horasTrabajadas, horasExtra }</code> 400 Bad Request <code>{ error: 'Descripci\u00f3n del error' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener los datos', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al obtener los datos', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido GET /api/datos/todos/:fechaInicio/:fechaFin Obtiene datos agregados de jornales para todos los empleados en un rango de fechas Path: <code>fechaInicio</code> (string) <code>fechaFin</code> (string) 200 OK <code>[ { empleadoId, registros, diasTrabajo, diasLicencia, diasEnfermedad, diasFalta, horasTrabajadas, horasExtra }, ... ]</code> 400 Bad Request <code>{ error: 'Descripci\u00f3n del error' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener los datos', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al obtener los datos', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido"},{"location":"Metodos-HTTP/doc2/#movimientos","title":"Movimientos:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de login POST /api/movimientos Crea un nuevo movimiento Body: <code>pedidoId</code> (string) <code>tipo</code> (string, uno de: entrega, levante) <code>numeroVolqueta</code> (string, opcional) <code>choferId</code> (string) <code>horario</code> (string) 201 Created <code>{ id, pedidoId, tipo, numeroVolqueta, choferId, horario }</code> 400 Bad Request <code>{ error: 'Tipo solo puede ser \"entrega\" o \"levante\"' }</code> <code>{ error: 'Movimiento debe tener Chofer' }</code> <code>{ error: 'Movimiento debe tener Pedido' }</code> <code>{ error: 'Movimiento debe tener horario' }</code> <code>{ error: 'Volqueta no existe' }</code> <code>{ error: 'Dado el estado de la volqueta (estado), esta no se puede utilizar' }</code> <code>{ error: 'Id de Chofer no es v\u00e1lido' }</code> <code>{ error: 'Id de Chofer no es v\u00e1lido, Empleado no es chofer' }</code> <code>{ error: 'Para crear la entrega el pedido no debe tener movimientos' }</code> <code>{ error: 'Volqueta esta siendo utilizada en otro lugar' }</code> <code>{ error: 'Para crear el levante el pedido debe tener 1 movimiento(Entrega)' }</code> <code>{ error: 'Volqueta del levante debe ser la misma que la de la entrega' }</code> <code>{ error: 'El horario del levante debe ser despu\u00e9s de la entrega' }</code> <code>{ error: 'Para asignar volqueta al levante, la entrega debe tener una' }</code> <code>{ error: 'Pedido no existe' }</code> 500 Internal Server Error <code>{ error: 'Error al crear el movimiento', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al crear el movimiento', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido PUT /api/movimientos/ Modifica un movimiento existente Path: <code>movimientoId</code> (integer) Body: <code>horario</code> (string, opcional) <code>pedidoId</code> (string, opcional) <code>tipo</code> (string, opcional) <code>numeroVolqueta</code> (string, opcional) <code>choferId</code> (string, opcional) 200 OK <code>{ id, horario, pedidoId, tipo, numeroVolqueta, choferId }</code> 400 Bad Request <code>{ error: 'El Tipo o el Pedido de movimiento no son modificables' }</code> <code>{ error: 'Debe incluir alg\u00fan campo v\u00e1lido a modificar (chofer, horario, n\u00famero de volqueta)' }</code> <code>{ error: 'No existe movimiento' }</code> <code>{ error: 'horario de levante debe ser despu\u00e9s del de entrega' }</code> <code>{ error: 'horario de entrega debe ser antes del de levante' }</code> <code>{ error: 'Id de Chofer sugerido no es v\u00e1lido' }</code> <code>{ error: 'Id de Chofer sugerido no es v\u00e1lido, Empleado no es chofer' }</code> 500 Internal Server Error <code>{ error: 'Error al modificar el movimiento', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al modificar el movimiento', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido GET /api/movimientos Obtiene todos los movimientos 200 OK <code>[ { id, pedidoId, tipo, numeroVolqueta, choferId, horario }, ... ]</code> 500 Internal Server Error <code>{ error: 'Error al obtener movimientos', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al obtener movimientos', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido DELETE /api/movimientos/ Elimina un movimiento existente Path: <code>movimientoId</code> (integer) 200 OK <code>{ detalle: 'Movimiento eliminado exitosamente' }</code> 400 Not Found <code>{ error: 'No existe movimiento' }</code> 400 Bad Request <code>{ error: 'Debe eliminar el levante primero' }</code> <code>{ error: 'Movimiento eliminado, Pero la Volqueta de este pedido est\u00e1 siendo utilizada en alg\u00fan otro lugar. Volqueta no puede ser usada en dos pedidos a la vez (Elimine la entrega o modifique su volqueta)' }</code> 500 Internal Server Error <code>{ error: 'Error al eliminar el movimiento', detalle: 'Descripci\u00f3n del error' }</code> <code>{ error: 'Error al eliminar el movimiento', detalle: 'Descripci\u00f3n del error', stack: 'Stack trace' }</code> Requerido"},{"location":"Metodos-HTTP/doc2/#obras","title":"Obras:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/obras Crea una nueva obra Body: <code>dias</code>, <code>destinoFinal</code>, <code>calle</code>, <code>esquina</code>, <code>barrio</code>, <code>coordenadas</code>, <code>numeroPuerta</code>, <code>descripcion</code>, <code>detalleResiduos</code>, <code>residuosMezclados</code>, <code>residuosReciclados</code>, <code>frecuenciaSemanal</code>, <code>particularId</code>, <code>empresaId</code> 201 Created: <code>{ obra, obraDetalles }</code> 400 Bad Request: <code>{ error: 'La calle es obligatoria' }</code> 400 Bad Request: <code>{ error: 'La Obra debe pertenecer exclusivamente a una empresa o a un particular' }</code> 400 Bad Request: <code>{ error: 'Ese Particular no existe' }</code> 400 Bad Request: <code>{ error: 'Esa Empresa no existe' }</code> 500 Internal Server Error: <code>{ error: 'Error al crear la obra', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al crear la obra', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/obras Obtiene todas las obras - 200 OK: <code>[ obra1, obra2, ... ]</code> 500 Internal Server Error: <code>{ error: 'Error al obtener las obras', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener las obras', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/obras/:id Obtiene una obra por ID Path: <code>obraId</code> Query: <code>detalle</code> (opcional, valores posibles: 'si') 200 OK: <code>{ obra }</code> 404 Not Found: <code>{ error: 'Obra no encontrada' }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener la obra', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener la obra', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/obras-ultimos-meses Obtiene obras con pedidos recientes Query: <code>cantidadMeses</code> 200 OK: <code>[ obra1, obra2, ... ]</code> 400 Bad Request: <code>{ error: 'La cantidad de meses debe ser mayor a 0' }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener obras con pedidos recientes', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener obras con pedidos recientes', detalle: [error details] }</code> Requerido PUT /api/obras/:id Actualiza una obra por ID Path: <code>obraId</code> Body: <code>dias</code>, <code>destinoFinal</code>, <code>calle</code>, <code>esquina</code>, <code>barrio</code>, <code>coordenadas</code>, <code>numeroPuerta</code>, <code>descripcion</code>, <code>detalleResiduos</code>, <code>residuosMezclados</code>, <code>residuosReciclados</code>, <code>frecuenciaSemanal</code>, <code>particularId</code>, <code>empresaId</code> 200 OK: <code>{ updatedObra }</code> 404 Not Found: <code>{ error: 'Obra no encontrada' }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar la obra', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar la obra', detalle: [error details], stack: [stack trace] }</code> Requerido PUT /api/obras-detalle/:id Actualiza los detalles de una obra por ID Path: <code>obraId</code> Body: <code>detalleResiduos</code>, <code>residuosMezclados</code>, <code>residuosReciclados</code>, <code>destinoFinal</code>, <code>dias</code>, <code>frecuenciaSemanal</code> 200 OK: <code>{ updatedObra }</code> 404 Not Found: <code>{ error: 'Obra no encontrada' }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar los detalles de la obra', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar los detalles de la obra', detalle: [error details], stack: [stack trace] }</code> Requerido DELETE /api/obras/:id Elimina una obra por ID Path: <code>obraId</code> 200 OK: <code>{ detalle: 'Obra en la calle [calle] eliminada correctamente' }</code> 404 Not Found: <code>{ error: 'La Obra no existe' }</code> 500 Internal Server Error: <code>{ error: 'Error al eliminar la obra', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al eliminar la obra', detalle: [error details], stack: [stack trace] }</code> Requerido(Admin)"},{"location":"Metodos-HTTP/doc2/#pagopedidos","title":"PagoPedidos:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login PUT /api/pago-pedididos/:id Modifica un pago de pedido por ID Path: <code>pagoPedidoId</code> Body: <code>remito</code>, <code>precio</code>, <code>pagado</code>, <code>tipoPago</code> 202 Accepted: <code>{ pagoPedido }</code> 400 Bad Request: <code>{ error: 'Tipo de pago debe ser v\u00e1lido, opciones: (\\'transferencia\\', \\'efectivo\\', \\'cheque\\')' }</code> 400 Bad Request: <code>{ error: 'El campo precio debe ser un n\u00famero v\u00e1lido.' }</code> 404 Not Found: <code>{ error: 'Pago del Pedido no existe' }</code> 500 Internal Server Error: <code>{ error: 'Error al modificar el pago', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al modificar el pago', detalle: [error details], stack: [stack trace] }</code> Requerido(Admin)"},{"location":"Metodos-HTTP/doc2/#particulares","title":"Particulares:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/particulares Crea un nuevo particular Body: <code>nombre</code>, <code>cedula</code>, <code>descripcion</code>, <code>email</code> 201 Created: <code>{ nuevoParticular }</code> 400 Bad Request: <code>{ error: 'El nombre del Particular es obligatorio' }</code> 400 Bad Request: <code>{ error: 'El email no es v\u00e1lido' }</code> 400 Bad Request: <code>{ error: 'Cedula invalida, deben ser 8 numeros' }</code> 500 Internal Server Error: <code>{ error: 'Error al crear el particular', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al crear el particular', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/particulares/:id Obtiene un particular por ID Path: <code>particularId</code> 200 OK: <code>{ particular }</code> 404 Not Found: <code>{ error: 'Particular no encontrado' }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener el particular', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener el particular', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/particulares Obtiene todos los particulares No par\u00e1metros 200 OK: <code>[ particulares ]</code> 500 Internal Server Error: <code>{ error: 'Error al obtener los particulares', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al obtener los particulares', detalle: [error details], stack: [stack trace] }</code> Requerido GET /api/particulares/buscar Busca particulares seg\u00fan par\u00e1metros Query: <code>nombre</code>, <code>email</code>, <code>cedula</code>, <code>letraInicial</code> 200 OK: <code>[ particulares ]</code> 400 Bad Request: <code>{ error: 'Debe proporcionar al menos un par\u00e1metro de b\u00fasqueda (nombre, email, cedula).' }</code> 400 Bad Request: <code>{ error: 'La b\u00fasqueda por letra inicial debe tener solo una letra' }</code> 500 Internal Server Error: <code>{ error: 'Error al buscar los particulares', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al buscar los particulares', detalle: [error details], stack: [stack trace] }</code> Requerido PUT /api/particulares/:id Actualiza un particular por ID Path: <code>particularId</code> Body: <code>nombre</code>, <code>cedula</code>, <code>descripcion</code>, <code>email</code> 200 OK: <code>{ updatedParticular }</code> 404 Not Found: <code>{ error: 'Cliente Particular no encontrado' }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar el particular', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al actualizar el particular', detalle: [error details], stack: [stack trace] }</code> Requerido DELETE /api/particulares/:id Elimina un particular por ID Path: <code>particularId</code> 200 OK: <code>{ detalle: 'Particular con nombre [nombre] fue eliminado correctamente' }</code> 404 Not Found: <code>{ error: 'El particular con ese id no existe' }</code> 500 Internal Server Error: <code>{ error: 'Error al eliminar el particular', detalle: [error details] }</code> 500 Internal Server Error: <code>{ error: 'Error al eliminar el particular', detalle: [error details], stack: [stack trace] }</code> Requerido(Admin)"},{"location":"Metodos-HTTP/doc2/#pedidos","title":"Pedidos:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/pedidos/nuevo Crea un pedido nuevo con entrega y levante <code>obraId</code>, <code>descripcion</code>, <code>permisoId</code>, <code>referenciaId</code>, <code>cantidadMultiple</code>, <code>precio</code>, <code>pagado</code>, <code>tipoPago</code>, <code>horarioSugerido</code>, <code>choferSugeridoId</code> 201 Created <code>{ nuevaSugerencia, nuevoPedido, nuevoPago }</code> 500 Internal Server Error <code>{ error: 'Error al crear el pedido', detalle: error.message }</code> o <code>{ error: 'Error al crear el pedido', detalle: [error.errors], stack: error.stack.message }</code> Requerido POST /api/pedidos/recambio Crea un pedido nuevo como recambio <code>obraId</code>, <code>descripcion</code>, <code>permisoId</code>, <code>referenciaId</code>, <code>cantidadMultiple</code>, <code>precio</code>, <code>pagado</code>, <code>tipoPago</code>, <code>horarioSugerido</code>, <code>choferSugeridoId</code> 201 Created <code>{ nuevaSugerencia, nuevoPedido, nuevoPago }</code> 500 Internal Server Error <code>{ error: 'Error al crear el pedido', detalle: error.message }</code> o <code>{ error: 'Error al crear el pedido', detalle: [error.errors], stack: error.stack.message }</code> Requerido POST /api/pedidos/multiple Crea varios pedidos <code>obraId</code>, <code>descripcion</code>, <code>permisoId</code>, <code>referenciaId</code>, <code>cantidadMultiple</code>, <code>precio</code>, <code>pagado</code>, <code>tipoPago</code>, <code>horarioSugerido</code>, <code>choferSugeridoId</code> 201 Created <code>{ nuevaSugerencia, nuevoPedido, nuevoPago }</code> 500 Internal Server Error <code>{ error: 'Error al crear los pedidos', detalle: error.message }</code> o <code>{ error: 'Error al crear los pedidos', detalle: [error.errors], stack: error.stack.message }</code> Requerido GET(Desactivado) /api/pedidos Obtiene todos los pedidos - 200 OK <code>{ pagoPedidos, pedidos, sugerencias, movimientos }</code> 500 Internal Server Error <code>{ error: 'Error al obtener pedidos', detalle: error.message }</code> o <code>{ error: 'Error al obtener pedidos', detalle: [error.errors], stack: error.stack }</code> Requerido GET /api/pedidos/multiples/ Obtiene los pedidos m\u00faltiples de un pedido base <code>pedidoId</code> (Path) 200 OK <code>[ { id, estado }, ... ]</code> 400 Bad Request <code>{ error: 'Id de pedido incorrecto, pedido debe existir y ser multiple' }</code> o 500 Internal Server Error <code>{ error: 'Error al obtener pedidos multiples', detalle: error.message }</code> o <code>{ error: 'Error al obtener pedidos multiples', detalle: [error.errors], stack: error.stack.toString() }</code> Requerido GET /api/pedidos/filtro Obtiene pedidos con filtros espec\u00edficos <code>ultimos</code>, <code>estado</code>, <code>pagado</code>, <code>fechaInicio</code>, <code>fechaFin</code>, <code>empresaId</code>, <code>particularId</code>, <code>tipoHorario</code>, <code>obraId</code>, <code>choferId</code>, <code>choferSugeridoId</code> 200 OK <code>[ { id, createdAt, descripcion, estado, creadoComo, pagoPedido, obra, movimiento, sugerencia }, ... ]</code> 400 Bad Request <code>{ error: 'No se pueden traer mas de 50 Pedidos a la vez' }</code> o <code>{ error: \"Los tipos de horario solo pueden ser: ('movimientoEntrega', 'movimientoLevante', 'sugerenciaEntrega', 'sugerenciaLevante', 'creacion')\" }</code> o <code>{ error: 'FechaFin debe ser despues de fechaInicio' }</code> o <code>{ error: 'Debe ingresar fecha de inicio y fecha de fin' }</code> o <code>{ error: \"Los tipos de estado de pedidos solo pueden ser: ('cancelado', 'iniciado', 'entregado', 'levantado')\" }</code> o <code>{ error: 'Error al obtener pedido', detalle: error.message }</code> o <code>{ error: 'Error al obtener pedido', detalle: [error.errors], stack: error.stack }</code> Requerido GET /api/pedidos/:id Obtiene un pedido por ID <code>pedidoId</code> (Path) 200 OK <code>{ id, descripcion, estado, creadoComo, pagoPedido, sugerencias, movimientos, obra }</code> 400 Not Found <code>{ error: 'Error al obtener pedido', detalle: 'Pedido no existe' }</code> o <code>{ error: 'Error al obtener pedido', detalle: error.message }</code> o <code>{ error: 'Error al obtener pedido', detalle: [error.errors], stack: error.stack }</code> Requerido PUT /api/pedidos/:id Modifica un pedido <code>pedidoId</code> (Path), <code>descripcion</code>, <code>nroPesada</code>, <code>obraId</code> (Body) 200 OK <code>{ id, descripcion, nroPesada, obraId }</code> 400 Not Found <code>{ error: 'Pedido no existe' }</code> o <code>{ error: 'Obra no existe' }</code> o <code>{ error: 'Obra no esta activa' }</code> o <code>{ error: 'Obra y Permiso tienen diferente Cliente vinculado, El permiso puede ser el vigente de Volketas 10 o propio del particular' }</code> o <code>{ error: 'Obra y Permiso tienen diferente Empresa vinculada' }</code> Requerido M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login PATCH /api/pedidos-permiso/:pedidoId Modifica el permiso asociado a un pedido. Path: <code>pedidoId</code> - ID del pedido. Body: <code>permisoId</code> - ID del permiso a asociar (o <code>null</code> para eliminar el permiso). 202 Accepted <code>{ pedido }</code> 404 Not Found <code>{ error: 'Pedido no existe' }</code> 400 Bad Request <code>{ error: 'Permiso no existe' }</code> <code>{ error: 'Permiso Vencido, antes de la creacion del pedido' }</code> <code>{ error: 'Obra y Permiso tienen diferente particular vinculado' }</code> <code>{ error: 'Obra y Permiso tienen diferente Empresa vinculada' }</code> 500 Internal Server Error <code>{ error: 'Error al modificar el permiso del pedido', detalle: [mensaje de error] }</code> <code>{ error: 'Error al modificar el permiso del pedido', detalle: [mensaje de error], stack: [mensaje de stack] }</code> Requerido DELETE /api/pedidos/:pedidoId Elimina un pedido. Path : <code>pedidoId</code> - ID del pedido a eliminar. 200 OK <code>{ detalle: 'Pedido cancelado exitosamente' }</code> 404 Not Found <code>{ error: 'Pedido no encontrado' }</code> 400 Bad Request <code>{ error: 'Error al cancelar el Pedido, tiene movimientos vinculados' }</code> <code>{ error: 'Error al cancelar el Pedido, El pedido tiene una factura vinculada' }</code> <code>{ error: 'Error al cancelar el Pedido, El pedido fue pagado' }</code> 500 Internal Server Error <code>{ error: 'Error al eliminar el pedido', detalle: [mensaje de error] }</code> <code>{ error: 'Error al eliminar el pedido', detalle: [mensaje de error], stack: [mensaje de stack] }</code> Requerido"},{"location":"Metodos-HTTP/doc2/#permisos","title":"Permisos:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/permisos Crear un nuevo permiso Body: <code>fechaCreacion</code>, <code>fechaVencimiento</code>, <code>empresaId</code>, <code>particularId</code>, <code>id</code> 201 Created con los detalles del nuevo permiso 400 Bad Request con errores de validaci\u00f3n como fechas inv\u00e1lidas o campos vac\u00edos 500 Internal Server Error con detalles del error de creaci\u00f3n Requerido GET /api/permisos Obtener permisos del mes actual - 200 OK con la lista de permisos 500 Internal Server Error con detalles del error de consulta Requerido GET /api/permisos/:id Obtener un permiso espec\u00edfico Path: <code>permisoId</code> Query: <code>fechaInicio</code>, <code>fechaFin</code> 200 OK con los detalles del permiso 400 Bad Request si <code>fechaFin</code> es anterior a <code>fechaInicio</code> 500 Internal Server Error con detalles del error de consulta Requerido GET /api/permisos/empresa/:id Obtener permisos por empresa Path: <code>empresaId</code> Query: <code>activo</code> 200 OK con la lista de permisos 500 Internal Server Error con detalles del error de consulta Requerido GET /api/permisos/particular/:id Obtener permisos por particular Path: <code>particularId</code> Query: <code>activo</code> 200 OK con la lista de permisos 500 Internal Server Error con detalles del error de consulta Requerido PUT /api/permisos/:id Actualizar un permiso existente Path: <code>permisoId</code> Body: <code>fechaCreacion</code>, <code>fechaVencimiento</code>, <code>empresaId</code>, <code>particularId</code> 200 OK con los detalles del permiso actualizado 400 Bad Request si <code>fechaCreacion</code> es posterior a <code>fechaVencimiento</code> 400 Not Found si el permiso o entidad relacionada no existe 500 Internal Server Error con detalles del error de actualizaci\u00f3n Requerido DELETE /api/permisos/:id Eliminar un permiso Path: <code>permisoId</code> <code>204 No Content</code> con mensaje de \u00e9xito 400 Not Found si el permiso no existe 500 Internal Server Error con detalles del error de eliminaci\u00f3n Requerido(Admin)"},{"location":"Metodos-HTTP/doc2/#servicios-camion","title":"Servicios-Camion:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/servicios Crear un nuevo servicio Body: <code>precio</code>, <code>camionId</code>, <code>tipo</code>, <code>fecha</code>, <code>descripcion</code>, <code>moneda</code> 201 Created con los detalles del nuevo servicio 400 Bad Request por tipo o moneda inv\u00e1lidos, o si el cami\u00f3n no existe 500 Internal Server Error con detalles del error de creaci\u00f3n Requerido GET /api/servicios Obtener todos los servicios - 200 OK con la lista de servicios 500 Internal Server Error con detalles del error de consulta Requerido GET /api/servicios/:camionid Obtener servicios por cami\u00f3n Path: <code>camionId</code> 200 OK con la lista de servicios 500 Internal Server Error con detalles del error de consulta Requerido GET /api/servicios/mensuales Obtener servicios mensuales Query: <code>month</code>, <code>year</code>, <code>camionId</code> 200 OK con la lista de servicios 400 Bad Request por mes o a\u00f1o inv\u00e1lidos 500 Internal Server Error con detalles del error de consulta Requerido DELETE /api/servicios/:id Eliminar un servicio Path: <code>servicioId</code> 200 OK con mensaje de \u00e9xito 400 Not Found si el servicio no existe 500 Internal Server Error con detalles del error de eliminaci\u00f3n Requerido(Admin)"},{"location":"Metodos-HTTP/doc2/#sugerencias","title":"Sugerencias:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/sugerencias Crear una nueva sugerencia Body: <code>horarioSugerido</code>, <code>choferSugeridoId</code>, <code>tipoSugerido</code>, <code>pedidoId</code> 201 Created con los detalles de la nueva sugerencia 400 Bad Request si el pedido no existe, tipoSugerido inv\u00e1lido, o sugerencia ya existe 500 Internal Server Error con detalles del error de creaci\u00f3n Requerido PUT /api/sugerencias/:id Actualizar una sugerencia existente Path: <code>sugerenciaId</code> Body: <code>horarioSugerido</code>, <code>choferSugeridoId</code> <code>202 Accepted</code> con los detalles de la sugerencia actualizada 400 Not Found si la sugerencia no existe 400 Bad Request si el chofer no es v\u00e1lido 500 Internal Server Error con detalles del error de actualizaci\u00f3n Requerido DELETE /api/sugerencias/:id Eliminar una sugerencia Path: <code>sugerenciaId</code> 200 OK con mensaje de \u00e9xito 400 Not Found si la sugerencia no existe 500 Internal Server Error con detalles del error de eliminaci\u00f3n Requerido(Admin) GET /api/sugerencias/verificar Verificar sugerencias para un chofer en un rango de tiempo Query: <code>choferId</code>, <code>horario</code> 200 OK con la lista de sugerencias o mensaje si no hay sugerencias 400 Bad Request si <code>choferId</code> o <code>horario</code> faltan 500 Internal Server Error con detalles del error de verificaci\u00f3n Requerido"},{"location":"Metodos-HTTP/doc2/#telefono","title":"Telefono:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/telefonos Crear un nuevo tel\u00e9fono Body: <code>telefono</code>, <code>tipo</code>, <code>extension</code>, <code>empleadoId</code>, <code>contactoEmpresaId</code>, <code>particularId</code> 201 Created con los detalles del nuevo tel\u00e9fono 400 Bad Request si el tel\u00e9fono no es num\u00e9rico, tipo inv\u00e1lido, tel\u00e9fono o propietario faltan, o longitud incorrecta 500 Internal Server Error con detalles del error de creaci\u00f3n Requerido GET /api/telefonos Obtener todos los tel\u00e9fonos - 200 OK con la lista de tel\u00e9fonos 500 Internal Server Error con detalles del error al obtener los tel\u00e9fonos Requerido GET /api/telefonos/:id Obtener un tel\u00e9fono por ID Path: <code>telefonoId</code> 200 OK con los detalles del tel\u00e9fono 400 Not Found si el tel\u00e9fono no existe 500 Internal Server Error con detalles del error al obtener el tel\u00e9fono Requerido PUT /api/telefonos/:id Actualizar un tel\u00e9fono existente Path: <code>telefonoId</code> Body: <code>telefono</code>, <code>tipo</code> 200 OK con los detalles del tel\u00e9fono actualizado 400 Bad Request si el celular tiene longitud incorrecta 400 Not Found si el tel\u00e9fono no existe 500 Internal Server Error con detalles del error de actualizaci\u00f3n Requerido DELETE /api/telefonos/:id Eliminar un tel\u00e9fono Path: <code>telefonoId</code> 200 OK con mensaje de \u00e9xito 400 Not Found si el tel\u00e9fono no existe 500 Internal Server Error con detalles del error de eliminaci\u00f3n Requerido"},{"location":"Metodos-HTTP/doc2/#volquetas","title":"Volquetas","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/volquetas Crea una nueva volqueta. Body: <code>numeroVolqueta</code>, <code>estado</code>, <code>tipo</code> 201 Created <code>{ id, numeroVolqueta, estado, tipo }</code> 400 Bad Request <code>{ error: 'Tipo inv\u00e1lido' }</code> <code>{ error: 'Estado inv\u00e1lido' }</code> <code>{ error: 'Numero de volqueta es obligatorio' }</code> 500 Internal Server Error <code>{ error: 'Error al crear la volqueta', detalle: [errors] }</code> Requerido GET /api/volquetas/:id Obtiene una volqueta por su n\u00famero, incluyendo movimientos si se especifican fechas. Path: <code>numeroVolqueta</code> Query: <code>fechaInicio</code>, <code>fechaFin</code> 200 OK <code>{ id, numeroVolqueta, estado, tipo, Movimientos }</code> 400 Bad Request <code>{ error: 'FechaFin debe ser despues de fechaInicio' }</code> 400 Not Found <code>{ error: 'Volqueta no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al obtener movimientos de la volqueta', detalle: [errors] }</code> Requerido GET /api/volquetas Obtiene todas las volquetas con sus \u00faltimos movimientos. N/A 200 OK <code>[ { id, numeroVolqueta, estado, tipo, Movimientos } ]</code> 500 Internal Server Error <code>{ error: 'Error al obtener volquetas con sus \u00faltimos movimientos', detalle: [errors] }</code> Requerido PUT /api/volquetas/:id Actualiza una volqueta por su n\u00famero. Path: <code>numeroVolqueta</code> Body: <code>estado</code>, <code>tipo</code> 200 OK <code>{ id, numeroVolqueta, estado, tipo }</code> 400 Bad Request <code>{ error: 'Tipo inv\u00e1lido' }</code> <code>{ error: 'Estado inv\u00e1lido' }</code> 400 Not Found <code>{ error: 'Volqueta no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al actualizar la volqueta', detalle: [errors] }</code> Requerido DELETE /api/volquetas/:id Elimina una volqueta por su n\u00famero. Path: <code>numeroVolqueta</code> <code>204 No Content</code> <code>{ detalle: 'Volqueta eliminada' }</code> 400 Not Found <code>{ error: 'Volqueta no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al borrar la volqueta', detalle: [errors] }</code> Requerido(Admin) PUT /api/volquetas-ubicacion/:id Actualiza la ubicaci\u00f3n temporal de una volqueta. Path: <code>numeroVolqueta</code> Body: <code>ubicacionTemporal</code> 200 OK <code>{ id, numeroVolqueta, estado, tipo, ubicacionTemporal }</code> 400 Bad Request <code>{ error: 'Debe ingresar una ubicacion' }</code> <code>{ error: 'Volqueta esta ocupada, no se puede cambiar la ubicacion manualmente' }</code> 400 Not Found <code>{ error: 'Volqueta no encontrada' }</code> 500 Internal Server Error <code>{ error: 'Error al actualizar la volqueta', detalle: [errors] }</code> Requerido GET /api/volquetas-48hs Obtiene los pedidos con volquetas que llevan m\u00e1s de 48 horas en la calle. Query: <code>numero</code> 200 OK <code>[ { id, horario, numeroVolqueta, Obras } ]</code> 500 Internal Server Error <code>{ error: 'Error al obtener los pedidos con volquetas con mas de 48hs en la calle', detalle: [errors] }</code> Requerido"},{"location":"Metodos-HTTP/empleados/","title":"Empleados","text":""},{"location":"Metodos-HTTP/empleados/#modelo-empleados","title":"Modelo: <code>Empleados</code>","text":""},{"location":"Metodos-HTTP/empleados/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Empleados</code> representa a los empleados de la empresa. Este modelo incluye informaci\u00f3n sobre el nombre, rol, c\u00e9dula, estado de habilitaci\u00f3n, fechas de entrada y salida de la empresa, y direcci\u00f3n de cada empleado.</p>"},{"location":"Metodos-HTTP/empleados/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del empleado en la tabla <code>Empleados</code>.</li> </ul> </li> <li> <p><code>nombre</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Nombre del empleado.</li> </ul> </li> <li> <p><code>rol</code>:</p> <ul> <li>Tipo: <code>ENUM</code></li> <li>Valores permitidos: <code>'admin'</code>, <code>'normal'</code>, <code>'chofer'</code>.</li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Rol del empleado dentro de la empresa.</li> </ul> </li> <li> <p><code>cedula</code>:</p> <ul> <li>Tipo: <code>STRING(8)</code></li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed.</li> <li>Descripci\u00f3n: C\u00e9dula del empleado. Debe ser \u00fanica en la tabla <code>Empleados</code>.</li> </ul> </li> <li> <p><code>habilitado</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Valor por defecto: <code>true</code>.</li> <li>Descripci\u00f3n: Estado de habilitaci\u00f3n del empleado. Indica si el empleado est\u00e1 habilitado o no.</li> </ul> </li> <li> <p><code>fechaEntrada</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>Descripci\u00f3n: Fecha en la que el empleado comenz\u00f3 a trabajar.</li> </ul> </li> <li> <p><code>fechaSalida</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>Valor por defecto: <code>null</code>.</li> <li>Descripci\u00f3n: Fecha en la que el empleado dej\u00f3 de trabajar. Si el empleado sigue trabajando, este campo ser\u00e1 <code>null</code>.</li> </ul> </li> <li> <p><code>direccion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Direcci\u00f3n del empleado.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/empleados/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>Usuarios</code><ul> <li>Tipo: 1 a 1</li> </ul> </li> <li>Relaci\u00f3n con <code>HistoricoUsoCamion</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Jornales</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Telefonos</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Cajas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Sugerencias</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Metodos-HTTP/empresas/","title":"Empresas","text":""},{"location":"Metodos-HTTP/empresas/#modelo-empresas","title":"Modelo: <code>Empresas</code>","text":""},{"location":"Metodos-HTTP/empresas/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Empresas</code> representa a las empresas dentro del sistema. Este modelo incluye informaci\u00f3n sobre el RUT, nombre, raz\u00f3n social y descripci\u00f3n de cada empresa.</p>"},{"location":"Metodos-HTTP/empresas/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico de la empresa en la tabla <code>Empresas</code>.</li> </ul> </li> <li> <p><code>rut</code>:</p> <ul> <li>Tipo: <code>STRING(12)</code></li> <li>\u00danico: S\u00ed.</li> <li>Descripci\u00f3n: RUT (Rol \u00danico Tributario) de la empresa. Este campo puede ser nulo y debe ser \u00fanico si se proporciona.</li> </ul> </li> <li> <p><code>nombre</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Nombre de la empresa.</li> </ul> </li> <li> <p><code>razonSocial</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Raz\u00f3n social de la empresa. Es un campo opcional.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Descripci\u00f3n adicional sobre la empresa. Es un campo opcional.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/empresas/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>ContactoEmpresas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Obras</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Permisos</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Cajas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Metodos-HTTP/errores-genericos/","title":"Errores genericos","text":""},{"location":"Metodos-HTTP/errores-genericos/#errores","title":"Errores","text":""},{"location":"Metodos-HTTP/errores-genericos/#error-400-bad-request","title":"Error 400 - Bad Request","text":"<p>Causa: Id pasado en parametros no es un entero</p> <pre><code>{ \"error\": \"El par\u00e1metro ${paramName} debe ser un entero\" }\n</code></pre> <p>Causa: Formato de fechas en parametros incorrecto</p> <pre><code>{ \"error\": \"El formato de las fechas debe ser YYYY-MM-DD\" }\n</code></pre>"},{"location":"Metodos-HTTP/errores-genericos/#error-401-unauthorized","title":"Error 401 - Unauthorized","text":"<p>Causa: Token de autorizaci\u00f3n no proporcionado.</p> <pre><code>{ \"error\": \"Token de autorizaci\u00f3n no proporcionado\" }\n</code></pre> <p>Causa: Token de autorizaci\u00f3n vencido.</p> <pre><code>{ \"error\": \"El token expir\u00f3, inicie sesi\u00f3n nuevamente\" }\n</code></pre> <p>Causa: Token inv\u00e1lido</p> <pre><code>{ \"error\": \"Token inv\u00e1lido, inicie sesi\u00f3n nuevamente\" }\n</code></pre> <p>Causa: Token de autorizaci\u00f3n requerido no es de un usuario Admin.</p> <pre><code>{ \"error\": \"Debe iniciar sesi\u00f3n como administrador.\" }\n</code></pre>"},{"location":"Metodos-HTTP/facturas/","title":"Facturas","text":""},{"location":"Metodos-HTTP/facturas/#modelo-facturas","title":"Modelo: <code>Facturas</code>","text":""},{"location":"Metodos-HTTP/facturas/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Facturas</code> representa una factura en el sistema. Incluye informaci\u00f3n sobre el tipo de factura, numeraci\u00f3n, estado, fecha de pago, monto y descripci\u00f3n.</p>"},{"location":"Metodos-HTTP/facturas/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico de la factura en la tabla <code>Facturas</code>.</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM('credito', 'contado', 'recibo')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de la factura (cr\u00e9dito, contado, recibo).</li> </ul> </li> <li> <p><code>numeracion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>\u00danico: S\u00ed.</li> <li>Descripci\u00f3n: N\u00famero de la factura. Debe ser \u00fanico en el sistema.</li> </ul> </li> <li> <p><code>estado</code>:</p> <ul> <li>Tipo: <code>ENUM('pendiente', 'pagada', 'anulada')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Estado de la factura (pendiente, pagada, anulada).</li> </ul> </li> <li> <p><code>fechaPago</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>Descripci\u00f3n: Fecha en la que se realiz\u00f3 el pago de la factura. Es opcional.</li> </ul> </li> <li> <p><code>monto</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>Descripci\u00f3n: Monto total de la factura.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Descripci\u00f3n adicional sobre la factura.</li> </ul> </li> <li> <p><code>particularId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del cliente particular asociado a la factura. Referencia al modelo <code>Particulares</code>.</li> </ul> </li> <li> <p><code>empresaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la empresa asociada a la factura. Referencia al modelo <code>Empresas</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/facturas/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Particulares</code>: 1 a N (Uno a Muchos)</li> <li>Relaci\u00f3n con <code>Empresas</code>: 1 a N (Uno a Muchos)</li> </ul>"},{"location":"Metodos-HTTP/historico-uso-camion/","title":"Historico uso camion","text":""},{"location":"Metodos-HTTP/historico-uso-camion/#modelo-historicousocamion","title":"Modelo: <code>HistoricoUsoCamion</code>","text":""},{"location":"Metodos-HTTP/historico-uso-camion/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>HistoricoUsoCamion</code> registra el historial de uso de camiones por parte de empleados. Incluye informaci\u00f3n sobre el empleado, el cami\u00f3n, y las fechas de inicio y fin del uso del cami\u00f3n.</p>"},{"location":"Metodos-HTTP/historico-uso-camion/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>HistoricoUsoCamion</code>.</li> </ul> </li> <li> <p><code>empleadoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del empleado que utiliz\u00f3 el cami\u00f3n. Referencia al modelo <code>Empleados</code>.</li> </ul> </li> <li> <p><code>camionId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del cami\u00f3n que fue utilizado. Referencia al modelo <code>Camiones</code>.</li> </ul> </li> <li> <p><code>fechaInicio</code>:</p> <ul> <li>Tipo: <code>DATE</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha de inicio del uso del cami\u00f3n.</li> </ul> </li> <li> <p><code>fechaFin</code>:</p> <ul> <li>Tipo: <code>DATE</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Fecha de finalizaci\u00f3n del uso del cami\u00f3n. Es opcional si el cami\u00f3n a\u00fan est\u00e1 en uso.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/historico-uso-camion/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Camiones</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Metodos-HTTP/jornales/","title":"Jornales","text":""},{"location":"Metodos-HTTP/jornales/#modelo-jornales","title":"Modelo: <code>Jornales</code>","text":""},{"location":"Metodos-HTTP/jornales/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Jornales</code> registra los detalles de los turnos de trabajo de los empleados, incluyendo las horas de entrada y salida, y el c\u00e1lculo de horas extra. Tambi\u00e9n incluye informaci\u00f3n sobre el tipo de jornal y qui\u00e9n lo cre\u00f3.</p>"},{"location":"Metodos-HTTP/jornales/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Jornales</code>.</li> </ul> </li> <li> <p><code>empleadoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del empleado al que corresponde el jornal. Referencia al modelo <code>Empleados</code>.</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM</code></li> <li>Valores posibles: <code>'trabajo'</code>, <code>'licencia'</code>, <code>'enfermedad'</code>, <code>'falta'</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de jornal registrado.</li> </ul> </li> <li> <p><code>fecha</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha del jornal.</li> </ul> </li> <li> <p><code>entrada</code>:</p> <ul> <li>Tipo: <code>TIME</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Hora de entrada del empleado.</li> </ul> </li> <li> <p><code>salida</code>:</p> <ul> <li>Tipo: <code>TIME</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Hora de salida del empleado.</li> </ul> </li> <li> <p><code>horasExtra</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>Valor por defecto: <code>0</code></li> <li>Descripci\u00f3n: Horas extra calculadas, basadas en el l\u00edmite de horas diarias.</li> </ul> </li> <li> <p><code>creadoPor</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del usuario que cre\u00f3 el registro del jornal. Referencia al modelo <code>Usuarios</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/jornales/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Usuarios</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Metodos-HTTP/movimientos/","title":"Movimientos","text":""},{"location":"Metodos-HTTP/movimientos/#modelo-movimientos","title":"Modelo: <code>Movimientos</code>","text":""},{"location":"Metodos-HTTP/movimientos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Movimientos</code> registra los movimientos de las volquetas asociados a pedidos. Incluye informaci\u00f3n sobre el n\u00famero de volqueta, el pedido asociado, el horario del movimiento, el tipo de movimiento y el chofer responsable.</p>"},{"location":"Metodos-HTTP/movimientos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Movimientos</code>.</li> </ul> </li> <li> <p><code>numeroVolqueta</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: N\u00famero de la volqueta asociada al movimiento. Referencia al campo <code>numeroVolqueta</code> del modelo <code>Volquetas</code>.</li> </ul> </li> <li> <p><code>pedidoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pedido asociado al movimiento. Referencia al campo <code>id</code> del modelo <code>Pedidos</code>.</li> </ul> </li> <li> <p><code>horario</code>:</p> <ul> <li>Tipo: <code>DATE</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha y hora del movimiento.</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM</code></li> <li>Valores posibles: <code>'entrega'</code>, <code>'levante'</code></li> <li>Descripci\u00f3n: Tipo de movimiento registrado.</li> </ul> </li> <li> <p><code>choferId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del chofer responsable del movimiento. Referencia al campo <code>id</code> del modelo <code>Empleados</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/movimientos/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Volquetas</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Pedidos</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Metodos-HTTP/obra-detalles/","title":"Obra detalles","text":""},{"location":"Metodos-HTTP/obra-detalles/#modelo-obradetalles","title":"Modelo: <code>ObraDetalles</code>","text":""},{"location":"Metodos-HTTP/obra-detalles/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>ObraDetalles</code> almacena informaci\u00f3n detallada sobre el manejo de residuos en una obra espec\u00edfica. Incluye datos sobre el tipo de residuos, su destino final, y la frecuencia de recolecci\u00f3n.</p>"},{"location":"Metodos-HTTP/obra-detalles/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>ObraDetalles</code>.</li> </ul> </li> <li> <p><code>detalleResiduos</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n de los residuos gestionados en la obra.</li> </ul> </li> <li> <p><code>residuosMezclados</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Indica si los residuos est\u00e1n mezclados.</li> </ul> </li> <li> <p><code>residuosReciclados</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Indica si los residuos est\u00e1n reciclados.</li> </ul> </li> <li> <p><code>frecuenciaSemanal</code>:</p> <ul> <li>Tipo: <code>RANGE(DataTypes.INTEGER)</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Rango de frecuencia semanal para la recolecci\u00f3n de residuos.</li> </ul> </li> <li> <p><code>destinoFinal</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Destino final de los residuos.</li> </ul> </li> <li> <p><code>dias</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: D\u00edas de la semana en los que se realiza la recolecci\u00f3n.</li> </ul> </li> <li> <p><code>obraId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la obra asociada. Referencia al campo <code>id</code> del modelo <code>Obras</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/obra-detalles/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Obras</code>: 1 a 1 (Uno a Uno)</li> </ul>"},{"location":"Metodos-HTTP/obras/","title":"Obras","text":""},{"location":"Metodos-HTTP/obras/#modelo-obras","title":"Modelo: <code>Obras</code>","text":""},{"location":"Metodos-HTTP/obras/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Obras</code> representa una obra con detalles como la ubicaci\u00f3n, descripci\u00f3n y estado activo. Puede estar asociada tanto a una empresa como a un particular.</p>"},{"location":"Metodos-HTTP/obras/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Obras</code>.</li> </ul> </li> <li> <p><code>calle</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Nombre de la calle donde se encuentra la obra.</li> </ul> </li> <li> <p><code>esquina</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Esquina o cruce relevante para la ubicaci\u00f3n de la obra.</li> </ul> </li> <li> <p><code>barrio</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Barrio donde se encuentra la obra.</li> </ul> </li> <li> <p><code>coordenadas</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Coordenadas geogr\u00e1ficas de la ubicaci\u00f3n de la obra.</li> </ul> </li> <li> <p><code>numeroPuerta</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: N\u00famero de puerta asociado a la obra.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n detallada de la obra.</li> </ul> </li> <li> <p><code>activa</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Valor por defecto: <code>true</code></li> <li>Descripci\u00f3n: Indica si la obra est\u00e1 activa.</li> </ul> </li> <li> <p><code>particularId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del particular asociado a la obra. Referencia al campo <code>id</code> del modelo <code>Particulares</code>.</li> </ul> </li> <li> <p><code>empresaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la empresa asociada a la obra. Referencia al campo <code>id</code> del modelo <code>Empresas</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/obras/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Particulares</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Empresas</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Metodos-HTTP/pago-pedidos/","title":"Pago pedidos","text":""},{"location":"Metodos-HTTP/pago-pedidos/#modelo-pagopedidos","title":"Modelo: <code>PagoPedidos</code>","text":""},{"location":"Metodos-HTTP/pago-pedidos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>PagoPedidos</code> representa el pago asociado a un pedido, con detalles como el precio, el estado de pago, el remito y el tipo de pago.</p>"},{"location":"Metodos-HTTP/pago-pedidos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>PagoPedidos</code>.</li> </ul> </li> <li> <p><code>precio</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Monto del pago.</li> </ul> </li> <li> <p><code>pagado</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Valor por defecto: <code>false</code></li> <li>Descripci\u00f3n: Indica si el pago ha sido realizado o no.</li> </ul> </li> <li> <p><code>remito</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: N\u00famero de remito asociado al pago.</li> </ul> </li> <li> <p><code>tipoPago</code>:</p> <ul> <li>Tipo: <code>ENUM('transferencia', 'efectivo', 'cheque')</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de pago utilizado.</li> </ul> </li> <li> <p><code>facturaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la factura asociada al pago. Referencia al campo <code>id</code> del modelo <code>Facturas</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/pago-pedidos/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Facturas</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Metodos-HTTP/particulares/","title":"Particulares","text":""},{"location":"Metodos-HTTP/particulares/#modelo-particulares","title":"Modelo: <code>Particulares</code>","text":""},{"location":"Metodos-HTTP/particulares/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Particulares</code> representa a un cliente individual, con detalles como nombre, c\u00e9dula, correo electr\u00f3nico y una descripci\u00f3n adicional.</p>"},{"location":"Metodos-HTTP/particulares/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Particulares</code>.</li> </ul> </li> <li> <p><code>nombre</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Nombre del cliente.</li> </ul> </li> <li> <p><code>cedula</code>:</p> <ul> <li>Tipo: <code>STRING(8)</code></li> <li>\u00danico.</li> <li>Descripci\u00f3n: C\u00e9dula del cliente. Debe ser \u00fanica en la base de datos.</li> </ul> </li> <li> <p><code>email</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Correo electr\u00f3nico del cliente.</li> <li>Validaci\u00f3n: Debe ser una direcci\u00f3n de correo electr\u00f3nico v\u00e1lida.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Descripci\u00f3n adicional sobre el cliente.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/particulares/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Obras</code>: 1 a N (Uno a Muchos)</li> </ul>"},{"location":"Metodos-HTTP/pedidos/","title":"Pedidos","text":""},{"location":"Metodos-HTTP/pedidos/#modelo-pedidos","title":"Modelo: <code>Pedidos</code>","text":""},{"location":"Metodos-HTTP/pedidos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Pedidos</code> representa los pedidos realizados en el sistema, con informaci\u00f3n sobre su estado, la obra asociada, el usuario que lo cre\u00f3 y otros detalles relevantes.</p>"},{"location":"Metodos-HTTP/pedidos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del pedido.</li> </ul> </li> <li> <p><code>creadoPor</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del usuario que cre\u00f3 el pedido.</li> <li>Referencia: Relacionado con el modelo <code>Usuarios</code>.</li> </ul> </li> <li> <p><code>obraId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la obra asociada al pedido.</li> <li>Referencia: Relacionado con el modelo <code>Obras</code>.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Descripci\u00f3n adicional del pedido.</li> <li>Permite valores nulos.</li> </ul> </li> <li> <p><code>estado</code>:</p> <ul> <li>Tipo: <code>ENUM</code></li> <li>Valores posibles: <code>'iniciado'</code>, <code>'entregado'</code>, <code>'levantado'</code>, <code>'cancelado'</code>.</li> <li>Valor por defecto: <code>'iniciado'</code>.</li> <li>Descripci\u00f3n: Estado actual del pedido.</li> </ul> </li> <li> <p><code>creadoComo</code>:</p> <ul> <li>Tipo: <code>ENUM</code></li> <li>Valores posibles: <code>'nuevo'</code>, <code>'recambio'</code>, <code>'multiple'</code>, <code>'entrega mas levante'</code>.</li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de pedido creado.</li> </ul> </li> <li> <p><code>permisoId</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del permiso asociado al pedido.</li> <li>Referencia: Relacionado con el modelo <code>Permisos</code>.</li> </ul> </li> <li> <p><code>nroPesada</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: N\u00famero de pesada asociado al pedido.</li> </ul> </li> <li> <p><code>pagoPedidoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pago asociado al pedido.</li> <li>Referencia: Relacionado con el modelo <code>PagoPedidos</code>.</li> </ul> </li> <li> <p><code>referenciaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pedido de referencia (en caso de ser un pedido relacionado con otro).</li> <li>Referencia: Relacionado con el modelo <code>Pedidos</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/pedidos/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Usuarios</code>: 1 a N (Uno a Muchos)</li> <li>Relaci\u00f3n con <code>Obras</code>: 1 a N (Uno a Muchos)</li> <li>Relaci\u00f3n con <code>Permisos</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>PagoPedidos</code>: 1 a 1 (Uno a Uno)</li> <li>Relaci\u00f3n con <code>Pedidos</code>: 1 a N (Uno a Muchos, auto-referencia)</li> <li>Relaci\u00f3n con <code>Movimientos</code>: 1 a 2 (Uno a Dos)</li> <li>Relaci\u00f3n con <code>Sugerencias</code>: 1 a 2 (Uno a Dos)</li> </ul>"},{"location":"Metodos-HTTP/permisos/","title":"Permisos","text":""},{"location":"Metodos-HTTP/permisos/#modelo-permisos","title":"Modelo: <code>Permisos</code>","text":""},{"location":"Metodos-HTTP/permisos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Permisos</code> representa los permisos asociados a las empresas o particulares, con informaci\u00f3n sobre su fecha de creaci\u00f3n y vencimiento.</p>"},{"location":"Metodos-HTTP/permisos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed</li> <li>Descripci\u00f3n: N\u00famero \u00fanico del permiso.</li> </ul> </li> <li> <p><code>fechaCreacion</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha en que se cre\u00f3 el permiso.</li> </ul> </li> <li> <p><code>fechaVencimiento</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Fecha en que vence el permiso.</li> </ul> </li> <li> <p><code>empresaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la empresa asociada al permiso.</li> <li>Referencia: Relacionado con el modelo <code>Empresas</code>.</li> </ul> </li> <li> <p><code>particularId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del particular asociado al permiso.</li> <li>Referencia: Relacionado con el modelo <code>Particulares</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/permisos/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empresas</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Particulares</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Metodos-HTTP/servicios/","title":"Servicios","text":""},{"location":"Metodos-HTTP/servicios/#modelo-servicios","title":"Modelo: <code>Servicios</code>","text":""},{"location":"Metodos-HTTP/servicios/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Servicios</code> representa los diferentes tipos de servicios realizados a los camiones, incluyendo informaci\u00f3n sobre el tipo de servicio, la fecha, el precio, y la moneda.</p>"},{"location":"Metodos-HTTP/servicios/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li>Descripci\u00f3n: Identificador \u00fanico del servicio.</li> </ul> </li> <li> <p><code>camionId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del cami\u00f3n al que se le realiz\u00f3 el servicio.</li> <li>Referencia: Relacionado con el modelo <code>Camiones</code>.</li> </ul> </li> <li> <p><code>fecha</code>:</p> <ul> <li>Tipo: <code>DATE</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha en que se realiz\u00f3 el servicio.</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM('arreglo', 'service', 'chequeo', 'pintura')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de servicio realizado.</li> </ul> </li> <li> <p><code>precio</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Costo del servicio.</li> </ul> </li> <li> <p><code>moneda</code>:</p> <ul> <li>Tipo: <code>ENUM('peso', 'dolar')</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Moneda en la que se pag\u00f3 el servicio.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n detallada del servicio.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/servicios/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Camiones</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Metodos-HTTP/sugerencias/","title":"Sugerencias","text":""},{"location":"Metodos-HTTP/sugerencias/#modelo-sugerencias","title":"Modelo: <code>Sugerencias</code>","text":""},{"location":"Metodos-HTTP/sugerencias/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Sugerencias</code> representa las sugerencias asociadas a pedidos, incluyendo el horario sugerido, el chofer recomendado y el tipo de sugerencia (entrega o levante).</p>"},{"location":"Metodos-HTTP/sugerencias/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li>Descripci\u00f3n: Identificador \u00fanico de la sugerencia.</li> </ul> </li> <li> <p><code>horarioSugerido</code>:</p> <ul> <li>Tipo: <code>DATE</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Horario sugerido para la acci\u00f3n recomendada.</li> </ul> </li> <li> <p><code>choferSugeridoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del chofer recomendado para el pedido.</li> <li>Referencia: Relacionado con el modelo <code>Empleados</code>.</li> </ul> </li> <li> <p><code>tipoSugerido</code>:</p> <ul> <li>Tipo: <code>ENUM('entrega', 'levante')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de acci\u00f3n sugerida (entrega o levante).</li> </ul> </li> <li> <p><code>pedidoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pedido asociado a la sugerencia.</li> <li>Referencia: Relacionado con el modelo <code>Pedidos</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/sugerencias/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Pedidos</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Metodos-HTTP/telefonos/","title":"Telefonos","text":""},{"location":"Metodos-HTTP/telefonos/#modelo-telefonos","title":"Modelo: <code>Telefonos</code>","text":""},{"location":"Metodos-HTTP/telefonos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Telefonos</code> representa la informaci\u00f3n de contacto telef\u00f3nico, que puede estar asociada a empleados, particulares, o contactos de empresas.</p>"},{"location":"Metodos-HTTP/telefonos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li>Descripci\u00f3n: Identificador \u00fanico del tel\u00e9fono.</li> </ul> </li> <li> <p><code>telefono</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed</li> <li>Descripci\u00f3n: N\u00famero de tel\u00e9fono.</li> </ul> </li> <li> <p><code>extension</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Extensi\u00f3n telef\u00f3nica (opcional).</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM('telefono', 'celular')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de tel\u00e9fono (tel\u00e9fono fijo o celular).</li> </ul> </li> <li> <p><code>empleadoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del empleado asociado al tel\u00e9fono.</li> <li>Referencia: Relacionado con el modelo <code>Empleados</code>.</li> </ul> </li> <li> <p><code>particularId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del particular asociado al tel\u00e9fono.</li> <li>Referencia: Relacionado con el modelo <code>Particulares</code>.</li> </ul> </li> <li> <p><code>contactoEmpresaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del contacto de la empresa asociado al tel\u00e9fono.</li> <li>Referencia: Relacionado con el modelo <code>ContactoEmpresas</code>.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/telefonos/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Particulares</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>ContactoEmpresas</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Metodos-HTTP/usuarios/","title":"Usuarios","text":""},{"location":"Metodos-HTTP/usuarios/#usuarios","title":"Usuarios:","text":"M\u00e9todo HTTP Endpoint Descripci\u00f3n Par\u00e1metros (Body/Query/Path) Respuesta Exitosa Respuesta de Error Token de Login POST /api/usuarios Crea un nuevo usuario Body: <code>rol</code> (string), <code>email</code> (string), <code>password</code> (string), <code>confirmPassword</code> (string), <code>empleadoId</code> (integer) 201 Created <code>{ \"id\": &lt;id&gt;, \"email\": &lt;email&gt;, \"empleadoId\": &lt;empleadoId&gt;, \"rol\": &lt;rol&gt;, \"activo\": &lt;activo&gt; }</code> 400 Bad Request<code>{ \"error\": \"Todos los campos son obligatorios\" }</code> <code>{ \"error\": \"La contrase\u00f1a no es suficientemente fuerte\" }</code> <code>{ \"error\": \"Email inv\u00e1lido\" }</code> <code>{ \"error\": \"Las contrase\u00f1as no coinciden\" }</code> <code>{ \"error\": \"Rol inv\u00e1lido\" }</code> <code>{ \"error\": \"Empleado no existe\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al crear usuario\", \"detalle\": &lt;detalles&gt; }</code> No Requerido GET /api/usuarios Obtiene todos los usuarios - 200 OK <code>[ { ...usuario1 }, { ...usuario2 }, ... ]</code> 500 Internal Server Error <code>{ \"error\": \"Error al obtener usuarios\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin) GET /api/usuarios/:id Obtiene un usuario por ID Path: <code>usuarioId</code> (integer) 200 OK <code>{ ...usuario }</code> 404 Not Found <code>{ \"error\": \"Usuario no encontrado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al obtener usuario\", \"detalle\": &lt;detalles&gt; }</code> Requerido GET /api/usuarios/inactivos Obtiene todos los usuarios inactivos - 200 OK <code>[ { ...usuario1 }, { ...usuario2 }, ... ]</code> 500 Internal Server Error <code>{ \"error\": \"Error al obtener usuarios\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin) POST /api/usuarios/login Loguea un usuario y devuelve un token JWT Body: <code>email</code> (string), <code>password</code> (string) 200 OK <code>{ \"token\": &lt;token&gt; }</code> 400 Bad Request <code>{ \"error\": \"Email y contrase\u00f1a son obligatorios\" }</code> 401 Unauthorized <code>{ \"error\": \"Credenciales inv\u00e1lidas\" }</code> <code>403 Forbidden</code> <code>{ \"error\": \"Usuario no activado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al loguear usuario\", \"detalle\": &lt;detalles&gt; }</code> No Requerido POST /api/usuarios/confirmar Confirma un usuario mediante email Body: <code>email</code> (string) <code>202 Accepted</code> <code>{ \"detalle\": \"Usuario con mail: &lt;email&gt; activado exitosamente\" }</code> 400 Bad Request <code>{ \"error\": \"Email es obligatorio\" }</code> 400 Not Found <code>{ \"error\": \"Usuario con ese mail no existe\" }</code> 400 Bad Request <code>{ \"error\": \"Usuario ya esta activado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al confirmar usuario\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin) DELETE /api/usuarios/:id Borra un usuario por ID Path: <code>usuarioId</code> (integer) 200 OK <code>{ \"detalle\": \"Usuario borrado exitosamente\" }</code> 400 Not Found <code>{ \"error\": \"Usuario no encontrado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al borrar usuario\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin) PUT /api/usuarios/:id Modifica un usuario por ID Path: <code>usuarioId</code> (integer) Body: <code>rol</code> (string, optional), <code>email</code> (string, optional), <code>activo</code> (boolean, optional) 200 OK <code>{ ...req.body }</code> 400 Bad Request <code>{ \"error\": \"Email inv\u00e1lido\" }</code> 400 Not Found <code>{ \"error\": \"Usuario no encontrado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al modificar usuario\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin) PUT /api/usuarios-contrasenia Cambia la contrase\u00f1a del usuario actual Body: <code>email</code> (string), <code>oldPassword</code> (string), <code>newPassword</code> (string), <code>confirmNewPassword</code> (string) 200 OK <code>{ \"message\": \"Contrase\u00f1a actualizada exitosamente\" }</code> 400 Bad Request <code>{ \"error\": \"Todos los campos son obligatorios\" }</code> <code>{ \"error\": \"Email inv\u00e1lido\" }</code> <code>{ \"error\": \"Las contrase\u00f1as no coinciden\" }</code> <code>{ \"error\": \"La contrase\u00f1a anterior y la nueva deben ser distintas\" }</code> <code>{ \"error\": \"La nueva contrase\u00f1a no es suficientemente fuerte\" }</code> 400 Not Found <code>{ \"error\": \"Usuario no encontrado\" }</code> 401 Unauthorized <code>{ \"error\": \"La contrase\u00f1a antigua es incorrecta\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al cambiar la contrase\u00f1a\", \"detalle\": &lt;detalles&gt; }</code> Requerido PUT /api/usuarios/usuarios-contrasenia-admin Cambia la contrase\u00f1a de otro usuario siendo admin Body: <code>email</code> (string), <code>newPassword</code> (string), <code>confirmNewPassword</code> (string) 200 OK <code>{ \"message\": \"Contrase\u00f1a actualizada exitosamente\" }</code> 400 Bad Request <code>{ \"error\": \"Todos los campos son obligatorios\" }</code> <code>{ \"error\": \"Email inv\u00e1lido\" }</code> <code>{ \"error\": \"Las contrase\u00f1as no coinciden\" }</code> <code>{ \"error\": \"La nueva contrase\u00f1a no es suficientemente fuerte\" }</code> 400 Not Found <code>{ \"error\": \"Usuario no encontrado\" }</code> 500 Internal Server Error <code>{ \"error\": \"Error al cambiar la contrase\u00f1a\", \"detalle\": &lt;detalles&gt; }</code> Requerido(Admin)"},{"location":"Metodos-HTTP/volquetas/","title":"Volquetas","text":""},{"location":"Metodos-HTTP/volquetas/#modelo-volquetas","title":"Modelo: <code>Volquetas</code>","text":""},{"location":"Metodos-HTTP/volquetas/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Volquetas</code> representa las volquetas utilizadas en la empresa para el manejo de residuos. Contiene informaci\u00f3n sobre el estado, tipo y ubicaci\u00f3n de las volquetas.</p>"},{"location":"Metodos-HTTP/volquetas/#campos","title":"Campos","text":"<ul> <li> <p><code>numeroVolqueta</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Clave primaria: S\u00ed</li> <li>Descripci\u00f3n: N\u00famero \u00fanico que identifica a la volqueta.</li> </ul> </li> <li> <p><code>estado</code>:</p> <ul> <li>Tipo: <code>ENUM('ok', 'quemada', 'para pintar', 'perdida', 'inutilizable')</code></li> <li>Permite valores nulos: S\u00ed</li> <li>Descripci\u00f3n: Estado actual de la volqueta. Puede ser 'ok', 'quemada', 'para pintar', 'perdida' o 'inutilizable'.</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM('grande', 'chica')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de la volqueta, puede ser 'grande' o 'chica'.</li> </ul> </li> <li> <p><code>ocupada</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Valor por defecto: <code>false</code></li> <li>Descripci\u00f3n: Indica si la volqueta est\u00e1 ocupada (s\u00ed o no).</li> </ul> </li> <li> <p><code>ubicacionTemporal</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Ubicaci\u00f3n temporal de la volqueta.</li> </ul> </li> </ul>"},{"location":"Metodos-HTTP/volquetas/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Movimientos</code>: 1 a N (Uno a Muchos)</li> </ul>"},{"location":"Modelos/cajas/","title":"Cajas","text":""},{"location":"Modelos/cajas/#modelo-cajas","title":"Modelo: <code>Cajas</code>","text":""},{"location":"Modelos/cajas/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Cajas</code> representa registros financieros en la caja, como gastos, ingresos, y otros movimientos contables. Cada registro incluye informaci\u00f3n sobre la fecha, motivo, descripci\u00f3n, moneda, monto, y referencias a empleados y pedidos relacionados.</p>"},{"location":"Modelos/cajas/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Cajas</code>.</li> </ul> </li> <li> <p><code>fecha</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha del movimiento registrado en la caja.</li> </ul> </li> <li> <p><code>motivo</code>:</p> <ul> <li>Tipo: <code>ENUM('vale', 'gasto', 'ingreso', 'ingreso pedido', 'ingreso cochera', 'extraccion')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Motivo del movimiento en la caja (vale, gasto, ingreso, etc.).</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n opcional del movimiento.</li> </ul> </li> <li> <p><code>moneda</code>:</p> <ul> <li>Tipo: <code>ENUM('peso', 'dolar')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de moneda en el registro (peso o d\u00f3lar).</li> </ul> </li> <li> <p><code>monto</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Monto del movimiento registrado en la caja.</li> </ul> </li> <li> <p><code>empleadoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Clave for\u00e1nea que referencia al <code>Empleado</code> que realiz\u00f3 el movimiento, si aplica.</li> </ul> </li> <li> <p><code>pedidoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Clave for\u00e1nea que referencia al <code>Pedido</code> asociado al movimiento, si aplica.</li> </ul> </li> </ul>"},{"location":"Modelos/cajas/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>Empleados</code><ul> <li>Tipo: N a 1 (Muchos a Uno)</li> </ul> </li> <li>Relaci\u00f3n con <code>Pedidos</code><ul> <li>Tipo: N a 1 (Muchos a Uno)</li> </ul> </li> </ol>"},{"location":"Modelos/camiones/","title":"Camiones","text":""},{"location":"Modelos/camiones/#modelo-camiones","title":"Modelo: <code>Camiones</code>","text":""},{"location":"Modelos/camiones/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Camiones</code> representa los veh\u00edculos utilizados en la empresa. Incluye informaci\u00f3n sobre la matr\u00edcula, modelo, a\u00f1o y estado del cami\u00f3n.</p>"},{"location":"Modelos/camiones/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Camiones</code>.</li> </ul> </li> <li> <p><code>matricula</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>\u00danico: Debe ser \u00fanico en la tabla.</li> <li>Validaciones:<ul> <li>No puede estar vac\u00edo.</li> </ul> </li> <li>Descripci\u00f3n: Matr\u00edcula del cami\u00f3n.</li> </ul> </li> <li> <p><code>modelo</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Validaciones:<ul> <li>No puede estar vac\u00edo.</li> </ul> </li> <li>Descripci\u00f3n: Modelo del cami\u00f3n.</li> </ul> </li> <li> <p><code>anio</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: A\u00f1o de fabricaci\u00f3n del cami\u00f3n.</li> </ul> </li> <li> <p><code>estado</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Estado actual del cami\u00f3n (por ejemplo, activo, en mantenimiento, etc.).</li> </ul> </li> </ul>"},{"location":"Modelos/camiones/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>HistoricoUsoCamion</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Servicios</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Movimientos</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Modelos/config/","title":"Config","text":""},{"location":"Modelos/config/#modelo-config","title":"Modelo: <code>Config</code>","text":""},{"location":"Modelos/config/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Config</code> representa la configuraci\u00f3n relacionada con precios y horas de trabajo. Incluye informaci\u00f3n sobre el precio sin IVA, el precio con IVA, el a\u00f1o de la configuraci\u00f3n y si la configuraci\u00f3n est\u00e1 activa.</p>"},{"location":"Modelos/config/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Config</code>.</li> </ul> </li> <li> <p><code>anio</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: A\u00f1o asociado a la configuraci\u00f3n.</li> </ul> </li> <li> <p><code>precioSinIva</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Precio base sin IVA.</li> </ul> </li> <li> <p><code>precioConIva</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Precio con IVA. Este campo se calcula autom\u00e1ticamente basado en <code>precioSinIva</code>.</li> </ul> </li> <li> <p><code>horasDeTrabajo</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: N\u00famero de horas de trabajo asociadas a la configuraci\u00f3n.</li> </ul> </li> <li> <p><code>configActiva</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Indica si la configuraci\u00f3n est\u00e1 activa (<code>true</code>) o no (<code>false</code>).</li> </ul> </li> </ul>"},{"location":"Modelos/config/#hooks","title":"Hooks","text":"<ul> <li> <p><code>beforeCreate</code>: Calcula el <code>precioConIva</code> antes de que se cree un nuevo registro. Si <code>precioSinIva</code> tiene un valor, <code>precioConIva</code> se establece en <code>precioSinIva * 1.22</code>.</p> </li> <li> <p><code>beforeUpdate</code>: Calcula el <code>precioConIva</code> antes de que se actualice un registro existente. Si <code>precioSinIva</code> tiene un valor, <code>precioConIva</code> se establece en <code>precioSinIva * 1.22</code>.</p> </li> </ul>"},{"location":"Modelos/config/#relaciones","title":"Relaciones","text":"<p>El modelo <code>Config</code> no tiene relaciones.</p>"},{"location":"Modelos/contacto-empresas/","title":"Contacto empresas","text":""},{"location":"Modelos/contacto-empresas/#modelo-contactoempresas","title":"Modelo: <code>ContactoEmpresas</code>","text":""},{"location":"Modelos/contacto-empresas/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>ContactoEmpresas</code> representa los contactos asociados a empresas. Este modelo incluye informaci\u00f3n sobre el nombre del contacto, una descripci\u00f3n opcional, un email y las relaciones con las empresas y obras asociadas.</p>"},{"location":"Modelos/contacto-empresas/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del contacto en la tabla <code>ContactoEmpresas</code>.</li> </ul> </li> <li> <p><code>nombre</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Nombre del contacto.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n adicional sobre el contacto.</li> </ul> </li> <li> <p><code>email</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Correo electr\u00f3nico del contacto. Debe ser un email v\u00e1lido (<code>validate: { isEmail: true }</code>).</li> </ul> </li> <li> <p><code>empresaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Referencia a la empresa a la que pertenece el contacto. Este campo es una clave for\u00e1nea que referencia al modelo <code>Empresas</code>.</li> </ul> </li> <li> <p><code>obraId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Referencia a una obra asociada al contacto. Este campo es una clave for\u00e1nea que referencia al modelo <code>Obras</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/contacto-empresas/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>Empresas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Obras</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Modelos/empleados/","title":"Empleados","text":""},{"location":"Modelos/empleados/#modelo-empleados","title":"Modelo: <code>Empleados</code>","text":""},{"location":"Modelos/empleados/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Empleados</code> representa a los empleados de la empresa. Este modelo incluye informaci\u00f3n sobre el nombre, rol, c\u00e9dula, estado de habilitaci\u00f3n, fechas de entrada y salida de la empresa, y direcci\u00f3n de cada empleado.</p>"},{"location":"Modelos/empleados/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del empleado en la tabla <code>Empleados</code>.</li> </ul> </li> <li> <p><code>nombre</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Nombre del empleado.</li> </ul> </li> <li> <p><code>rol</code>:</p> <ul> <li>Tipo: <code>ENUM</code></li> <li>Valores permitidos: <code>'admin'</code>, <code>'normal'</code>, <code>'chofer'</code>.</li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Rol del empleado dentro de la empresa.</li> </ul> </li> <li> <p><code>cedula</code>:</p> <ul> <li>Tipo: <code>STRING(8)</code></li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed.</li> <li>Descripci\u00f3n: C\u00e9dula del empleado. Debe ser \u00fanica en la tabla <code>Empleados</code>.</li> </ul> </li> <li> <p><code>habilitado</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Valor por defecto: <code>true</code>.</li> <li>Descripci\u00f3n: Estado de habilitaci\u00f3n del empleado. Indica si el empleado est\u00e1 habilitado o no.</li> </ul> </li> <li> <p><code>fechaEntrada</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>Descripci\u00f3n: Fecha en la que el empleado comenz\u00f3 a trabajar.</li> </ul> </li> <li> <p><code>fechaSalida</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>Valor por defecto: <code>null</code>.</li> <li>Descripci\u00f3n: Fecha en la que el empleado dej\u00f3 de trabajar. Si el empleado sigue trabajando, este campo ser\u00e1 <code>null</code>.</li> </ul> </li> <li> <p><code>direccion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Direcci\u00f3n del empleado.</li> </ul> </li> </ul>"},{"location":"Modelos/empleados/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>Usuarios</code><ul> <li>Tipo: 1 a 1</li> </ul> </li> <li>Relaci\u00f3n con <code>HistoricoUsoCamion</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Jornales</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Telefonos</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Cajas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Sugerencias</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Modelos/empresas/","title":"Empresas","text":""},{"location":"Modelos/empresas/#modelo-empresas","title":"Modelo: <code>Empresas</code>","text":""},{"location":"Modelos/empresas/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Empresas</code> representa a las empresas dentro del sistema. Este modelo incluye informaci\u00f3n sobre el RUT, nombre, raz\u00f3n social y descripci\u00f3n de cada empresa.</p>"},{"location":"Modelos/empresas/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico de la empresa en la tabla <code>Empresas</code>.</li> </ul> </li> <li> <p><code>rut</code>:</p> <ul> <li>Tipo: <code>STRING(12)</code></li> <li>\u00danico: S\u00ed.</li> <li>Descripci\u00f3n: RUT (Rol \u00danico Tributario) de la empresa. Este campo puede ser nulo y debe ser \u00fanico si se proporciona.</li> </ul> </li> <li> <p><code>nombre</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Nombre de la empresa.</li> </ul> </li> <li> <p><code>razonSocial</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Raz\u00f3n social de la empresa. Es un campo opcional.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Descripci\u00f3n adicional sobre la empresa. Es un campo opcional.</li> </ul> </li> </ul>"},{"location":"Modelos/empresas/#relaciones","title":"Relaciones","text":"<ol> <li>Relaci\u00f3n con <code>ContactoEmpresas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Obras</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Permisos</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> <li>Relaci\u00f3n con <code>Cajas</code><ul> <li>Tipo: 1 a N (Uno a Muchos)</li> </ul> </li> </ol>"},{"location":"Modelos/facturas/","title":"Facturas","text":""},{"location":"Modelos/facturas/#modelo-facturas","title":"Modelo: <code>Facturas</code>","text":""},{"location":"Modelos/facturas/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Facturas</code> representa una factura en el sistema. Incluye informaci\u00f3n sobre el tipo de factura, numeraci\u00f3n, estado, fecha de pago, monto y descripci\u00f3n.</p>"},{"location":"Modelos/facturas/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico de la factura en la tabla <code>Facturas</code>.</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM('credito', 'contado', 'recibo')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de la factura (cr\u00e9dito, contado, recibo).</li> </ul> </li> <li> <p><code>numeracion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>\u00danico: S\u00ed.</li> <li>Descripci\u00f3n: N\u00famero de la factura. Debe ser \u00fanico en el sistema.</li> </ul> </li> <li> <p><code>estado</code>:</p> <ul> <li>Tipo: <code>ENUM('pendiente', 'pagada', 'anulada')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Estado de la factura (pendiente, pagada, anulada).</li> </ul> </li> <li> <p><code>fechaPago</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>Descripci\u00f3n: Fecha en la que se realiz\u00f3 el pago de la factura. Es opcional.</li> </ul> </li> <li> <p><code>monto</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>Descripci\u00f3n: Monto total de la factura.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Descripci\u00f3n adicional sobre la factura.</li> </ul> </li> <li> <p><code>particularId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del cliente particular asociado a la factura. Referencia al modelo <code>Particulares</code>.</li> </ul> </li> <li> <p><code>empresaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la empresa asociada a la factura. Referencia al modelo <code>Empresas</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/facturas/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Particulares</code>: 1 a N (Uno a Muchos)</li> <li>Relaci\u00f3n con <code>Empresas</code>: 1 a N (Uno a Muchos)</li> </ul>"},{"location":"Modelos/historico-uso-camion/","title":"Historico uso camion","text":""},{"location":"Modelos/historico-uso-camion/#modelo-historicousocamion","title":"Modelo: <code>HistoricoUsoCamion</code>","text":""},{"location":"Modelos/historico-uso-camion/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>HistoricoUsoCamion</code> registra el historial de uso de camiones por parte de empleados. Incluye informaci\u00f3n sobre el empleado, el cami\u00f3n, y las fechas de inicio y fin del uso del cami\u00f3n.</p>"},{"location":"Modelos/historico-uso-camion/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>HistoricoUsoCamion</code>.</li> </ul> </li> <li> <p><code>empleadoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del empleado que utiliz\u00f3 el cami\u00f3n. Referencia al modelo <code>Empleados</code>.</li> </ul> </li> <li> <p><code>camionId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del cami\u00f3n que fue utilizado. Referencia al modelo <code>Camiones</code>.</li> </ul> </li> <li> <p><code>fechaInicio</code>:</p> <ul> <li>Tipo: <code>DATE</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha de inicio del uso del cami\u00f3n.</li> </ul> </li> <li> <p><code>fechaFin</code>:</p> <ul> <li>Tipo: <code>DATE</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Fecha de finalizaci\u00f3n del uso del cami\u00f3n. Es opcional si el cami\u00f3n a\u00fan est\u00e1 en uso.</li> </ul> </li> </ul>"},{"location":"Modelos/historico-uso-camion/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Camiones</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Modelos/jornales/","title":"Jornales","text":""},{"location":"Modelos/jornales/#modelo-jornales","title":"Modelo: <code>Jornales</code>","text":""},{"location":"Modelos/jornales/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Jornales</code> registra los detalles de los turnos de trabajo de los empleados, incluyendo las horas de entrada y salida, y el c\u00e1lculo de horas extra. Tambi\u00e9n incluye informaci\u00f3n sobre el tipo de jornal y qui\u00e9n lo cre\u00f3.</p>"},{"location":"Modelos/jornales/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Jornales</code>.</li> </ul> </li> <li> <p><code>empleadoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del empleado al que corresponde el jornal. Referencia al modelo <code>Empleados</code>.</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM</code></li> <li>Valores posibles: <code>'trabajo'</code>, <code>'licencia'</code>, <code>'enfermedad'</code>, <code>'falta'</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de jornal registrado.</li> </ul> </li> <li> <p><code>fecha</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha del jornal.</li> </ul> </li> <li> <p><code>entrada</code>:</p> <ul> <li>Tipo: <code>TIME</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Hora de entrada del empleado.</li> </ul> </li> <li> <p><code>salida</code>:</p> <ul> <li>Tipo: <code>TIME</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Hora de salida del empleado.</li> </ul> </li> <li> <p><code>horasExtra</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>Valor por defecto: <code>0</code></li> <li>Descripci\u00f3n: Horas extra calculadas, basadas en el l\u00edmite de horas diarias.</li> </ul> </li> <li> <p><code>creadoPor</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del usuario que cre\u00f3 el registro del jornal. Referencia al modelo <code>Usuarios</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/jornales/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Usuarios</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Modelos/movimientos/","title":"Movimientos","text":""},{"location":"Modelos/movimientos/#modelo-movimientos","title":"Modelo: <code>Movimientos</code>","text":""},{"location":"Modelos/movimientos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Movimientos</code> registra los movimientos de las volquetas asociados a pedidos. Incluye informaci\u00f3n sobre el n\u00famero de volqueta, el pedido asociado, el horario del movimiento, el tipo de movimiento y el chofer responsable.</p>"},{"location":"Modelos/movimientos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Movimientos</code>.</li> </ul> </li> <li> <p><code>numeroVolqueta</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: N\u00famero de la volqueta asociada al movimiento. Referencia al campo <code>numeroVolqueta</code> del modelo <code>Volquetas</code>.</li> </ul> </li> <li> <p><code>pedidoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pedido asociado al movimiento. Referencia al campo <code>id</code> del modelo <code>Pedidos</code>.</li> </ul> </li> <li> <p><code>horario</code>:</p> <ul> <li>Tipo: <code>DATE</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha y hora del movimiento.</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM</code></li> <li>Valores posibles: <code>'entrega'</code>, <code>'levante'</code></li> <li>Descripci\u00f3n: Tipo de movimiento registrado.</li> </ul> </li> <li> <p><code>choferId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del chofer responsable del movimiento. Referencia al campo <code>id</code> del modelo <code>Empleados</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/movimientos/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Volquetas</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Pedidos</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Modelos/obra-detalles/","title":"Obra detalles","text":""},{"location":"Modelos/obra-detalles/#modelo-obradetalles","title":"Modelo: <code>ObraDetalles</code>","text":""},{"location":"Modelos/obra-detalles/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>ObraDetalles</code> almacena informaci\u00f3n detallada sobre el manejo de residuos en una obra espec\u00edfica. Incluye datos sobre el tipo de residuos, su destino final, y la frecuencia de recolecci\u00f3n.</p>"},{"location":"Modelos/obra-detalles/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>ObraDetalles</code>.</li> </ul> </li> <li> <p><code>detalleResiduos</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n de los residuos gestionados en la obra.</li> </ul> </li> <li> <p><code>residuosMezclados</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Indica si los residuos est\u00e1n mezclados.</li> </ul> </li> <li> <p><code>residuosReciclados</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Indica si los residuos est\u00e1n reciclados.</li> </ul> </li> <li> <p><code>frecuenciaSemanal</code>:</p> <ul> <li>Tipo: <code>RANGE(DataTypes.INTEGER)</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Rango de frecuencia semanal para la recolecci\u00f3n de residuos.</li> </ul> </li> <li> <p><code>destinoFinal</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Destino final de los residuos.</li> </ul> </li> <li> <p><code>dias</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: D\u00edas de la semana en los que se realiza la recolecci\u00f3n.</li> </ul> </li> <li> <p><code>obraId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la obra asociada. Referencia al campo <code>id</code> del modelo <code>Obras</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/obra-detalles/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Obras</code>: 1 a 1 (Uno a Uno)</li> </ul>"},{"location":"Modelos/obras/","title":"Obras","text":""},{"location":"Modelos/obras/#modelo-obras","title":"Modelo: <code>Obras</code>","text":""},{"location":"Modelos/obras/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Obras</code> representa una obra con detalles como la ubicaci\u00f3n, descripci\u00f3n y estado activo. Puede estar asociada tanto a una empresa como a un particular.</p>"},{"location":"Modelos/obras/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Obras</code>.</li> </ul> </li> <li> <p><code>calle</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Nombre de la calle donde se encuentra la obra.</li> </ul> </li> <li> <p><code>esquina</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Esquina o cruce relevante para la ubicaci\u00f3n de la obra.</li> </ul> </li> <li> <p><code>barrio</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Barrio donde se encuentra la obra.</li> </ul> </li> <li> <p><code>coordenadas</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Coordenadas geogr\u00e1ficas de la ubicaci\u00f3n de la obra.</li> </ul> </li> <li> <p><code>numeroPuerta</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: N\u00famero de puerta asociado a la obra.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n detallada de la obra.</li> </ul> </li> <li> <p><code>activa</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Valor por defecto: <code>true</code></li> <li>Descripci\u00f3n: Indica si la obra est\u00e1 activa.</li> </ul> </li> <li> <p><code>particularId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del particular asociado a la obra. Referencia al campo <code>id</code> del modelo <code>Particulares</code>.</li> </ul> </li> <li> <p><code>empresaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la empresa asociada a la obra. Referencia al campo <code>id</code> del modelo <code>Empresas</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/obras/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Particulares</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Empresas</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Modelos/pago-pedidos/","title":"Pago pedidos","text":""},{"location":"Modelos/pago-pedidos/#modelo-pagopedidos","title":"Modelo: <code>PagoPedidos</code>","text":""},{"location":"Modelos/pago-pedidos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>PagoPedidos</code> representa el pago asociado a un pedido, con detalles como el precio, el estado de pago, el remito y el tipo de pago.</p>"},{"location":"Modelos/pago-pedidos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>PagoPedidos</code>.</li> </ul> </li> <li> <p><code>precio</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Monto del pago.</li> </ul> </li> <li> <p><code>pagado</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Valor por defecto: <code>false</code></li> <li>Descripci\u00f3n: Indica si el pago ha sido realizado o no.</li> </ul> </li> <li> <p><code>remito</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: N\u00famero de remito asociado al pago.</li> </ul> </li> <li> <p><code>tipoPago</code>:</p> <ul> <li>Tipo: <code>ENUM('transferencia', 'efectivo', 'cheque')</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de pago utilizado.</li> </ul> </li> <li> <p><code>facturaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la factura asociada al pago. Referencia al campo <code>id</code> del modelo <code>Facturas</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/pago-pedidos/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Facturas</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Modelos/particulares/","title":"Particulares","text":""},{"location":"Modelos/particulares/#modelo-particulares","title":"Modelo: <code>Particulares</code>","text":""},{"location":"Modelos/particulares/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Particulares</code> representa a un cliente individual, con detalles como nombre, c\u00e9dula, correo electr\u00f3nico y una descripci\u00f3n adicional.</p>"},{"location":"Modelos/particulares/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del registro en la tabla <code>Particulares</code>.</li> </ul> </li> <li> <p><code>nombre</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Nombre del cliente.</li> </ul> </li> <li> <p><code>cedula</code>:</p> <ul> <li>Tipo: <code>STRING(8)</code></li> <li>\u00danico.</li> <li>Descripci\u00f3n: C\u00e9dula del cliente. Debe ser \u00fanica en la base de datos.</li> </ul> </li> <li> <p><code>email</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Correo electr\u00f3nico del cliente.</li> <li>Validaci\u00f3n: Debe ser una direcci\u00f3n de correo electr\u00f3nico v\u00e1lida.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Descripci\u00f3n adicional sobre el cliente.</li> </ul> </li> </ul>"},{"location":"Modelos/particulares/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Obras</code>: 1 a N (Uno a Muchos)</li> </ul>"},{"location":"Modelos/pedidos/","title":"Pedidos","text":""},{"location":"Modelos/pedidos/#modelo-pedidos","title":"Modelo: <code>Pedidos</code>","text":""},{"location":"Modelos/pedidos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Pedidos</code> representa los pedidos realizados en el sistema, con informaci\u00f3n sobre su estado, la obra asociada, el usuario que lo cre\u00f3 y otros detalles relevantes.</p>"},{"location":"Modelos/pedidos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental y clave primaria.</li> <li>Descripci\u00f3n: Identificador \u00fanico del pedido.</li> </ul> </li> <li> <p><code>creadoPor</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del usuario que cre\u00f3 el pedido.</li> <li>Referencia: Relacionado con el modelo <code>Usuarios</code>.</li> </ul> </li> <li> <p><code>obraId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la obra asociada al pedido.</li> <li>Referencia: Relacionado con el modelo <code>Obras</code>.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Descripci\u00f3n adicional del pedido.</li> <li>Permite valores nulos.</li> </ul> </li> <li> <p><code>estado</code>:</p> <ul> <li>Tipo: <code>ENUM</code></li> <li>Valores posibles: <code>'iniciado'</code>, <code>'entregado'</code>, <code>'levantado'</code>, <code>'cancelado'</code>.</li> <li>Valor por defecto: <code>'iniciado'</code>.</li> <li>Descripci\u00f3n: Estado actual del pedido.</li> </ul> </li> <li> <p><code>creadoComo</code>:</p> <ul> <li>Tipo: <code>ENUM</code></li> <li>Valores posibles: <code>'nuevo'</code>, <code>'recambio'</code>, <code>'multiple'</code>, <code>'entrega mas levante'</code>.</li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de pedido creado.</li> </ul> </li> <li> <p><code>permisoId</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del permiso asociado al pedido.</li> <li>Referencia: Relacionado con el modelo <code>Permisos</code>.</li> </ul> </li> <li> <p><code>nroPesada</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: N\u00famero de pesada asociado al pedido.</li> </ul> </li> <li> <p><code>pagoPedidoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pago asociado al pedido.</li> <li>Referencia: Relacionado con el modelo <code>PagoPedidos</code>.</li> </ul> </li> <li> <p><code>referenciaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pedido de referencia (en caso de ser un pedido relacionado con otro).</li> <li>Referencia: Relacionado con el modelo <code>Pedidos</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/pedidos/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Usuarios</code>: 1 a N (Uno a Muchos)</li> <li>Relaci\u00f3n con <code>Obras</code>: 1 a N (Uno a Muchos)</li> <li>Relaci\u00f3n con <code>Permisos</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>PagoPedidos</code>: 1 a 1 (Uno a Uno)</li> <li>Relaci\u00f3n con <code>Pedidos</code>: 1 a N (Uno a Muchos, auto-referencia)</li> <li>Relaci\u00f3n con <code>Movimientos</code>: 1 a 2 (Uno a Dos)</li> <li>Relaci\u00f3n con <code>Sugerencias</code>: 1 a 2 (Uno a Dos)</li> </ul>"},{"location":"Modelos/permisos/","title":"Permisos","text":""},{"location":"Modelos/permisos/#modelo-permisos","title":"Modelo: <code>Permisos</code>","text":""},{"location":"Modelos/permisos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Permisos</code> representa los permisos asociados a las empresas o particulares, con informaci\u00f3n sobre su fecha de creaci\u00f3n y vencimiento.</p>"},{"location":"Modelos/permisos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed</li> <li>Descripci\u00f3n: N\u00famero \u00fanico del permiso.</li> </ul> </li> <li> <p><code>fechaCreacion</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha en que se cre\u00f3 el permiso.</li> </ul> </li> <li> <p><code>fechaVencimiento</code>:</p> <ul> <li>Tipo: <code>DATEONLY</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Fecha en que vence el permiso.</li> </ul> </li> <li> <p><code>empresaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador de la empresa asociada al permiso.</li> <li>Referencia: Relacionado con el modelo <code>Empresas</code>.</li> </ul> </li> <li> <p><code>particularId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del particular asociado al permiso.</li> <li>Referencia: Relacionado con el modelo <code>Particulares</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/permisos/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empresas</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Particulares</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Modelos/servicios/","title":"Servicios","text":""},{"location":"Modelos/servicios/#modelo-servicios","title":"Modelo: <code>Servicios</code>","text":""},{"location":"Modelos/servicios/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Servicios</code> representa los diferentes tipos de servicios realizados a los camiones, incluyendo informaci\u00f3n sobre el tipo de servicio, la fecha, el precio, y la moneda.</p>"},{"location":"Modelos/servicios/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li>Descripci\u00f3n: Identificador \u00fanico del servicio.</li> </ul> </li> <li> <p><code>camionId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del cami\u00f3n al que se le realiz\u00f3 el servicio.</li> <li>Referencia: Relacionado con el modelo <code>Camiones</code>.</li> </ul> </li> <li> <p><code>fecha</code>:</p> <ul> <li>Tipo: <code>DATE</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Fecha en que se realiz\u00f3 el servicio.</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM('arreglo', 'service', 'chequeo', 'pintura')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de servicio realizado.</li> </ul> </li> <li> <p><code>precio</code>:</p> <ul> <li>Tipo: <code>FLOAT</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Costo del servicio.</li> </ul> </li> <li> <p><code>moneda</code>:</p> <ul> <li>Tipo: <code>ENUM('peso', 'dolar')</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Moneda en la que se pag\u00f3 el servicio.</li> </ul> </li> <li> <p><code>descripcion</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Descripci\u00f3n detallada del servicio.</li> </ul> </li> </ul>"},{"location":"Modelos/servicios/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Camiones</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Modelos/sugerencias/","title":"Sugerencias","text":""},{"location":"Modelos/sugerencias/#modelo-sugerencias","title":"Modelo: <code>Sugerencias</code>","text":""},{"location":"Modelos/sugerencias/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Sugerencias</code> representa las sugerencias asociadas a pedidos, incluyendo el horario sugerido, el chofer recomendado y el tipo de sugerencia (entrega o levante).</p>"},{"location":"Modelos/sugerencias/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li>Descripci\u00f3n: Identificador \u00fanico de la sugerencia.</li> </ul> </li> <li> <p><code>horarioSugerido</code>:</p> <ul> <li>Tipo: <code>DATE</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Horario sugerido para la acci\u00f3n recomendada.</li> </ul> </li> <li> <p><code>choferSugeridoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del chofer recomendado para el pedido.</li> <li>Referencia: Relacionado con el modelo <code>Empleados</code>.</li> </ul> </li> <li> <p><code>tipoSugerido</code>:</p> <ul> <li>Tipo: <code>ENUM('entrega', 'levante')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de acci\u00f3n sugerida (entrega o levante).</li> </ul> </li> <li> <p><code>pedidoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del pedido asociado a la sugerencia.</li> <li>Referencia: Relacionado con el modelo <code>Pedidos</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/sugerencias/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Pedidos</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Modelos/telefonos/","title":"Telefonos","text":""},{"location":"Modelos/telefonos/#modelo-telefonos","title":"Modelo: <code>Telefonos</code>","text":""},{"location":"Modelos/telefonos/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Telefonos</code> representa la informaci\u00f3n de contacto telef\u00f3nico, que puede estar asociada a empleados, particulares, o contactos de empresas.</p>"},{"location":"Modelos/telefonos/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li>Descripci\u00f3n: Identificador \u00fanico del tel\u00e9fono.</li> </ul> </li> <li> <p><code>telefono</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed</li> <li>Descripci\u00f3n: N\u00famero de tel\u00e9fono.</li> </ul> </li> <li> <p><code>extension</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Extensi\u00f3n telef\u00f3nica (opcional).</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM('telefono', 'celular')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de tel\u00e9fono (tel\u00e9fono fijo o celular).</li> </ul> </li> <li> <p><code>empleadoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del empleado asociado al tel\u00e9fono.</li> <li>Referencia: Relacionado con el modelo <code>Empleados</code>.</li> </ul> </li> <li> <p><code>particularId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del particular asociado al tel\u00e9fono.</li> <li>Referencia: Relacionado con el modelo <code>Particulares</code>.</li> </ul> </li> <li> <p><code>contactoEmpresaId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del contacto de la empresa asociado al tel\u00e9fono.</li> <li>Referencia: Relacionado con el modelo <code>ContactoEmpresas</code>.</li> </ul> </li> </ul>"},{"location":"Modelos/telefonos/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>Particulares</code>: N a 1 (Muchos a Uno)</li> <li>Relaci\u00f3n con <code>ContactoEmpresas</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Modelos/usuarios/","title":"Usuarios","text":""},{"location":"Modelos/usuarios/#modelo-usuarios","title":"Modelo: <code>Usuarios</code>","text":""},{"location":"Modelos/usuarios/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Usuarios</code> representa los usuarios del sistema, que est\u00e1n asociados a empleados y tienen roles espec\u00edficos.</p>"},{"location":"Modelos/usuarios/#campos","title":"Campos","text":"<ul> <li> <p><code>id</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Auto-incremental: S\u00ed</li> <li>Clave primaria: S\u00ed</li> <li>Descripci\u00f3n: Identificador \u00fanico del usuario.</li> </ul> </li> <li> <p><code>empleadoId</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Identificador del empleado asociado al usuario.</li> <li>Referencia: Relacionado con el modelo <code>Empleados</code>.</li> </ul> </li> <li> <p><code>rol</code>:</p> <ul> <li>Tipo: <code>ENUM('admin', 'normal')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Rol del usuario en el sistema (administrador o usuario normal).</li> </ul> </li> <li> <p><code>email</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Validaci\u00f3n: Debe ser una direcci\u00f3n de correo electr\u00f3nico v\u00e1lida.</li> <li>\u00danico: S\u00ed</li> <li>Descripci\u00f3n: Correo electr\u00f3nico del usuario.</li> </ul> </li> <li> <p><code>password</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>No permite valores nulos.</li> <li>\u00danico: S\u00ed</li> <li>Descripci\u00f3n: Contrase\u00f1a del usuario.</li> </ul> </li> <li> <p><code>activo</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Valor por defecto: <code>false</code></li> <li>Descripci\u00f3n: Estado del usuario (activo o inactivo).</li> </ul> </li> </ul>"},{"location":"Modelos/usuarios/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Empleados</code>: N a 1 (Muchos a Uno)</li> </ul>"},{"location":"Modelos/volquetas/","title":"Volquetas","text":""},{"location":"Modelos/volquetas/#modelo-volquetas","title":"Modelo: <code>Volquetas</code>","text":""},{"location":"Modelos/volquetas/#descripcion","title":"Descripci\u00f3n","text":"<p>El modelo <code>Volquetas</code> representa las volquetas utilizadas en la empresa para el manejo de residuos. Contiene informaci\u00f3n sobre el estado, tipo y ubicaci\u00f3n de las volquetas.</p>"},{"location":"Modelos/volquetas/#campos","title":"Campos","text":"<ul> <li> <p><code>numeroVolqueta</code>:</p> <ul> <li>Tipo: <code>INTEGER</code></li> <li>Clave primaria: S\u00ed</li> <li>Descripci\u00f3n: N\u00famero \u00fanico que identifica a la volqueta.</li> </ul> </li> <li> <p><code>estado</code>:</p> <ul> <li>Tipo: <code>ENUM('ok', 'quemada', 'para pintar', 'perdida', 'inutilizable')</code></li> <li>Permite valores nulos: S\u00ed</li> <li>Descripci\u00f3n: Estado actual de la volqueta. Puede ser 'ok', 'quemada', 'para pintar', 'perdida' o 'inutilizable'.</li> </ul> </li> <li> <p><code>tipo</code>:</p> <ul> <li>Tipo: <code>ENUM('grande', 'chica')</code></li> <li>No permite valores nulos.</li> <li>Descripci\u00f3n: Tipo de la volqueta, puede ser 'grande' o 'chica'.</li> </ul> </li> <li> <p><code>ocupada</code>:</p> <ul> <li>Tipo: <code>BOOLEAN</code></li> <li>Valor por defecto: <code>false</code></li> <li>Descripci\u00f3n: Indica si la volqueta est\u00e1 ocupada (s\u00ed o no).</li> </ul> </li> <li> <p><code>ubicacionTemporal</code>:</p> <ul> <li>Tipo: <code>STRING</code></li> <li>Descripci\u00f3n: Ubicaci\u00f3n temporal de la volqueta.</li> </ul> </li> </ul>"},{"location":"Modelos/volquetas/#relaciones","title":"Relaciones","text":"<ul> <li>Relaci\u00f3n con <code>Movimientos</code>: 1 a N (Uno a Muchos)</li> </ul>"}]}