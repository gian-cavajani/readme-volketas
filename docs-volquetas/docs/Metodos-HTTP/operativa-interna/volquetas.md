---
hide:
    - toc
---

## Volquetas

| Método HTTP | Endpoint                     | Descripción                                                                          | Parámetros (Body/Query/Path)                                | Respuesta Exitosa                                                    | Respuesta de Error                                                                                                                                                                                                                                                                                                    | Token de Login   |
| ----------- | ---------------------------- | ------------------------------------------------------------------------------------ | ----------------------------------------------------------- | -------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------- |
| POST        | /api/volquetas               | Crea una nueva volqueta.                                                             | Body: `numeroVolqueta`, `estado`, `tipo`                    | 201 Created <br>`{ id, numeroVolqueta, estado, tipo }`               | 400 Bad Request <br>`{ error: 'Tipo inválido' }` <br>`{ error: 'Estado inválido' }` <br>`{ error: 'Numero de volqueta es obligatorio' }` <br>500 Internal Server Error <br>`{ error: 'Error al crear la volqueta', detalle: [errors] }`                                                                               | Requerido        |
| GET         | /api/volquetas/:id           | Obtiene una volqueta por su número, incluyendo movimientos si se especifican fechas. | Path: `numeroVolqueta` <br>Query: `fechaInicio`, `fechaFin` | 200 OK <br>`{ id, numeroVolqueta, estado, tipo, Movimientos }`       | 400 Bad Request <br>`{ error: 'FechaFin debe ser despues de fechaInicio' }` <br>400 Not Found <br>`{ error: 'Volqueta no encontrada' }` <br>500 Internal Server Error <br>`{ error: 'Error al obtener movimientos de la volqueta', detalle: [errors] }`                                                               | Requerido        |
| GET         | /api/volquetas               | Obtiene todas las volquetas con sus últimos movimientos.                             | N/A                                                         | 200 OK <br>`[ { id, numeroVolqueta, estado, tipo, Movimientos } ]`   | 500 Internal Server Error <br>`{ error: 'Error al obtener volquetas con sus últimos movimientos', detalle: [errors] }`                                                                                                                                                                                                | Requerido        |
| PUT         | /api/volquetas/:id           | Actualiza una volqueta por su número.                                                | Path: `numeroVolqueta` <br>Body: `estado`, `tipo`           | 200 OK <br>`{ id, numeroVolqueta, estado, tipo }`                    | 400 Bad Request <br>`{ error: 'Tipo inválido' }` <br>`{ error: 'Estado inválido' }` <br>400 Not Found <br>`{ error: 'Volqueta no encontrada' }` <br>500 Internal Server Error <br>`{ error: 'Error al actualizar la volqueta', detalle: [errors] }`                                                                   | Requerido        |
| DELETE      | /api/volquetas/:id           | Elimina una volqueta por su número.                                                  | Path: `numeroVolqueta`                                      | `204 No Content` <br>`{ detalle: 'Volqueta eliminada' }`             | 400 Not Found <br>`{ error: 'Volqueta no encontrada' }` <br>500 Internal Server Error <br>`{ error: 'Error al borrar la volqueta', detalle: [errors] }`                                                                                                                                                               | Requerido(Admin) |
| PUT         | /api/volquetas-ubicacion/:id | Actualiza la ubicación temporal de una volqueta.                                     | Path: `numeroVolqueta` <br>Body: `ubicacionTemporal`        | 200 OK <br>`{ id, numeroVolqueta, estado, tipo, ubicacionTemporal }` | 400 Bad Request <br>`{ error: 'Debe ingresar una ubicacion' }` <br>`{ error: 'Volqueta esta ocupada, no se puede cambiar la ubicacion manualmente' }` <br>400 Not Found <br>`{ error: 'Volqueta no encontrada' }` <br>500 Internal Server Error <br>`{ error: 'Error al actualizar la volqueta', detalle: [errors] }` | Requerido        |
| GET         | /api/volquetas-48hs          | Obtiene los pedidos con volquetas que llevan más de 48 horas en la calle.            | Query: `numero`                                             | 200 OK <br>`[ { id, horario, numeroVolqueta, Obras } ]`              | 500 Internal Server Error <br>`{ error: 'Error al obtener los pedidos con volquetas con mas de 48hs en la calle', detalle: [errors] }`                                                                                                                                                                                | Requerido        |
