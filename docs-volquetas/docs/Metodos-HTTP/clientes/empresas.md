---
hide:
    - toc
---
## Empresa

| Método HTTP | Endpoint             | Descripción                         | Parámetros (Body/Query/Path)                                                                                                                                                        | Respuesta Exitosa                                                                   | Respuesta de Error                                                                                                                                                                                                                                                                                                 | Token de Login   |
| ----------- | -------------------- | ----------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------- |
| POST        | /api/empresas        | Crea una nueva empresa              | **Body:** <br>- `rut` (opcional, 12 caracteres) <br>- `nombre` (requerido) <br>- `descripcion` (opcional) <br>- `razonSocial` (opcional)                                            | 201 Created <br>`{ id, rut, nombre, descripcion, razonSocial }`                     | 400 Bad Request <br>`{ error: 'El RUT debe tener 12 caracteres.' }` <br>`{ error: 'El nombre de la empresa es obligatorio' }` <br>500 Internal Server Error <br>`{ error: 'Error al crear empresa', detalle: [lista de errores] }`                                                                                 | Requerido        |
| GET         | /api/empresas/:id    | Obtiene los detalles de una empresa | **Path:** <br>- `empresaId` (requerido)                                                                                                                                             | 200 OK <br>`{ id, rut, nombre, descripcion, razonSocial, ... }`                     | 400 Not Found <br>`{ error: 'Empresa no encontrada' }` <br>500 Internal Server Error <br>`{ error: 'Error al obtener empresa', detalle: [lista de errores] }`                                                                                                                                                      | Requerido        |
| GET         | /api/empresas        | Obtiene todas las empresas          | \- Sin parámetros                                                                                                                                                                   | 200 OK <br>`[{ id, nombre, rut }, ...]`                                             | 500 Internal Server Error <br>`{ error: 'Error al obtener empresas', detalle: [lista de errores] }`                                                                                                                                                                                                                | Requerido        |
| GET         | /api/empresas/buscar | Busca empresas según criterios      | **Query:** <br>- `rut` (opcional) <br>- `nombre` (opcional) <br>- `razonSocial` (opcional) <br>- `letraInicial` (opcional, una letra)                                               | 200 OK <br>`[{ id, rut, nombre, descripcion, razonSocial }, ...]`                   | 400 Bad Request <br>`{ error: 'Debe proporcionar al menos un parámetro de búsqueda (rut, nombre, razonSocial, letraInicial).' }` <br>`{ error: 'La búsqueda por letra inicial debe tener solo una letra' }` <br>500 Internal Server Error <br>`{ error: 'Error al buscar empresas', detalle: [lista de errores] }` | Requerido        |
| PUT         | /api/empresas/:id    | Actualiza una empresa existente     | **Path:** <br>- `empresaId` (requerido) <br>**Body:** <br>- `rut` (opcional, 12 caracteres) <br>- `nombre` (opcional) <br>- `descripcion` (opcional) <br>- `razonSocial` (opcional) | 200 OK <br>`{ id, rut, nombre, descripcion, razonSocial }`                          | 400 Bad Request <br>`{ error: 'El RUT debe tener 12 caracteres.' }` <br>400 Not Found <br>`{ error: 'Empresa no encontrada' }` <br>500 Internal Server Error <br>`{ error: 'Error al modificar empresa', detalle: [lista de errores] }`                                                                            | Requerido        |
| DELETE      | /api/empresas/:id    | Elimina una empresa existente       | **Path:** <br>- `empresaId` (requerido)                                                                                                                                             | 200 OK <br>`{ detalle: 'Empresa con nombre {nombre} fue eliminado correctamente' }` | 400 Not Found <br>`{ error: 'La Empresa con ese id no existe' }` <br>500 Internal Server Error <br>`{ error: 'Error al borrar empresa', detalle: [lista de errores] }`                                                                                                                                             | Requerido(Admin) |
