
| **Código** | **Título**                     | **Descripción**                                                                                                               | **Actor** | **Precondición**                           | **Postcondición**                                                                 | **Flujo de Trabajo Principal**                                                                                                                                                                                                                                                                                                                                                                                               | **Flujo Alternativo**                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ---------- | ------------------------------ | ----------------------------------------------------------------------------------------------------------------------------- | --------- | ------------------------------------------ | --------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| CU01       | Ingresar Credenciales          | El usuario ingresa su email y contraseña.                                                                                     | Usuario   | El usuario tiene una cuenta registrada.    | Las credenciales son validadas.                                                   | 1. El usuario ingresa su email y contraseña en los campos correspondientes.  <br>2. El usuario hace clic en el botón "Login".  <br>3. El sistema valida que los campos no estén vacíos y que se pueda proceder con la autenticación.                                                                                                                                                                                         | 2a. Si el usuario no ha ingresado el email o contraseña, el botón de "Login" permanece deshabilitado.  <br>3a. Si el sistema detecta algún problema en la validación de los campos (por ejemplo, formato incorrecto de email), se muestra un mensaje de error.                                                                                                                                                                                    |
| CU02       | Autenticar Usuario             | El sistema autentica al usuario usando las credenciales proporcionadas.                                                       | Sistema   | Las credenciales son válidas.              | Se almacena el token de autenticación y se inicia la sesión.                      | 1. El sistema envía las credenciales ingresadas al servidor para su validación.  <br>2. El servidor valida las credenciales contra la base de datos de usuarios.  <br>3. Si las credenciales son válidas, el servidor devuelve un token de autenticación.  <br>4. El sistema almacena el token en el almacenamiento local y marca la sesión como activa.  <br>5. El usuario es redirigido a la página principal del sistema. | 3a. Si las credenciales no son válidas, el sistema redirige al flujo alternativo CU03.  <br>4a. Si ocurre un error durante el almacenamiento del token, el sistema muestra un mensaje de error e impide el acceso al usuario.                                                                                                                                                                                                                     |
| CU03       | Mostrar Error de Autenticación | Si las credenciales no son válidas, el sistema muestra un mensaje de error.                                                   | Sistema   | El usuario ingresó credenciales inválidas. | Se muestra un mensaje de error indicando la autenticación fallida.                | 1. El sistema detecta que las credenciales ingresadas no son válidas.  <br>2. El sistema muestra un mensaje de error al usuario indicando que la autenticación falló debido a credenciales incorrectas.  <br>3. El usuario tiene la opción de intentar nuevamente ingresando las credenciales correctas.                                                                                                                     | 2a. Si el usuario realiza múltiples intentos fallidos, el sistema podría implementar una medida de seguridad como bloquear temporalmente la cuenta del usuario o mostrar un captcha.                                                                                                                                                                                                                                                              |
| CU04       | Cerrar Sesión                  | El usuario cierra su sesión en el sistema.                                                                                    | Usuario   | El usuario tiene una sesión activa.        | La sesión del usuario se cierra, y el usuario es redirigido a la página de login. | 1. El usuario abre el menú de configuración en la barra lateral.  <br>2. El usuario selecciona la opción "Cerrar Sesión".  <br>3. El sistema limpia el almacenamiento local y de sesión.  <br>4. El sistema redirige al usuario a la página de login.                                                                                                                                                                        | 2a. Si ocurre un error al intentar limpiar el almacenamiento, el sistema muestra un mensaje de error y no cierra la sesión.  <br>4a. Si la redirección falla, el sistema muestra un mensaje de error y el usuario permanece en la página actual.                                                                                                                                                                                                  |
| CU05       | Crear Nuevo Usuario            | Permitir al usuario crear una nueva cuenta seleccionando su rol, ingresando su email y contraseña, y asociando a un empleado. | Usuario   | El usuario no tiene una cuenta registrada. | El nuevo usuario es creado y redirigido a la página de login.                     | 1. El usuario abre la página de registro.  <br>2. El usuario selecciona su rol (Normal o Admin).  <br>3. El usuario ingresa su email y contraseña.  <br>4. El usuario selecciona un empleado disponible.  <br>5. El usuario confirma la creación del usuario.  <br>6. El sistema valida los datos ingresados y crea el nuevo usuario.  <br>7. El sistema redirige al usuario a la página de login.                           | 3a. Si el email ya está registrado, se muestra un mensaje de error y se solicita al usuario ingresar un email diferente.  <br>4a. Si las contraseñas no coinciden, se muestra un mensaje de error y se solicita al usuario que las ingrese nuevamente.  <br>6a. Si ocurre un error en la creación del usuario (por ejemplo, problemas con la conexión), se muestra un mensaje de error y se solicita al usuario que intente nuevamente más tarde. |



### Confirmar Usuario

|**Código**|**Título**|**Descripción**|**Actor**|**Precondición**|**Postcondición**|**Flujo de Trabajo Principal**|**Flujo Alternativo**|
|---|---|---|---|---|---|---|---|
|CU01|Listar Usuarios Sin Confirmar|Mostrar la lista de usuarios sin confirmar, con opciones para filtrar por email y rol.|Admin|El administrador está autenticado.|Se muestra la lista de usuarios sin confirmar filtrada según los criterios seleccionados.|1. El administrador abre la página de confirmación de usuarios.  <br>2. El sistema obtiene la lista de usuarios no confirmados.  <br>3. El administrador selecciona filtros de email y/o rol.  <br>4. El sistema muestra la lista filtrada de usuarios.|4a. Si ocurre un error al obtener la lista de usuarios, se muestra un mensaje de error.|
|CU02|Filtrar Usuarios|Permitir al administrador filtrar usuarios sin confirmar por email y rol.|Admin|Hay usuarios sin confirmar en la lista.|La lista de usuarios se filtra según los criterios ingresados.|1. El administrador ingresa un email y/o selecciona un rol en los filtros.  <br>2. El sistema filtra y muestra la lista de usuarios sin confirmar según los filtros aplicados.|2a. Si no se encuentran usuarios que coincidan con los filtros, se muestra un mensaje indicando que no hay resultados.|
|CU03|Confirmar Usuario|Permitir al administrador confirmar un usuario seleccionado en la lista.|Admin|El usuario ha sido seleccionado de la lista.|El usuario seleccionado es confirmado y eliminado de la lista de usuarios sin confirmar.|1. El administrador selecciona un usuario y hace clic en "Confirmar".  <br>2. El sistema confirma al usuario y lo elimina de la lista de usuarios sin confirmar.|2a. Si ocurre un error durante la confirmación del usuario, se muestra un mensaje de error y el usuario no se confirma.|
|CU04|Mostrar Error de Confirmación|Mostrar un mensaje de error si ocurre un problema al intentar confirmar un usuario.|Sistema|Ocurre un error durante el proceso de confirmación.|Se muestra un mensaje de error indicando el problema al confirmar el usuario.|1. El sistema intenta confirmar al usuario seleccionado.  <br>2. Si ocurre un error, se muestra un mensaje de error al administrador.|-|
|CU05|Mostrar Usuarios en Pantallas Grandes|Mostrar la lista de usuarios sin confirmar en una tabla para dispositivos con pantallas medianas y grandes.|Sistema|El historial debe estar disponible.|El historial se presenta en formato de tabla.|1. El administrador accede a la página desde un dispositivo con pantalla mediana o grande.  <br>2. El sistema muestra la lista de usuarios en formato de tabla.|-|
|CU06|Mostrar Usuarios en Pantallas Pequeñas|Mostrar la lista de usuarios sin confirmar en un formato de lista para dispositivos con pantallas pequeñas.|Sistema|El historial debe estar disponible.|El historial se presenta en formato de lista.|1. El administrador accede a la página desde un dispositivo con pantalla pequeña.  <br>2. El sistema muestra la lista de usuarios en formato de lista.|-|
